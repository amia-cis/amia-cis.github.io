(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{6242:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(7462),i=n(3366),o=n(7294),a=n(6010),c=n(7192),s=n(1496),l=n(7623),u=n(5113),d=n(8979);function p(e){return(0,d.Z)("MuiCard",e)}(0,n(6087).Z)("MuiCard",["root"]);var f=n(5893);const h=["className","raised"],m=(0,s.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"})));var v=o.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiCard"}),{className:o,raised:s=!1}=n,u=(0,i.Z)(n,h),d=(0,r.Z)({},n,{raised:s}),v=(e=>{const{classes:t}=e;return(0,c.Z)({root:["root"]},p,t)})(d);return(0,f.jsx)(m,(0,r.Z)({className:(0,a.Z)(v.root,o),elevation:s?8:void 0,ref:t,ownerState:d},u))}))},8456:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(3366),i=n(7462),o=n(7294),a=n(6010),c=n(7192),s=n(917),l=n(8216),u=n(7623),d=n(1496),p=n(8979);function f(e){return(0,p.Z)("MuiCircularProgress",e)}(0,n(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h=n(5893);const m=["className","color","disableShrink","size","style","thickness","value","variant"];let v,g,x,y,b=e=>e;const w=44,j=(0,s.F4)(v||(v=b`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Z=(0,s.F4)(g||(g=b`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,d.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,l.Z)(n.color)}`]]}})((({ownerState:e,theme:t})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:t.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,s.iv)(x||(x=b`
      animation: ${0} 1.4s linear infinite;
    `),j))),k=(0,d.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),C=(0,d.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,l.Z)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,s.iv)(y||(y=b`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Z)));var M=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiCircularProgress"}),{className:o,color:s="primary",disableShrink:d=!1,size:p=40,style:v,thickness:g=3.6,value:x=0,variant:y="indeterminate"}=n,b=(0,r.Z)(n,m),j=(0,i.Z)({},n,{color:s,disableShrink:d,size:p,thickness:g,value:x,variant:y}),Z=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${(0,l.Z)(r)}`],svg:["svg"],circle:["circle",`circle${(0,l.Z)(n)}`,i&&"circleDisableShrink"]};return(0,c.Z)(o,f,t)})(j),M={},O={},P={};if("determinate"===y){const e=2*Math.PI*((w-g)/2);M.strokeDasharray=e.toFixed(3),P["aria-valuenow"]=Math.round(x),M.strokeDashoffset=`${((100-x)/100*e).toFixed(3)}px`,O.transform="rotate(-90deg)"}return(0,h.jsx)(S,(0,i.Z)({className:(0,a.Z)(Z.root,o),style:(0,i.Z)({width:p,height:p},O,v),ownerState:j,ref:t,role:"progressbar"},P,b,{children:(0,h.jsx)(k,{className:Z.svg,ownerState:j,viewBox:"22 22 44 44",children:(0,h.jsx)(C,{className:Z.circle,style:M,ownerState:j,cx:w,cy:w,r:(w-g)/2,fill:"none",strokeWidth:g})})}))}))},5861:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(3366),i=n(7462),o=n(7294),a=n(6010),c=n(9707),s=n(7192),l=n(1496),u=n(7623),d=n(8216),p=n(8979);function f(e){return(0,p.Z)("MuiTypography",e)}(0,n(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=n(5893);const m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,d.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var y=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTypography"}),o=(e=>x[e]||e)(n.color),l=(0,c.Z)((0,i.Z)({},n,{color:o})),{align:p="inherit",className:y,component:b,gutterBottom:w=!1,noWrap:j=!1,paragraph:Z=!1,variant:S="body1",variantMapping:k=g}=l,C=(0,r.Z)(l,m),M=(0,i.Z)({},l,{align:p,color:o,className:y,component:b,gutterBottom:w,noWrap:j,paragraph:Z,variant:S,variantMapping:k}),O=b||(Z?"p":k[S]||g[S])||"span",P=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e,c={root:["root",o,"inherit"!==e.align&&`align${(0,d.Z)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,s.Z)(c,f,a)})(M);return(0,h.jsx)(v,(0,i.Z)({as:O,ref:t,ownerState:M,className:(0,a.Z)(P.root,y)},C))}))},9344:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(4051),i=n.n(r),o=n(5893),a=n(9669),c=n.n(a),s=n(7294);const l=(0,s.createContext)(null),u=l.Provider;function d(){const e=(0,s.useContext)(l);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var p=n(5243);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){let{children:t,className:n,id:r,placeholder:i,style:o,whenCreated:a,...c}=e;const l=(0,s.useRef)(null),d=function(e,t){const[n,r]=(0,s.useState)(null);return(0,s.useEffect)((()=>{if(null!==e.current&&null===n){const n=new p.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),r(n)}}),[e,n,t]),n}(l,c),h=(0,s.useRef)(!1);(0,s.useEffect)((()=>{null!=d&&!1===h.current&&null!=a&&(h.current=!0,a(d))}),[d,a]),(0,s.useEffect)((()=>()=>{null==d||d.remove()}),[d]);const[m]=(0,s.useState)({className:n,id:r,style:o}),v=(0,s.useMemo)((()=>d?{__version:1,map:d}:null),[d]),g=v?s.createElement(u,{value:v},t):i??null;return s.createElement("div",f({},m,{ref:l}),g)}var m=n(3935);function v(e){function t(t,n){const{instance:r,context:i}=e(t).current;return(0,s.useImperativeHandle)(n,(()=>r)),null==t.children?null:s.createElement(u,{value:i},t.children)}return(0,s.forwardRef)(t)}function g(e,t){return null==t?function(t,n){return(0,s.useRef)(e(t,n))}:function(n,r){const i=(0,s.useRef)(e(n,r)),o=(0,s.useRef)(n),{instance:a}=i.current;return(0,s.useEffect)((function(){o.current!==n&&(t(a,n,o.current),o.current=n)}),[a,n,r]),i}}function x(e,t){const n=(0,s.useRef)(t);(0,s.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}function y(e,t){const n=(0,s.useRef)();(0,s.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}function b(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function w(e,t){(0,s.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var n;null==(n=t.layerContainer)||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function j(e){return function(t){const n=d(),r=e(b(t,n),n);return x(n.map,t.attribution),y(r.current,t.eventHandlers),w(r.current,n),r}}function Z(e){return function(t){const n=d(),r=e(b(t,n),n);return y(r.current,t.eventHandlers),w(r.current,n),function(e,t){const n=(0,s.useRef)();(0,s.useEffect)((function(){if(t.pathOptions!==n.current){const r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}}),[e,t])}(r.current,t),r}}const S=function(e){function t(t,n){const{instance:r}=e(t).current;return(0,s.useImperativeHandle)(n,(()=>r)),null}return(0,s.forwardRef)(t)}(j(g((function(e,t){let{url:n,...r}=e;return{instance:new p.TileLayer(n,b(r,t)),context:t}}),(function(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}))));const k=function(e,t){return v(Z(g(e,t)))}((function(e,t){let{data:n,...r}=e;const i=new p.GeoJSON(n,r);return{instance:i,context:{...t,overlayContainer:i}}}),(function(e,t,n){t.style!==n.style&&(null==t.style?e.resetStyle():e.setStyle(t.style))})),C=function(e,t){return v(j(g(e,t)))}((function(e,t){let{position:n,...r}=e;const i=new p.Marker(n,r);return{instance:i,context:{...t,overlayContainer:i}}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),M=function(e,t){const n=function(e,t){return function(n,r){const i=d(),o=e(b(n,i),i);return x(i.map,n.attribution),y(o.current,n.eventHandlers),t(o.current,i,n,r),o}}(g(e),t);return function(e){function t(t,n){const[r,i]=(0,s.useState)(!1),{instance:o}=e(t,i).current;(0,s.useImperativeHandle)(n,(()=>o)),(0,s.useEffect)((function(){r&&o.update()}),[o,r,t.children]);const a=o._contentNode;return a?(0,m.createPortal)(t.children,a):null}return(0,s.forwardRef)(t)}(n)}((function(e,t){return{instance:new p.Tooltip(e,t.overlayContainer),context:t}}),(function(e,t,n,r){const{onClose:i,onOpen:o,position:a}=n;(0,s.useEffect)((function(){const n=t.overlayContainer;if(null==n)return;const{instance:c}=e,s=e=>{e.tooltip===c&&(a&&c.setLatLng(a),c.update(),r(!0),null==o||o())},l=e=>{e.tooltip===c&&(r(!1),null==i||i())};return n.on({tooltipopen:s,tooltipclose:l}),n.bindTooltip(c),function(){n.off({tooltipopen:s,tooltipclose:l}),null!=n._map&&n.unbindTooltip()}}),[e,t,r,i,o,a])}));var O=n(7357),P=n(5675),R=n(6295),E=n(6242),N=n(8456),I=n(6886),z=n(1903),_=n(5861),T=n(120),B={daily:{width:"73px",minWidth:"73px",backgroundColor:"rgba(255, 255, 255, 1.0)",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-evenly",fontSize:"12px"}}};var W=function(e){var t=e.dailyweather;return(0,o.jsxs)(O.Z,{sx:B.daily,children:[(0,o.jsx)("div",{children:t.day}),(0,o.jsx)("div",{children:(0,o.jsx)(P.default,{unoptimized:!0,src:t.icon,height:50,width:50,loader:T.imageLoader,alt:t.day})}),(0,o.jsxs)("div",{className:"temp-label",children:[(0,o.jsx)("div",{children:(0,o.jsxs)("strong",{children:[t.temp_max,"\xb0"]})}),(0,o.jsxs)("div",{children:[t.temp_min,"\xb0"]})]})]})},A={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",minWidth:{xs:"200px",sm:"500px"},maxWidth:"500px",marginTop:function(e){return e.spacing(3)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5, h6":{marginBottom:function(e){return e.spacing(2)}}},autocomplete:{maxWidth:"100%",marginTop:function(e){return e.spacing(1)}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px","& .temperature":{fontSize:"50px",fontWeight:"bold"},"& .weather-details":{fontSize:"14px"}},info:{minWidth:"438px",minHeight:"90px",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(2)},textAlign:"center","& p":{color:"red",fontSize:"12px"}}};function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}var D=function(e){var t=e.municipalities,n=e.sel_options,r=e.weather,i=e.forecast,a=e.onSelectItemChange,c=(0,s.useState)(0),l=c[0],u=c[1];(0,s.useEffect)((function(){var e=function(){return u((window.innerWidth-d())/2+24)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var d=function(){return document.getElementById("header-contents").getBoundingClientRect().width};return(0,o.jsxs)(O.Z,{sx:{position:"absolute",top:function(e){return e.constants.navbar.outerHeight+40},right:l,marginLeft:"24px",zIndex:400},className:"mui-fixed",children:[(0,o.jsxs)(E.Z,{variant:"outlined",sx:A.card,children:[(0,o.jsxs)(O.Z,{children:[(0,o.jsx)(_.Z,{variant:"h5",children:"Bicol Weather Today"}),(0,o.jsx)(R.Z,{disablePortal:!0,id:"municipality",value:n.sel_municipality,disabled:0===t.length||n.loading,options:t,sx:A.autocomplete,size:"small",renderInput:function(e){return(0,o.jsx)(z.Z,H({},e,{label:null===n.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return a(e,H({},t,{from:"municipality"}))}})]}),n.loading&&(0,o.jsx)(O.Z,{sx:A.info,children:(0,o.jsx)(N.Z,{size:24})}),""===n.error&&!n.loading&&null!==n.sel_municipality&&""!==r.description&&(0,o.jsxs)(O.Z,{sx:A.weathertoday,children:[(0,o.jsx)("div",{children:(0,o.jsx)(P.default,{unoptimized:!0,src:r.icon,height:100,width:100,loader:T.imageLoader,alt:r.description})}),(0,o.jsxs)("div",{className:"temperature",children:[r.temp,"\xb0C"]}),(0,o.jsxs)("div",{className:"weather-details",children:[(0,o.jsxs)("div",{children:["Atmospheric Pressure: ",r.pressure]}),(0,o.jsxs)("div",{children:["Humidity: ",r.humidity]}),(0,o.jsxs)("div",{children:["Wind: ",r.wind]}),(0,o.jsxs)("div",{children:["Condition: ",r.description?"".concat(r.description.charAt(0).toUpperCase()).concat(r.description.slice(1)):""]})]})]}),""===n.error&&!n.loading&&null===n.sel_municipality&&(0,o.jsx)(O.Z,{sx:A.info,children:(0,o.jsx)("p",{children:"\xa0"})}),""!==n.error&&(0,o.jsx)(O.Z,{sx:A.info,children:(0,o.jsx)("p",{children:n.error})})]}),i.length>0&&(0,o.jsxs)(E.Z,{variant:"outlined",sx:A.card,children:[(0,o.jsx)(_.Z,{variant:"h6",children:"Daily Weather Forecast"}),(0,o.jsx)(I.ZP,{container:!0,children:i.map((function(e,t){return(0,o.jsx)(I.ZP,{item:!0,children:(0,o.jsx)(W,{dailyweather:e})},"daily-".concat(t))}))})]})]})},F=n(5895);function J(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){J(o,r,i,a,c,"next",e)}function c(e){J(o,r,i,a,c,"throw",e)}a(void 0)}))}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}var Q={sel_municipality:null,loading:!0,error:""},U={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var q=function(e){var t=e.data,n=void 0===t?[]:t,r=e.onSelectMunicipality,a=(0,s.useState)(Q),c=a[0],l=a[1],u=(0,s.useState)([]),d=u[0],p=u[1],f=(0,s.useState)(U),h=f[0],m=f[1],v=(0,s.useState)([]),g=v[0],x=v[1];(0,s.useEffect)((function(){if(n.length>0){var e=[];n.forEach((function(t){e.map((function(e){return e.id})).includes(t.municipality)||e.push({id:t.municipality,label:"".concat(t.municipality,", ").concat(t.province),lat:t.lat,lon:t.lon})})),p(e)}}),[n]),(0,s.useEffect)((function(){d.length>0&&y("Pamplona")}),[d,y]);var y=(0,s.useCallback)(function(){var e=G(i().mark((function e(t){var n,o,a,s,u,p,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=d.find((function(e){return e.id===t})))){e.next=3;break}return e.abrupt("return");case 3:return l($({},c,{error:"",loading:!0})),x([]),e.prev=5,e.next=8,(0,F.dL)(n.lat,n.lon);case 8:o=e.sent,l($({},c,{sel_municipality:n,loading:!1,error:""})),r(n.id),a=o.current.weather.length>0?o.current.weather[0].icon:null,s=o.current.weather.length>0?o.current.weather[0].description:"",u={icon:null!==a?"https://openweathermap.org/img/wn/".concat(a,"@2x.png"):null,temp:Math.round(o.current.temp),precipitation:null,humidity:"".concat(o.current.humidity,"%"),pressure:"".concat(o.current.pressure," hPa"),wind:"".concat(o.current.wind_speed," meter/sec"),description:s},p=[],f=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],o.daily.forEach((function(e){var t=new Date(1e3*e.dt),n={day:f[t.getDay()],temp_min:Math.round(e.temp.min),temp_max:Math.round(e.temp.max),icon:e.weather.length>0?"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"):"",date:t.toLocaleDateString("en-US"),description:e.weather.length>0?e.weather[0].description:""};p.push(n)})),m(u),x(p),e.next=27;break;case 21:e.prev=21,e.t0=e.catch(5),h="",void 0!==e.t0.response&&(h=void 0!==e.t0.response.data?e.t0.response.data:""),""===h&&(h=e.t0.message),l($({},c,{sel_municipality:n,loading:!1,error:h}));case 27:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t){return e.apply(this,arguments)}}(),[d,r,c]),b=function(){var e=G(i().mark((function e(t,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(o=n.id)){e.next=7;break}return l($({},c,{sel_municipality:null,loading:!1})),m(U),x([]),r(null),e.abrupt("return");case 7:y(o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,o.jsx)(D,{sel_options:c,municipalities:d,weather:h,forecast:g,onSelectItemChange:b})},V=n(9108),X=n.n(V);var K=function(e){var t=e.record,n=(0,s.useState)(null),r=n[0],i=n[1],a=(0,s.useState)(null),c=a[0],l=a[1];return(0,s.useEffect)((function(){i(null!==t?[t.lat,t.lon]:null),l(t)}),[t]),null===r?null:(0,o.jsx)(C,{position:r,eventHandlers:{mouseover:function(){i(null)},click:function(){i(null)}},children:(0,o.jsx)(M,{className:X().tooltipCustom,permanent:!0,children:(0,o.jsx)("table",{style:{width:"100%"},children:(0,o.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,t){return["lat","lon"].includes(e)?(0,o.jsx)("tr",{},t):(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("b",{children:[e,":"]})}),(0,o.jsx)("td",{children:c[e.toLowerCase()]})]},t)}))})})})})},ee={map:{width:"100%",minHeight:"700px",height:"calc(100vh - 88px - 119px)",maxWidth:function(e){return e.breakpoints.xl}}};function te(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}var ne={lat:13.29341114953598,lng:124.5},re=["Barangay","Municipality","Province","Association"];var ie=function(e){var t=e.data,n=void 0===t?[]:t,r=(0,s.useState)({}),a=r[0],l=r[1],u=(0,s.useState)(""),d=u[0],p=u[1],f=(0,s.useState)(null),m=f[0],v=f[1],g=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e=function(){var e,t=(e=i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("https://api.mapbox.com/datasets/v1/".concat("ciatph","/").concat("cl3c9h4t3059921pik8e2p9dz","/features?access_token=").concat("pk.eyJ1IjoiY2lhdHBoIiwiYSI6ImNqNXcyeTNhcTA5MzEycHFpdG90enFxMG8ifQ.gwZ6uo6pvx4-RZ1lHODcBQ"));case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){te(o,r,i,a,c,"next",e)}function c(e){te(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),(0,o.jsxs)(O.Z,{sx:ee.map,children:[(0,o.jsxs)(h,{style:{height:"100%"},center:ne,zoom:8,maxZoom:10,minZoom:8,tileSize:512,placeholder:(0,o.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){g.current=e},children:[(0,o.jsx)(S,{zIndex:0,accessToken:"pk.eyJ1IjoiY2lhdHBoIiwiYSI6ImNqNXcyeTNhcTA5MzEycHFpdG90enFxMG8ifQ.gwZ6uo6pvx4-RZ1lHODcBQ",id:"mapbox/streets-v11",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=".concat("pk.eyJ1IjoiY2lhdHBoIiwiYSI6ImNqNXcyeTNhcTA5MzEycHFpdG90enFxMG8ifQ.gwZ6uo6pvx4-RZ1lHODcBQ")}),(0,o.jsx)(k,{municipality:d,data:a.features,zIndex:1,onEachFeature:function(e,t){var n,r,i;t.setStyle((n={fillColor:e.properties.ADM2_EN===d?"#e0ccff":"#b3ffb3",fillOpacity:1,weight:0},i="0.5",(r="fillOpacity")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))}},Math.random().toString(36).substr(2,8)),n.map((function(e,t){return(0,o.jsx)(C,{position:[e.lat,e.lon],id:"tooltip-".concat(t),eventHandlers:{mouseover:function(e){null!==m&&v(null)},click:function(e){null!==m&&v(null)}},children:(0,o.jsx)(M,{className:X().tooltipCustom,direction:"left",children:(0,o.jsx)("table",{style:{width:"100%"},id:"tip-".concat(t),children:(0,o.jsx)("tbody",{children:re.map((function(t,n){return["lat","lon"].includes(t)?(0,o.jsx)("tr",{},n):(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("b",{children:[t,":"]})}),(0,o.jsx)("td",{children:e[t.toLowerCase()]})]},n)}))})})})},t)})),(0,o.jsx)(K,{record:m})]}),(0,o.jsx)(q,{data:n,onSelectMunicipality:function(e){if(null===e)p(""),v(null);else{var t=n.find((function(t){return t.municipality===e}));if(void 0!==t){var r=t.province;p((function(e){return r})),function(e,t){var n=g.current;n&&n.flyTo([e,t+4],10,{duration:2.5})}(t.lat,t.lon),v(t)}else p(""),v(null)}}})]})}},4854:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{MW:function(){return o},re:function(){return c},tN:function(){return a},MZ:function(){return s}});var i,o={DRIER:"drier",NORMAL:"normal",WETTER:"wetter"},a=(r(i={},o.DRIER,"red"),r(i,o.NORMAL,"yellow"),r(i,o.WETTER,"blue"),i),c={JAN:{code:"jan",format:"January"},FEB:{code:"feb",format:"February"},MAR:{code:"mar",format:"March"},APR:{code:"apr",format:"April"},MAY:{code:"may",format:"May"},JUN:{code:"jun",format:"June"},JUL:{code:"jul",format:"July"},AUG:{code:"aug",format:"August"},SEP:{code:"sep",format:"September"},OCT:{code:"oct",format:"October"},NOV:{code:"nov",format:"November"},DEC:{code:"dec",format:"December"}},s={PREP:"Land Preparation",PLANT:"Planting",GROW:"Growing",HARV:"Harvesting"}},9108:function(e){e.exports={tooltipCustom:"Map_tooltipCustom___IYju"}}}]);