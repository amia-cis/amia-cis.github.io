"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{9132:function(t,e){e.Z={tablecontainer:{marginTop:function(t){return t.spacing(1)},border:"1px solid #484848",borderRadius:function(t){return t.spacing(1)}},tablecell:{border:"1px solid",textAlign:"center"},subheader:{marginBottom:function(t){return t.spacing(4)},maxWidth:"800px",color:"gray"},labels:{fontSize:"12px",color:function(t){return t.palette.secondary.light}},legend:{margin:function(t){return t.spacing(1)},fontSize:"14px",float:"right","& ul":{listStyle:"none","& li":{float:"left",marginRight:"10px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}}}},9898:function(t,e,n){var r=n(5893),i=n(7357),a=n(8456),c=n(7906),o=n(295),s=n(3252),u=n(2882),l=n(3184),p=n(3816),f=n(4854),d=n(9132);e.Z=function(t){var e=t.weatherData,n=t.provinces,h=t.withBorder,C=void 0!==h&&h,g=function(t){var e="";try{e=n.filter((function(e){return e.province===t}))[0].format}catch(r){e="n/a"}return e},v=function(t){var e=t.children;return C?(0,r.jsx)(u.Z,{sx:d.Z.tablecontainer,children:e}):(0,r.jsx)(u.Z,{children:e})};return(0,r.jsxs)("div",{children:[0===e.length&&(0,r.jsxs)(i.Z,{sx:{width:"100%",textAlign:"center",height:"20vh",marginTop:function(t){return t.spacing(12)},display:"flex",justifyContent:"center"},children:[(0,r.jsx)("span",{children:"Loading Forecast... "})," \xa0",(0,r.jsx)(a.Z,{size:24})]}),e.length>0&&(0,r.jsxs)(v,{children:[(0,r.jsxs)(c.Z,{sx:{minWidth:650},"aria-label":"simple table",size:"small",children:[(0,r.jsx)(l.Z,{children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(s.Z,{sx:{width:"20%"},children:"Province"}),e[0].mos.map((function(t,e){return(0,r.jsx)(s.Z,{sx:{textAlign:"center"},children:"".concat(t[0].toUpperCase()).concat(t.slice(1))},"".concat(t,"-").concat(e))}))]})}),(0,r.jsx)(o.Z,{children:e.map((function(t){return(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(s.Z,{children:g(t.name)}),t.months.map((function(t,e){return(0,r.jsx)(s.Z,{sx:{backgroundColor:f.t[t.con],border:"1px solid",textAlign:"center",fontSize:"14px",padding:"10px"},children:t.val},"".concat(t.mo,"-").concat(e))}))]},t.name)}))})]}),(0,r.jsx)(i.Z,{sx:d.Z.legend,children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:f.t[f.M.NORMAL]}}),"Normal"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:f.t[f.M.DRIER]}}),"Drier"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:f.t[f.M.WETTER]}}),"Wetter"]})]})})]})]})}},4854:function(t,e,n){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{M:function(){return a},t:function(){return c}});var i,a={DRIER:"drier",NORMAL:"normal",WETTER:"wetter"},c=(r(i={},a.DRIER,"#c2d69b"),r(i,a.NORMAL,"#ebf1dd"),r(i,a.WETTER,"#7e9550"),i)},7467:function(t,e,n){n.d(e,{Mw:function(){return g},$K:function(){return C},Qt:function(){return h},Ob:function(){return v},GV:function(){return x}});var r=n(4051),i=n.n(r),a=n(5048),c=n(5321);function o(t,e,n,r,i,a,c){try{var o=t[a](c),s=o.value}catch(u){return void n(u)}o.done?e(s):Promise.resolve(s).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function c(t){o(a,r,i,c,s,"next",t)}function s(t){o(a,r,i,c,s,"throw",t)}c(void 0)}))}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){l(t,e,n[e])}))}return t}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=this;l(this,"getSelections",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCollectionData(e.CROP_REC_ACTIVITY_SELECTION,"prov");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var n=this;l(this,"getProvinces",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getCollectionData(n.CROP_REC_PROVINCES,"id");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var r=this;l(this,"getMunicipalities",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getCollectionData(r.CROP_REC_MUNICIPALITIES,"id");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var o=this;l(this,"getActivities",function(){var t=s(i().mark((function t(e){var n,r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return n=(0,c.hJ)(a.db,o.CROP_REC_ACTIVITY_SELECTION),r=(0,c.IO)(n,(0,c.ar)("prov","==",e)),t.next=6,o.getCollectionData(o.CROP_REC_ACTIVITY_SELECTION,"",r);case 6:return s=t.sent,t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var u=this;l(this,"getVillages",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.getCollectionData(u.VILLAGES,"barangay");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var p=this;l(this,"getCropCalendarsHi",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getCollectionData(p.CROP_CALENDARS,"filename");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var f=this;l(this,"getRegionProvinces",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getCollectionData(f.REGIONS,"province");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var d=this;l(this,"getWeatherForecast",function(){var t=s(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.getNestedCollectionData(d.WEATHER_FORECASTS,e,n,"name");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());var h=this;l(this,"getRecommendations",function(){var t=s(i().mark((function t(e,n){var r,o,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e&&void 0!==n){t.next=2;break}return t.abrupt("return");case 2:return r=(0,c.hJ)(a.db,h.CROP_REC_RECOMMENDATIONS),o=(0,c.IO)(r,(0,c.ar)("province","==",e),(0,c.ar)("municipality","==",n)),t.next=6,h.getCollectionData(h.CROP_REC_RECOMMENDATIONS,"",o);case 6:return s=t.sent,t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());var C=this;l(this,"getMainCropRecommendations",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getCollectionData(C.CROP_REC_LIST_RECS_MAIN,"id");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var g=this;l(this,"getSubCropRecommendations",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getCollectionData(g.CROP_REC_LIST_RECS_SUB,"id");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),this.CROP_REC_ACTIVITY_SELECTION="rec_selections",this.VILLAGES="villages",this.CROP_CALENDARS="misc_crop_calendars",this.REGIONS="const_regions",this.WEATHER_FORECASTS="weather_forecasts",this.CROP_REC_RECOMMENDATIONS="n_crop_recommendations",this.CROP_REC_PROVINCES="n_provinces",this.CROP_REC_MUNICIPALITIES="n_municipalities",this.CROP_REC_CROPS="n_crops",this.CROP_REC_STAGES="n_crop_stages",this.CROP_REC_ACTIVITIES="n_activities",this.CROP_REC_LIST_RECS_MAIN="n_list_recommendations",this.CROP_REC_LIST_RECS_SUB="n_list_subrecommendations"}var e,n,r;return e=t,n=[{key:"getCollectionData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return s(i().mark((function r(){var o,s,u,l;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=(0,c.hJ)(a.db,t),s=n||(0,c.IO)(o,(0,c.Xo)(e,"asc")),r.next=4,(0,c.PL)(s);case 4:return u=r.sent,l=u.docs.map((function(t){return p({},t.data())})),r.abrupt("return",l);case 7:case"end":return r.stop()}}),r)})))()}},{key:"getNestedCollectionData",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return s(i().mark((function o(){var u;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=(0,c.IO)((0,c.hJ)(a.db,t,e,n),(0,c.Xo)(r)),o.abrupt("return",new Promise(function(){var t=s(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,c.cf)(u,(function(t){e(t.docs.map((function(t){return t.data()})))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return o.stop()}}),o)})))()}}],n&&u(e.prototype,n),r&&u(e,r),t}(),d=new f,h=(d.getSelections.bind(d),d.getProvinces.bind(d),d.getActivities.bind(d),d.getVillages.bind(d),d.getRegionProvinces.bind(d)),C=(d.getCropCalendarsHi.bind(d),d.getMunicipalities.bind(d),d.getRecommendations.bind(d)),g=d.getMainCropRecommendations.bind(d),v=d.getSubCropRecommendations.bind(d),x=d.getWeatherForecast.bind(d)}}]);