"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{4623:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(5893),i=r(7357),o=r(8456),a=r(5861),s={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var c=function(){return(0,t.jsx)(i.Z,{sx:s.container,children:(0,t.jsxs)(i.Z,{sx:s.loading,children:[(0,t.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(o.Z,{size:"32px"})]})})}},7702:function(e,n,r){r.d(n,{Z:function(){return R}});var t=r(5893),i=r(7357),o=r(7294),a=r(2293),s=r(6720),c=r(7948),l=r(7720),u=r(7533),d=r(3946),x=r(8462),f=r(7594),p=r(9334),h=r(8619),m=r(155),y=r(5861),b=r(1664),j=r(1163),g=r(7520),v=r(9662),Z=r(3384),k=r(326),w=r(7427),C=r(1898),S=r(4229),A={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{padding:function(e){return e.spacing(1)},"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:function(e){return e.palette.primary.light}},"& .listitembutton-styled":{py:0,minHeight:48,color:function(e){return e.palette.primary.dark},borderRadius:function(e){return e.spacing(1)},margin:function(e){return e.spacing(1)},"&:hover, &:focus":{"& .MuiTypography-root":{color:function(e){return e.palette.primary.dark}}}},"& .MuiListItemIcon-root":{marginRight:"-8px"}},listitem:{"& a":{textDecoration:"none"}}};function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return P(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=280,z=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(Z.Z,{})},{text:"Crop Recommendations",link:"/admin/bulletins/crops",icon:(0,t.jsx)(C.Z,{})},{text:"Risks Recommendations",link:"/admin/bulletins/risks",icon:(0,t.jsx)(C.Z,{})},{text:"BACAP Settings",link:"/admin/weather",icon:(0,t.jsx)(S.Z,{})}],B=[{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(w.Z,{})},{text:"BACAP Website",link:"/",icon:(0,t.jsx)(g.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(v.Z,{})}];function M(e){var n=e.window,r=I(o.useState(!1),2),g=r[0],v=r[1],Z=I(o.useState(null),2),w=Z[0],C=Z[1],S=(0,j.useRouter)(),P=e.user,M=e.onBtnClick;o.useEffect((function(){var e=S.route.substr(S.route.lastIndexOf("/")+1,S.route.length),n={admin:0,crops:1,risks:2,weather:3,profile:4,create:1,view:1};C(n[e]?n[e]:0)}),[S.route]);var H=function(){v(!g)},R=(0,t.jsxs)("div",{children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(x.Z,{sx:A.list,disablePadding:!0,children:z.map((function(e,n){return(0,t.jsx)(b.default,{href:e.link,passHref:!0,children:(0,t.jsxs)(h.Z,{className:"listitembutton-styled",selected:w===n,children:[(0,t.jsx)(f.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]},e.label)},n)}))}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(x.Z,{sx:A.list,children:B.map((function(e,n){return"Logout"===e.text?(0,t.jsx)(b.default,{href:e.link,passHref:!0,children:(0,t.jsxs)(h.Z,{className:"listitembutton-styled",selected:w===n+4,onClick:M,children:[(0,t.jsx)(f.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},n):(0,t.jsx)(b.default,{href:e.link,passHref:!0,children:(0,t.jsxs)(h.Z,{className:"listitembutton-styled",selected:w===n+4,children:[(0,t.jsx)(f.Z,{sx:{color:"inherit"},children:e.icon}),(0,t.jsx)(p.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},n)}))})]}),W=void 0!==n?function(){return n().document.body}:void 0;return(0,t.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,t.jsx)(s.ZP,{}),(0,t.jsx)(a.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(T,"px)")},ml:{sm:"".concat(T,"px")}},children:(0,t.jsxs)(m.Z,{sx:A.toolbar,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:H,sx:{mr:2,display:{sm:"none"}},children:(0,t.jsx)(k.Z,{})}),(0,t.jsx)(y.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,t.jsxs)(i.Z,{sx:A.profileToolbar,children:["Welcome, ",P.email,"!"]})]})}),(0,t.jsxs)(i.Z,{component:"nav",sx:{width:{sm:T},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(u.ZP,{container:W,variant:"temporary",open:g,onClose:H,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:T}},children:R}),(0,t.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:T,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:R})]}),(0,t.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(T,"px)")}},children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)(c.Z,{maxWidth:"lg",children:e.children})]})]})}var H=r(4623);var R=function(e){return(0,t.jsxs)(i.Z,{sx:{marginTop:function(e){return e.spacing(4)}},children:[e.loading&&(0,t.jsx)(H.Z,{}),!e.loading&&e.user&&(0,t.jsx)(M,{user:e.user,onBtnClick:e.onBtnLogoutClick,children:e.children})]})}},9431:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(4051),i=r.n(t),o=r(4768);function a(e,n,r,t,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,i)}function s(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){a(o,t,i,s,c,"next",e)}function c(e){a(o,t,i,s,c,"throw",e)}s(void 0)}))}}function c(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var l=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r,t;return n=e,(r=[{key:"setAuthHeaders",value:function(e){return s(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,o.I8.currentUser.getIdToken(!0);case 4:r=n.sent,n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(1),new Error(n.t0.message);case 10:e.headers.Authorization=r?"Bearer ".concat(r):"";case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()}},{key:"createRequestObject",value:function(e){var n=e.body,r=e.params,t=this;return s(i().mark((function e(){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{}},n&&(o.data=n),r&&(o.params=r),e.next=5,t.setAuthHeaders(o);case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))()}}])&&c(n.prototype,r),t&&c(n,t),e}()}}]);