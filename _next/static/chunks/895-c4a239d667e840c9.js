"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{5895:function(e,t,r){r.d(t,{dL:function(){return F},O9:function(){return D},Vt:function(){return M}});var n=r(4051),o=r.n(n),a=r(9669),u=r.n(a),c=r(5048);function i(e,t,r,n,o,a,u){try{var c=e[a](u),i=c.value}catch(s){return void r(s)}c.done?t(i):Promise.resolve(i).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,c,"next",e)}function c(e){i(a,n,o,u,c,"throw",e)}u(void 0)}))}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"setAuthHeaders",value:function(e){return s(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,c.I8.currentUser.getIdToken(!0);case 4:r=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.message);case 10:e.headers.Authorization=r?"Bearer ".concat(r):"";case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},{key:"createRequestObject",value:function(e){var t=e.body,r=e.params,n=this;return s(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{}},t&&(a.data=t),r&&(a.params=r),e.next=5,n.setAuthHeaders(a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()}}])&&f(t.prototype,r),n&&f(t,n),e}();function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,r,n,o,a,u){try{var c=e[a](u),i=c.value}catch(s){return void r(s)}c.done?t(i):Promise.resolve(i).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){v(a,n,o,u,c,"next",e)}function c(e){v(a,n,o,u,c,"throw",e)}u(void 0)}))}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}function m(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?p(e):t}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}var E=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m(this,r)}}var R=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,r,n,a=_(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=p(e=a.call(this));return y(p(e),"getUsers",b(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(t.USERS_API_LIST);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),e.BASE_URL="https://amia-cis.herokuapp.com/api",e.USERS_API="".concat(e.BASE_URL,"/user"),e.USERS_API_LIST="".concat(e.BASE_URL,"/users"),e}return t=c,(r=[{key:"createUser",value:function(e){var t=this;return b(o().mark((function r(){var n,a,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={},["email","displayname","account_level","disabled","emailverified"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),r.next=5,t.createRequestObject({body:n});case 5:return a=r.sent,r.next=8,u()(w({},a,{url:t.USERS_API,method:"POST"}));case 8:return c=r.sent,r.abrupt("return",c.data);case 10:case"end":return r.stop()}}),r)})))()}},{key:"updateUser",value:function(e){var t=this;return b(o().mark((function r(){var n,a,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={},["uid","email","displayname","disabled","emailverified","account_level"].forEach((function(t){void 0!==e[t.toLowerCase()]&&(n[t]=e[t.toLowerCase()])})),r.next=5,t.createRequestObject({body:n});case 5:return a=r.sent,r.next=8,u()(w({},a,{url:t.USERS_API,method:"PATCH"}));case 8:return c=r.sent,r.abrupt("return",c.data);case 10:case"end":return r.stop()}}),r)})))()}},{key:"deleteUser",value:function(e){var t=this;return b(o().mark((function r(){var n,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.createRequestObject({});case 2:return n=r.sent,r.next=5,u().delete("".concat(t.USERS_API,"/").concat(e),n);case 5:return a=r.sent,r.abrupt("return",a.data);case 7:case"end":return r.stop()}}),r)})))()}},{key:"getUser",value:function(e){var t=e.uid,r=e.email,n=this;return b(o().mark((function e(){var a,c,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},t&&(a={uid:t}),r&&(a={email:r}),e.next=5,n.createRequestObject({params:a});case 5:return c=e.sent,e.next=8,u().get("".concat(n.BASE_URL,"/user"),c);case 8:return i=e.sent,e.abrupt("return",i.data);case 10:case"end":return e.stop()}}),e)})))()}}])&&h(t.prototype,r),n&&h(t,n),c}(l),S=r(4854);function P(e,t,r,n,o,a,u){try{var c=e[a](u),i=c.value}catch(s){return void r(s)}c.done?t(i):Promise.resolve(i).then(n,o)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){k(e,t,r[t])}))}return e}function A(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}var T=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return A(this,r)}}var B=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(c,e);var t,r,n,a=L(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this)).BASE_URL="https://amia-cis.herokuapp.com/api",e.WEATHER_FORECAST_SEASONAL="".concat(e.BASE_URL,"/weather/seasonal/region"),e.WEATHER_FORECAST_PROVINCE="".concat(e.BASE_URL,"/weather/seasonal/province"),e}return t=c,r=[{key:"upsertSeasonal",value:function(e){var t,r=this;return(t=o().mark((function t(){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.createRequestObject({body:e});case 2:return n=t.sent,t.next=5,u()(j({},n,{url:r.WEATHER_FORECAST_SEASONAL,method:"POST"}));case 5:return a=t.sent,t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(e){P(a,n,o,u,c,"next",e)}function c(e){P(a,n,o,u,c,"throw",e)}u(void 0)}))})()}},{key:"getweathercondition",value:function(e){var t="";return e<=40&&(t=S.MW.DRIER),e>=41&&e<=120&&(t=S.MW.NORMAL),e>120&&(t=S.MW.WETTER),t}}],r&&g(t.prototype,r),n&&g(t,n),c}(l);function C(e,t,r,n,o,a,u){try{var c=e[a](u),i=c.value}catch(s){return void r(s)}c.done?t(i):Promise.resolve(i).then(n,o)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.BASE_URL="https://amia-cis.herokuapp.com/api"}var t,r,n;return t=e,r=[{key:"getWeatherToday",value:function(e,t){var r,n=this;return(r=o().mark((function r(){var a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,u().get("".concat(n.BASE_URL,"/openweather"),{params:{lat:e,lon:t}});case 4:return a=r.sent,r.abrupt("return",a.data);case 6:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(e){C(a,n,o,u,c,"next",e)}function c(e){C(a,n,o,u,c,"throw",e)}u(void 0)}))})()}}],r&&I(t.prototype,r),n&&I(t,n),e}(),q=new R,H=new B,N=new W,M=(q.createUser.bind(q),q.updateUser.bind(q),q.deleteUser.bind(q),q.getUser.bind(q),q.getUsers.bind(q),H.upsertSeasonal.bind(H)),D=H.getweathercondition.bind(H),F=N.getWeatherToday.bind(N)}}]);