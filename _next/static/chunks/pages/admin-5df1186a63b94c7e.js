(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{5469:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(3882)}])},4623:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893),i=t(7357),o=t(8456),s=t(5861),a={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var l=function(){return(0,r.jsx)(i.Z,{sx:a.container,children:(0,r.jsxs)(i.Z,{sx:a.loading,children:[(0,r.jsx)(s.Z,{variant:"subtitle1",children:"Loading..."}),(0,r.jsx)(o.Z,{size:"32px"})]})})}},7702:function(e,n,t){"use strict";t.d(n,{Z:function(){return E}});var r=t(5893),i=t(7357),o=t(7294),s=t(2293),a=t(6720),l=t(7948),c=t(7720),d=t(7533),u=t(3946),p=t(8462),x=t(7594),h=t(9334),f=t(8619),m=t(155),g=t(5861),j=t(1664),b=t(1163),y=t(7520),v=t(9662),w=t(3384),Z=t(9903),k=t(326),C=t(7427),A=t(1898),P=t(4229),S={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{padding:function(e){return e.spacing(1)},"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:function(e){return e.palette.primary.light}},"& .listitembutton-styled":{py:0,minHeight:48,color:function(e){return e.palette.primary.dark},borderRadius:function(e){return e.spacing(1)},margin:function(e){return e.spacing(1)},"&:hover, &:focus":{"& .MuiTypography-root":{color:function(e){return e.palette.primary.dark}}}},"& .MuiListItemIcon-root":{marginRight:"-8px"}},listitem:{"& a":{textDecoration:"none"}}};function B(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],s=!0,a=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return B(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=280,M=[{text:"Get Started",link:"/admin",icon:(0,r.jsx)(w.Z,{})},{text:"Crop Recommendations",link:"/admin/bulletins/crops",icon:(0,r.jsx)(A.Z,{})},{text:"SMS Management",link:"/admin/sms",icon:(0,r.jsx)(Z.Z,{})},{text:"Risks Recommendations",link:"/admin/bulletins/risks",icon:(0,r.jsx)(A.Z,{})},{text:"BACAP Settings",link:"/admin/weather",icon:(0,r.jsx)(P.Z,{})}],R=M.length,D=[{text:"Profile",link:"/admin/profile",icon:(0,r.jsx)(C.Z,{})},{text:"BACAP Website",link:"/",icon:(0,r.jsx)(y.Z,{})},{text:"Logout",link:"#",icon:(0,r.jsx)(v.Z,{})}];function I(e){var n=e.window,t=T(o.useState(!1),2),y=t[0],v=t[1],w=T(o.useState(null),2),Z=w[0],C=w[1],A=(0,b.useRouter)(),P=e.user,B=e.onBtnClick;o.useEffect((function(){var e=A.route.substr(A.route.lastIndexOf("/")+1,A.route.length),n={admin:0,crops:1,risks:3,weather:4,sms:2,profile:5,create:1,view:1};C(n[e]?n[e]:0)}),[A.route]);var I=function(){v(!y)},z=(0,r.jsxs)("div",{children:[(0,r.jsx)(m.Z,{}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(p.Z,{sx:S.list,disablePadding:!0,children:M.map((function(e,n){return(0,r.jsx)(j.default,{href:e.link,passHref:!0,children:(0,r.jsxs)(f.Z,{className:"listitembutton-styled",selected:Z===n,children:[(0,r.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,r.jsx)(h.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]},e.label)},n)}))}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(p.Z,{sx:S.list,children:D.map((function(e,n){return"Logout"===e.text?(0,r.jsx)(j.default,{href:e.link,passHref:!0,children:(0,r.jsxs)(f.Z,{className:"listitembutton-styled",selected:Z===n+R,onClick:B,children:[(0,r.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,r.jsx)(h.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},n):(0,r.jsx)(j.default,{href:e.link,passHref:!0,children:(0,r.jsxs)(f.Z,{className:"listitembutton-styled",selected:Z===n+R,children:[(0,r.jsx)(x.Z,{sx:{color:"inherit"},children:e.icon}),(0,r.jsx)(h.Z,{primary:e.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},n)}))})]}),E=void 0!==n?function(){return n().document.body}:void 0;return(0,r.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,r.jsx)(a.ZP,{}),(0,r.jsx)(s.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(_,"px)")},ml:{sm:"".concat(_,"px")}},children:(0,r.jsxs)(m.Z,{sx:S.toolbar,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:I,sx:{mr:2,display:{sm:"none"}},children:(0,r.jsx)(k.Z,{})}),(0,r.jsx)(g.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,r.jsxs)(i.Z,{sx:S.profileToolbar,children:["Welcome, ",P.email,"!"]})]})}),(0,r.jsxs)(i.Z,{component:"nav",sx:{width:{sm:_},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,r.jsx)(d.ZP,{container:E,variant:"temporary",open:y,onClose:I,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:_}},children:z}),(0,r.jsx)(d.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:_,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:z})]}),(0,r.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(_,"px)")}},children:[(0,r.jsx)(m.Z,{}),(0,r.jsx)(l.Z,{maxWidth:"lg",children:e.children})]})]})}var z=t(4623);var E=function(e){return(0,r.jsxs)(i.Z,{sx:{marginTop:function(e){return e.spacing(4)}},children:[e.loading&&(0,r.jsx)(z.Z,{}),!e.loading&&e.user&&(0,r.jsx)(I,{user:e.user,onBtnClick:e.onBtnLogoutClick,children:e.children})]})}},3882:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(4051),i=t.n(r),o=t(5893),s=t(7294),a=t(1163),l=t(3835),c=t(5861),d=t(7702),u=t(1664);var p=function(e){return(0,o.jsxs)(d.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnClick,children:[(0,o.jsx)(c.Z,{variant:"h4",children:"Get Started"}),(0,o.jsxs)("p",{children:["Welcome to BACAP Admin, a set of administrative pages used for updating BACAP's data-specific content. All data updates made within the admin site will be made available for use by BACAP admins during reports creation on the ",(0,o.jsx)("strong",{children:"Create Bulletins"})," page."]}),(0,o.jsxs)("p",{children:["The finalized (uploaded) PDF reports will be available for public download on BACAP's ",(0,o.jsx)(u.default,{href:"/bulletins",passHref:!0,children:(0,o.jsx)("strong",{children:"Bulletins"})})," downloads page."]}),(0,o.jsx)("br",{}),(0,o.jsx)(c.Z,{variant:"h5",children:"Crop Recommendations"}),(0,o.jsxs)("p",{children:["This page will allow admins to generate 10-Day and Seasonal ",(0,o.jsx)("u",{children:"crops bulletins"})," for preview, with an option to upload the generated bulletins as PDF for site-wide public download."]}),(0,o.jsx)(c.Z,{variant:"h5",children:"Risks Recommendations"}),(0,o.jsxs)("p",{children:["This page will allow admins to generate 10-Day and Seasonal ",(0,o.jsx)("u",{children:"climate risks bulletins"})," for preview, with an option to upload the generated bulletins as PDF for site-wide public download."]}),(0,o.jsx)(c.Z,{variant:"h5",children:"BACAP Settings"}),(0,o.jsxs)("p",{children:["The BACAP Services page will allow admins to manually encode weather data (with references to PAGASA's forecast website), which will be used by other admins during reports creation on ",(0,o.jsx)("strong",{children:"Create Bulletins."})]}),(0,o.jsx)(c.Z,{variant:"h5",children:"Profile"}),(0,o.jsx)("p",{children:"Signed-in user information can be viewed on the Profile page."})]})};function x(e,n,t,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,i)}function h(){var e=(0,l.aC)(),n=(0,a.useRouter)();(0,s.useEffect)((function(){e.loading||e.user||n.push("/admin/login")}),[e.user,e.loading,n]);var t=function(){var n,t=(n=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.logOut();case 2:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function s(e){x(o,r,i,s,a,"next",e)}function a(e){x(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,o.jsx)(p,{user:e.user,loading:e.loading,onBtnClick:t})}h.customLayout=!0,h.adminPage=!0;var f=h}},function(e){e.O(0,[3,774,888,179],(function(){return n=5469,e(e.s=n);var n}));var n=e.O();_N_E=n}]);