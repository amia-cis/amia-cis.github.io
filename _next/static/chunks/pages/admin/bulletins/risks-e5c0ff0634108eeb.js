(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{5861:function(n,r,t){"use strict";t.d(r,{Z:function(){return Z}});var e=t(3366),i=t(7462),o=t(7294),a=t(6010),s=t(9707),l=t(7192),c=t(1496),u=t(7623),d=t(8216),p=t(8979);function h(n){return(0,p.Z)("MuiTypography",n)}(0,t(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var x=t(5893);const f=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],m=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,r)=>{const{ownerState:t}=n;return[r.root,t.variant&&r[t.variant],"inherit"!==t.align&&r[`align${(0,d.Z)(t.align)}`],t.noWrap&&r.noWrap,t.gutterBottom&&r.gutterBottom,t.paragraph&&r.paragraph]}})((({theme:n,ownerState:r})=>(0,i.Z)({margin:0},r.variant&&n.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16}))),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},v={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var Z=o.forwardRef((function(n,r){const t=(0,u.Z)({props:n,name:"MuiTypography"}),o=(n=>v[n]||n)(t.color),c=(0,s.Z)((0,i.Z)({},t,{color:o})),{align:p="inherit",className:Z,component:j,gutterBottom:y=!1,noWrap:b=!1,paragraph:w=!1,variant:k="body1",variantMapping:C=g}=c,B=(0,e.Z)(c,f),S=(0,i.Z)({},c,{align:p,color:o,className:Z,component:j,gutterBottom:y,noWrap:b,paragraph:w,variant:k,variantMapping:C}),P=j||(w?"p":C[k]||g[k])||"span",W=(n=>{const{align:r,gutterBottom:t,noWrap:e,paragraph:i,variant:o,classes:a}=n,s={root:["root",o,"inherit"!==n.align&&`align${(0,d.Z)(r)}`,t&&"gutterBottom",e&&"noWrap",i&&"paragraph"]};return(0,l.Z)(s,h,a)})(S);return(0,x.jsx)(m,(0,i.Z)({as:P,ref:r,ownerState:S,className:(0,a.Z)(W.root,Z)},B))}))},9179:function(n,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/risks",function(){return t(9883)}])},4623:function(n,r,t){"use strict";t.d(r,{Z:function(){return l}});var e=t(5893),i=t(7357),o=t(8456),a=t(5861),s={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var l=function(){return(0,e.jsx)(i.Z,{sx:s.container,children:(0,e.jsxs)(i.Z,{sx:s.loading,children:[(0,e.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,e.jsx)(o.Z,{size:"32px"})]})})}},7702:function(n,r,t){"use strict";t.d(r,{Z:function(){return N}});var e=t(5893),i=t(7357),o=t(7294),a=t(2293),s=t(6720),l=t(7948),c=t(7720),u=t(7533),d=t(3946),p=t(8462),h=t(891),x=t(7594),f=t(9334),m=t(155),g=t(5861),v=t(1664),Z=t(7520),j=t(9662),y=t(3384),b=t(326),w=t(7427),k=t(1898),C=t(8349),B={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"}},listitem:{"& a":{textDecoration:"none"}}};function S(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function P(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,i,o=[],a=!0,s=!1;try{for(t=t.call(n);!(a=(e=t.next()).done)&&(o.push(e.value),!r||o.length!==r);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return S(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=280,A=[{text:"Get Started",link:"/admin",icon:(0,e.jsx)(y.Z,{})},{text:"Weather Services",link:"/admin/weather",icon:(0,e.jsx)(C.Z,{})},{text:"Create Crops Bulletins",link:"/admin/bulletins/crops",icon:(0,e.jsx)(k.Z,{})},{text:"Create Risks Bulletins",link:"/admin/bulletins/risks",icon:(0,e.jsx)(k.Z,{})}],M=[{text:"BACAP Website",link:"/",icon:(0,e.jsx)(Z.Z,{})},{text:"Profile",link:"/admin/profile",icon:(0,e.jsx)(w.Z,{})},{text:"Logout",link:"#",icon:(0,e.jsx)(j.Z,{})}];function _(n){var r=n.window,t=P(o.useState(!1),2),Z=t[0],j=t[1],y=n.user,w=n.onBtnClick,k=function(){j(!Z)},C=(0,e.jsxs)("div",{children:[(0,e.jsx)(m.Z,{}),(0,e.jsx)(c.Z,{}),(0,e.jsx)(p.Z,{sx:B.list,children:A.map((function(n,r){return(0,e.jsx)(v.default,{href:n.link,passHref:!0,children:(0,e.jsxs)(h.ZP,{button:!0,children:[(0,e.jsx)(x.Z,{children:n.icon}),(0,e.jsx)(f.Z,{children:n.text})]})},r)}))}),(0,e.jsx)(c.Z,{}),(0,e.jsx)(p.Z,{sx:B.list,children:M.map((function(n,r){return"Logout"===n.text?(0,e.jsx)(v.default,{href:n.link,passHref:!0,children:(0,e.jsxs)(h.ZP,{button:!0,onClick:w,children:[(0,e.jsx)(x.Z,{children:n.icon}),(0,e.jsx)(f.Z,{children:n.text})]})},r):(0,e.jsx)(v.default,{href:n.link,passHref:!0,children:(0,e.jsxs)(h.ZP,{button:!0,children:[(0,e.jsx)(x.Z,{children:n.icon}),(0,e.jsx)(f.Z,{children:n.text})]},r)},r)}))})]}),S=void 0!==r?function(){return r().document.body}:void 0;return(0,e.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,e.jsx)(s.ZP,{}),(0,e.jsx)(a.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(W,"px)")},ml:{sm:"".concat(W,"px")}},children:(0,e.jsxs)(m.Z,{sx:B.toolbar,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,sx:{mr:2,display:{sm:"none"}},children:(0,e.jsx)(b.Z,{})}),(0,e.jsx)(g.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,e.jsxs)(i.Z,{sx:B.profileToolbar,children:["Welcome, ",y.email,"!"]})]})}),(0,e.jsxs)(i.Z,{component:"nav",sx:{width:{sm:W},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,e.jsx)(u.ZP,{container:S,variant:"temporary",open:Z,onClose:k,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:W}},children:C}),(0,e.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:W}},open:!0,children:C})]}),(0,e.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(W,"px)")}},children:[(0,e.jsx)(m.Z,{}),(0,e.jsx)(l.Z,{maxWidth:"lg",children:n.children})]})]})}var T=t(4623);var N=function(n){return(0,e.jsxs)(i.Z,{sx:{marginTop:function(n){return n.spacing(4)}},children:[n.loading&&(0,e.jsx)(T.Z,{}),!n.loading&&n.user&&(0,e.jsx)(_,{user:n.user,onBtnClick:n.onBtnLogoutClick,children:n.children})]})}},9883:function(n,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var e=t(4051),i=t.n(e),o=t(5893),a=t(7294),s=t(1163),l=t(4815),c=t(5861),u=t(7702);var d=function(n){return(0,o.jsxs)(u.Z,{loading:n.loading,user:n.user,onBtnLogoutClick:n.onBtnClick,children:[(0,o.jsx)(c.Z,{variant:"h5",children:"Create Risks Bulletins"}),(0,o.jsxs)("p",{children:["Create and preview ",(0,o.jsx)("strong",{children:"10-Day"})," and ",(0,o.jsx)("strong",{children:"Seasonal"})," climate risks bulletins. Finalized bulletins will be automatically uploaded to the site for public download."]})]})};function p(n,r,t,e,i,o,a){try{var s=n[o](a),l=s.value}catch(c){return void t(c)}s.done?r(l):Promise.resolve(l).then(e,i)}function h(){var n=(0,l.aC)(),r=(0,s.useRouter)();(0,a.useEffect)((function(){n.loading||n.user||r.push("/admin/login")}),[n.user,n.loading,r]);var t=function(){var r,t=(r=i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.logOut();case 3:r.next=7;break;case 5:r.prev=5,r.t0=r.catch(0);case 7:case"end":return r.stop()}}),r,null,[[0,5]])})),function(){var n=this,t=arguments;return new Promise((function(e,i){var o=r.apply(n,t);function a(n){p(o,e,i,a,s,"next",n)}function s(n){p(o,e,i,a,s,"throw",n)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,o.jsx)(d,{loading:n.loading,user:n.user,onBtnClick:t})}h.customLayout=!0,h.adminPage=!0;var x=h}},function(n){n.O(0,[153,385,774,888,179],(function(){return r=9179,n(n.s=r);var r}));var r=n.O();_N_E=r}]);