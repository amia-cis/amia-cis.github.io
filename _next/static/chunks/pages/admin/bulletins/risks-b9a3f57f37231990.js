(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{5861:function(n,t,r){"use strict";r.d(t,{Z:function(){return v}});var e=r(3366),i=r(7462),o=r(7294),a=r(6010),s=r(9707),l=r(7192),c=r(1496),u=r(3616),p=r(8216),d=r(8979);function h(n){return(0,d.Z)("MuiTypography",n)}(0,r(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=r(5893);const x=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],f=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:r}=n;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${(0,p.Z)(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((({theme:n,ownerState:t})=>(0,i.Z)({margin:0},t.variant&&n.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var v=o.forwardRef((function(n,t){const r=(0,u.Z)({props:n,name:"MuiTypography"}),o=(n=>y[n]||n)(r.color),c=(0,s.Z)((0,i.Z)({},r,{color:o})),{align:d="inherit",className:v,component:b,gutterBottom:Z=!1,noWrap:j=!1,paragraph:w=!1,variant:k="body1",variantMapping:C=g}=c,S=(0,e.Z)(c,x),B=(0,i.Z)({},c,{align:d,color:o,className:v,component:b,gutterBottom:Z,noWrap:j,paragraph:w,variant:k,variantMapping:C}),P=b||(w?"p":C[k]||g[k])||"span",W=(n=>{const{align:t,gutterBottom:r,noWrap:e,paragraph:i,variant:o,classes:a}=n,s={root:["root",o,"inherit"!==n.align&&`align${(0,p.Z)(t)}`,r&&"gutterBottom",e&&"noWrap",i&&"paragraph"]};return(0,l.Z)(s,h,a)})(B);return(0,m.jsx)(f,(0,i.Z)({as:P,ref:t,ownerState:B,className:(0,a.Z)(W.root,v)},S))}))},9179:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/risks",function(){return r(9883)}])},4623:function(n,t,r){"use strict";r.d(t,{Z:function(){return l}});var e=r(5893),i=r(7357),o=r(8456),a=r(5861),s={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var l=function(){return(0,e.jsx)(i.Z,{sx:s.container,children:(0,e.jsxs)(i.Z,{sx:s.loading,children:[(0,e.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,e.jsx)(o.Z,{size:"32px"})]})})}},7702:function(n,t,r){"use strict";r.d(t,{Z:function(){return _}});var e=r(5893),i=r(7357),o=r(7294),a=r(2293),s=r(6720),l=r(7948),c=r(7720),u=r(7533),p=r(3946),d=r(8462),h=r(7594),m=r(9334),x=r(8619),f=r(155),g=r(5861),y=r(1664),v=r(1163),b=r(7520),Z=r(9662),j=r(3384),w=r(326),k=r(7427),C=r(1898),S=r(4229),B={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{padding:function(n){return n.spacing(1)},"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:function(n){return n.palette.primary.light}},"& .listitembutton-styled":{py:0,minHeight:48,color:function(n){return n.palette.primary.dark},borderRadius:function(n){return n.spacing(1)},margin:function(n){return n.spacing(1)},"&:hover, &:focus":{"& .MuiTypography-root":{color:function(n){return n.palette.primary.dark}}}},"& .MuiListItemIcon-root":{marginRight:"-8px"}},listitem:{"& a":{textDecoration:"none"}}};function P(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function W(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(e=r.next()).done)&&(o.push(e.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return P(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=280,A=[{text:"Get Started",link:"/admin",icon:(0,e.jsx)(j.Z,{})},{text:"Crop Recommendations",link:"/admin/bulletins/crops",icon:(0,e.jsx)(C.Z,{})},{text:"Risks Recommendations",link:"/admin/bulletins/risks",icon:(0,e.jsx)(C.Z,{})},{text:"BACAP Settings",link:"/admin/weather",icon:(0,e.jsx)(S.Z,{})}],T=[{text:"Profile",link:"/admin/profile",icon:(0,e.jsx)(k.Z,{})},{text:"BACAP Website",link:"/",icon:(0,e.jsx)(b.Z,{})},{text:"Logout",link:"#",icon:(0,e.jsx)(Z.Z,{})}];function R(n){var t=n.window,r=W(o.useState(!1),2),b=r[0],Z=r[1],j=W(o.useState(null),2),k=j[0],C=j[1],S=(0,v.useRouter)(),P=n.user,R=n.onBtnClick;o.useEffect((function(){var n=S.route.substr(S.route.lastIndexOf("/")+1,S.route.length),t={admin:0,crops:1,risks:2,weather:3,profile:4,create:1,view:1};C(t[n]?t[n]:0)}),[S.route]);var N=function(){Z(!b)},_=(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{}),(0,e.jsx)(c.Z,{}),(0,e.jsx)(d.Z,{sx:B.list,disablePadding:!0,children:A.map((function(n,t){return(0,e.jsx)(y.default,{href:n.link,passHref:!0,children:(0,e.jsxs)(x.Z,{className:"listitembutton-styled",selected:k===t,children:[(0,e.jsx)(h.Z,{sx:{color:"inherit"},children:n.icon}),(0,e.jsx)(m.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]},n.label)},t)}))}),(0,e.jsx)(c.Z,{}),(0,e.jsx)(d.Z,{sx:B.list,children:T.map((function(n,t){return"Logout"===n.text?(0,e.jsx)(y.default,{href:n.link,passHref:!0,children:(0,e.jsxs)(x.Z,{className:"listitembutton-styled",selected:k===t+4,onClick:R,children:[(0,e.jsx)(h.Z,{sx:{color:"inherit"},children:n.icon}),(0,e.jsx)(m.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},t):(0,e.jsx)(y.default,{href:n.link,passHref:!0,children:(0,e.jsxs)(x.Z,{className:"listitembutton-styled",selected:k===t+4,children:[(0,e.jsx)(h.Z,{sx:{color:"inherit"},children:n.icon}),(0,e.jsx)(m.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},t)}))})]}),I=void 0!==t?function(){return t().document.body}:void 0;return(0,e.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,e.jsx)(s.ZP,{}),(0,e.jsx)(a.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(M,"px)")},ml:{sm:"".concat(M,"px")}},children:(0,e.jsxs)(f.Z,{sx:B.toolbar,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(p.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:N,sx:{mr:2,display:{sm:"none"}},children:(0,e.jsx)(w.Z,{})}),(0,e.jsx)(g.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,e.jsxs)(i.Z,{sx:B.profileToolbar,children:["Welcome, ",P.email,"!"]})]})}),(0,e.jsxs)(i.Z,{component:"nav",sx:{width:{sm:M},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,e.jsx)(u.ZP,{container:I,variant:"temporary",open:b,onClose:N,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:M}},children:_}),(0,e.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:M,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:_})]}),(0,e.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(M,"px)")}},children:[(0,e.jsx)(f.Z,{}),(0,e.jsx)(l.Z,{maxWidth:"lg",children:n.children})]})]})}var N=r(4623);var _=function(n){return(0,e.jsxs)(i.Z,{sx:{marginTop:function(n){return n.spacing(4)}},children:[n.loading&&(0,e.jsx)(N.Z,{}),!n.loading&&n.user&&(0,e.jsx)(R,{user:n.user,onBtnClick:n.onBtnLogoutClick,children:n.children})]})}},9883:function(n,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var e=r(4051),i=r.n(e),o=r(5893),a=r(7294),s=r(1163),l=r(3835),c=r(5861),u=r(7702);var p=function(n){return(0,o.jsxs)(u.Z,{loading:n.loading,user:n.user,onBtnLogoutClick:n.onBtnClick,children:[(0,o.jsx)(c.Z,{variant:"h5",children:"Climate Risks Recommendations"}),(0,o.jsxs)("p",{children:["Create and preview ",(0,o.jsx)("strong",{children:"10-Day"})," and ",(0,o.jsx)("strong",{children:"Seasonal"})," climate risks bulletins. Finalized bulletins will be automatically uploaded to the site for public download."]})]})};function d(n,t,r,e,i,o,a){try{var s=n[o](a),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(e,i)}function h(){var n=(0,l.aC)(),t=(0,s.useRouter)();(0,a.useEffect)((function(){n.loading||n.user||t.push("/admin/login")}),[n.user,n.loading,t]);var r=function(){var t,r=(t=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.logOut();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var n=this,r=arguments;return new Promise((function(e,i){var o=t.apply(n,r);function a(n){d(o,e,i,a,s,"next",n)}function s(n){d(o,e,i,a,s,"throw",n)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.jsx)(p,{loading:n.loading,user:n.user,onBtnClick:r})}h.customLayout=!0,h.adminPage=!0;var m=h}},function(n){n.O(0,[531,774,888,179],(function(){return t=9179,n(n.s=t);var t}));var t=n.O();_N_E=t}]);