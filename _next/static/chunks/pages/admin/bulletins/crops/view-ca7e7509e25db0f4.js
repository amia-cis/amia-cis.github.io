(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{7070:function(n,e,t){"use strict";t(7294);var r=t(2066),i=t(5893);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},6686:function(n,e,t){"use strict";t(7294);var r=t(2066),i=t(5893);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1930:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/crops/view",function(){return t(1116)}])},7513:function(n,e){"use strict";e.Z={container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",margin:"auto",borderColor:"#E2E8F0"},welcome:{display:"grid",placeContent:"center",marginTop:function(n){return n.spacing(10)},textAlign:"center","& h5":{marginTop:function(n){return n.spacing(2)}}},conditionLegend:{maxWidth:{md:"100%",lg:"270px"},marginBottom:"32px",padding:function(n){return n.spacing(1)},borderRadius:"4px",border:"1px solid grey",textAlign:"center",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},autocomplete:{marginTop:function(n){return n.spacing(1)}},recSeasonal:{marginTop:function(n){return n.spacing(1)},"& p, ul":{fontSize:"14px"}},gridContainer:{marginTop:"24px",minHeight:500,width:1,"& .normal":{backgroundColor:"yellow"},"& .drier":{backgroundColor:"red"},"& .wetter":{backgroundColor:"blue"}},button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",width:"80px",height:{xs:"40px",sm:"50px"}},pdfcontent:{ul:{paddingLeft:3}}}},1033:function(n,e,t){"use strict";t.d(e,{Z:function(){return s}});var r=t(5893),i=t(5675),o=t(7357),a=t(5861),l=t(120),c={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(n){return n.spacing(2)},color:function(n){return n.palette.text.secondary},borderStyle:"dashed",padding:function(n){return n.spacing(2)},marginTop:function(n){return n.spacing(4)}}};var s=function(n){var e=n.message,t=void 0===e?"Failed to load data":e;return(0,r.jsxs)(o.Z,{sx:c.container,children:[(0,r.jsx)(i.default,{unoptimized:!0,src:(0,l.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:l.imageLoader,alt:"Empty data"}),(0,r.jsx)(a.Z,{variant:"subtitle1",children:t})]})}},4884:function(n,e,t){"use strict";t.d(e,{Z:function(){return c}});var r=t(5893),i=t(7357),o=t(7720),a=t(8078),l={container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",margin:"auto",borderColor:"#E2E8F0"},divider:{marginTop:"32px",marginBottom:"32px"},text:{marginTop:"16px",marginBottom:"16px"}};var c=function(){return(0,r.jsxs)(i.Z,{sx:l.container,children:[(0,r.jsx)(i.Z,{sx:{width:"300px"},children:[1,2,3,4,5,6,7,8].map((function(n){return(0,r.jsx)(a.Z,{variant:"text"},"up-".concat(n))}))}),(0,r.jsx)(o.Z,{sx:l.divider}),(0,r.jsx)(i.Z,{children:[1,2,3,4,5,6,7,8].map((function(n){return(0,r.jsx)(a.Z,{variant:"rectangular",sx:l.text},"down-".concat(n))}))})]})}},3501:function(n,e,t){"use strict";t.d(e,{Z:function(){return y}});var r=t(5893),i=t(7294),o=t(5697),a=t.n(o),l=t(1057),c=t(9536),s=t(8456),d=t(657),u=t(1425),p=t(7645),x=t(6580),f=t(3946),g={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",height:{xs:"40px",sm:"50px"},"& .text":{display:{xs:"block",sm:"none"}},"& .shortText":{display:{xs:"inline-block",sm:"none"},fontSize:"24px"}},icon:{display:{xs:"block",sm:"none"}},dialogContent:{"& .error":{fontSize:"12px",color:"red"}},dialogActions:{"& button":{minWidth:"100px"}},closeButton:{position:"absolute",right:"8px",top:"8px",color:function(n){return n.palette.grey[500]}}};function h(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function m(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){m(n,e,t[e])}))}return n}function v(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return h(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(n){var e=v(i.useState({open:null}),2),t=e[0],o=e[1],a=n.loading,h=void 0!==a&&a,m=n.isOpen,j=void 0!==m&&m,y=n.maxWidth,w=void 0===y?"sm":y,Z=n.IconSVG,k=void 0===Z?null:Z,C=n.modalExtraHandlerCB,O=void 0===C?null:C,S=n.modalCancelHandlerCB,B=void 0===S?null:S,T=n.modalConfirmHandlerCB,F=void 0===T?null:T,E=n.modalOpenHandlerCB,P=void 0===E?null:E,D=n.isDisabled,A=void 0!==D&&D,R=n.openButtonText,_=void 0===R?"Click":R,z=n.title,W=void 0===z?"Window Title":z,H=n.extraBtnText,L=void 0===H?"":H,M=n.cancelBtnText,I=void 0===M?"Cancel":M,N=n.confirmBtnText,q=void 0===N?"Ok":N,G=n.contentText,K=void 0===G?"":G,V=n.error,X=void 0===V?"":V;(0,i.useEffect)((function(){o((function(n){return b({},n,{open:j})}))}),[j]);var U=function(){o(b({},t,{open:!1})),B&&B()};return(0,r.jsxs)("div",{children:[_&&(0,r.jsxs)(l.Z,{disabled:A,disableElevation:!0,variant:"contained",color:"primary",onClick:function(){o(b({},t,{open:!0})),P&&P()},sx:g.button,children:[k&&(0,r.jsx)(k,{sx:g.icon}),_]}),(0,r.jsxs)(d.Z,{maxWidth:w,fullWidth:!0,open:t.open||!1,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsxs)(p.Z,{children:[(0,r.jsx)("span",{children:W}),(0,r.jsx)(f.Z,{"aria-label":"close",sx:g.closeButton,onClick:U,children:(0,r.jsx)(c.Z,{})})]}),(0,r.jsxs)(x.Z,{sx:g.dialogContent,children:[""!==K&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:K}),(0,r.jsx)("div",{className:"error",children:X})]}),n.children]}),(0,r.jsxs)(u.Z,{sx:g.dialogActions,children:[""!==L&&(0,r.jsx)(l.Z,{onClick:O||U,disabled:h,children:L}),(0,r.jsx)(l.Z,{onClick:B||U,disabled:h,children:I}),(0,r.jsxs)(l.Z,{variant:"contained",disabled:h,onClick:F,children:[(0,r.jsx)("span",{style:{display:h?"none":"block"},children:q}),(0,r.jsx)(s.Z,{size:24,color:"secondary",sx:{display:h?"block":"none"}})]})]})]})]})}j.propTypes={loading:a().bool,isOpen:a().bool,maxWidth:a().string,IconSVG:a().elementType,modalCancelHandlerCB:a().func,modalConfirmHandlerCB:a().func,modalOpenHandlerCB:a().func,modalExtraHandlerCB:a().func,openButtonText:a().string,cancelBtnText:a().string,confirmBtnText:a().string,extraBtnText:a().string,title:a().string,contentText:a().string,children:a().node,error:a().string,isDisabled:a().bool};var y=j},1116:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return L}});var r=t(4051),i=t.n(r),o=t(5893),a=t(7294),l=t(1163),c=t(8152),s=t(7426),d=t(3059),u=t(2530),p=t(5697),x=t.n(p),f=t(7357),g=t(1057),h=t(6863),m=t(7720),b=t(8409),v=t(44),j=t(5861),y=t(4884),w=t(1033),Z=t(3501),k=t(7513),C=t(5799),O=t(1927),S=t(8396);function B(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){B(n,e,t[e])}))}return n}function F(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var E=(0,C.Z)();function P(n){var e=n.children,t=n.value,r=n.index,i=F(n,["children","value","index"]);return i.smallscreen&&(i.smallscreen=i.smallscreen.toString()),(0,o.jsx)("div",T({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i,{children:t===r&&(0,o.jsx)(f.Z,{sx:{p:i.smallscreen?2:3},children:e})}))}function D(n){return{id:"simple-tab-".concat(n),"aria-controls":"simple-tabpanel-".concat(n)}}E.typography.h5=B({fontSize:"1.2rem","@media (min-width:600px)":{fontSize:"1.5rem"}},E.breakpoints.up("md"),{fontSize:"2rem"}),P.propTypes={children:x().node,index:x().number.isRequired,value:x().number.isRequired};var A=function(n){var e=n.report,t=n.loading,r=n.onBackBtnClick,i=n.onDeleteClick,l=(0,a.useState)(0),c=l[0],s=l[1],d=(0,S.Z)(E.breakpoints.between("xs","md"));return(0,o.jsx)("div",{children:t||e.loading?(0,o.jsx)(y.Z,{}):void 0!==e.stages?(0,o.jsxs)(f.Z,{container:!0,sx:k.Z.container,children:[(0,o.jsxs)(f.Z,{sx:{marginBottom:"32px",display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)(O.Z,{theme:E,children:(0,o.jsx)(j.Z,{variant:"h5",children:"Crop Recommendation Summary"})}),(0,o.jsxs)(h.Z,{orientation:d?"vertical":"horizontal",children:[(0,o.jsx)(g.Z,{disableElevation:!0,variant:"contained",color:"primary",sx:k.Z.button,onClick:r,children:"Back"})," ","\xa0",(0,o.jsx)(Z.Z,{isOpen:!1,maxWidth:"sm",openButtonText:"Delete",title:"Delete Report",contentText:""!==e.info?e.info:"Are you sure you want to delete this Bulletin report log?",confirmBtnText:""!==e.info?"Ok":"Delete",modalConfirmHandlerCB:i,loading:e.deleting})]})]}),(0,o.jsxs)(f.Z,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Province:"})," ",e.province]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Municipality:"})," ",e.municipality]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Crop:"})," ",e.crop]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Month:"})," ",e.month]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Crop Stage(s):"})," ",e.stages.toString().split(",").join(", ")]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Activities:"})," ",e.activities.toString().split(",").join(", ")]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Created by:"})," ",e.updated_by]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Date created:"})," ",e.date_created.toDate().toDateString()]}),(0,o.jsxs)(j.Z,{variant:"caption",children:[(0,o.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,o.jsx)(m.Z,{sx:{marginTop:"32px"}})]}),(0,o.jsxs)(f.Z,{sx:{width:"100%"},children:[(0,o.jsx)(f.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,o.jsxs)(b.Z,{value:c,onChange:function(n,e){s(e)},"aria-label":"basic tabs example",children:[(0,o.jsx)(v.Z,T({label:"PDF FORM"},D(0))),(0,o.jsx)(v.Z,T({label:"SMS FORM"},D(1)))]})}),(0,o.jsx)(P,{value:c,index:0,smallscreen:!!d||void 0,children:(0,o.jsx)(f.Z,{sx:{ul:d?k.Z.pdfcontent.ul:"none"},dangerouslySetInnerHTML:{__html:e.recommendations}})}),(0,o.jsx)(P,{value:c,index:1,children:(0,o.jsx)(j.Z,{variant:"body1",gutterBottom:!0,children:e.smsRecommendations||(0,o.jsx)("span",{style:{color:"#ff1744"},children:"No SMS Recommendations available."})})})]})]}):(0,o.jsx)(w.Z,{})})};function R(n,e,t,r,i,o,a){try{var l=n[o](a),c=l.value}catch(s){return void t(s)}l.done?e(c):Promise.resolve(c).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){R(o,r,i,a,l,"next",n)}function l(n){R(o,r,i,a,l,"throw",n)}a(void 0)}))}}function z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){z(n,e,t[e])}))}return n}var H={loading:!0,error:"",info:"",deleting:!1};var L=(0,d.Z)((function(n){var e=(0,a.useState)(H),t=e[0],r=e[1],d=(0,l.useRouter)();(0,a.useEffect)((function(){if(t.loading&&Object.keys(d.query).length>0){var n=function(){var n=_(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.fL)(d.query.docId);case 3:e=n.sent,r((function(n){return W({},n,{loading:!1},e)})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r(W({},H,{loading:!1,error:n.t0.message}));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}}),[d,t.loading]);var p=function(){var n=_(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==t.info){n.next=13;break}return n.prev=1,r(W({},t,{deleting:!0})),n.next=5,(0,c.GR)(t.id);case 5:r((function(n){return W({},n,{deleting:!1,info:"Report deleted."})})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(W({},H,{deleting:!1,error:n.t0.message}));case 11:n.next=14;break;case 13:d.push("/admin/bulletins/crops");case 14:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();return(0,o.jsx)(u.Z,{loading:n.loading,user:n.user,onBtnLogoutClick:n.onBtnLogoutClick,accLevel:s.DW.ADMIN,children:(0,o.jsx)(A,{report:t,loading:n.loading,onBackBtnClick:function(){d.push("/admin/bulletins/crops")},onDeleteClick:p})})}))}},function(n){n.O(0,[135,669,203,572,489,728,152,774,888,179],(function(){return e=1930,n(n.s=e);var e}));var e=n.O();_N_E=e}]);