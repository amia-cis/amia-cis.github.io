(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4169],{13063:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/crops/special/create",function(){return n(52358)}])},52358:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r=n(34051),u=n.n(r),o=n(85893),a=n(67294),i=n(9473),c=n(87682),s=n(30340),l=n(66383),f=n(95243),p=n(30560),v=n(1029),d=n(16327),y=n(61690),b=n(87006),m=n(24530),h=n(901),g=n(76490),_=n(33050),S=n(4463);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t,n){var r=(0,a.useState)([]),u=r[0],o=r[1];return(0,a.useEffect)((function(){if((null===e||void 0===e?void 0:e.data)&&(null===t||void 0===t?void 0:t.data)&&n.length>0&&0===u.length){var r=e.data.map((function(e){return e.province})).filter((function(e,t,n){return n.indexOf(e)===t})),a=e.data.reduce((function(e,t){return void 0===e[t.province]&&(e[t.province]=[]),e[t.province]=w(e[t.province]).concat(w(t.municipalities)),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({},e)}),{}),i=w(n);i.forEach((function(t){t.disabled=!r.includes(t.label),t.municipalities.forEach((function(n){var r=e.data.findIndex((function(e){return e.province===n.province&&e.municipalities.includes(n.label)}));t.disabled?n.disabled=!0:(n.disabled=!a[t.label].includes(n.label),n.signal=r>-1?e.data[r].signal:0)}))})),o(i)}}),[e,t,n,u]),{affectedprovinces:u}}var P=n(68193),x=n(23766),L=n(41375),I=n(94640),R=n(16013),k=n(27392),C=n(47426),N=n(53063),D=n(12671),T=n(87661),j=n(77715),Y=n(87784);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,r,u,o,a){try{var i=e[o](a),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,u)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var o=e.apply(t,n);function a(e){B(o,r,u,a,i,"next",e)}function i(e){B(o,r,u,a,i,"throw",e)}a(void 0)}))}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,u,o=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){i=!0,u=c}finally{try{a||null==n.return||n.return()}finally{if(i)throw u}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:[],sel_month:null,processed:!1,loading:!1,error:"",success:"",sel_condition:{id:0,from:"weather_condition",label:C.MW.WAY_BELOW_NORMAL.label}},Z={url:"",filename:""};var U=(0,f.Z)((function(e){var t=e.user,n=e.onBtnLogoutClick,r=e.loading,f=(0,a.useState)(K),E=f[0],O=f[1],w=(0,a.useState)([]),G=w[0],B=w[1],U=(0,a.useState)([]),V=U[0],J=U[1],X=(0,a.useState)(null),$=X[0],q=X[1],z=(0,I.Z)(E.sel_province,E.sel_municipality),Q=z.days,ee=z.loading,te=z.error,ne=z.summary,re=F((0,c.ky)(v.K.GLOBAL_COLLECTIONS,v.K.CYCLONE_ADVISORY),2),ue=re[0],oe=re[1],ae=F((0,c.ky)(p.M.WEATHER_FORECASTS,"".concat("bicol","/").concat(p.M.SUB_SPECIAL_COMMON,"/").concat(p.M.COMMON_SPECIAL_TYPE.WIND_SPEED)),2),ie=ae[0],ce=ae[1],se=(0,a.useState)([]),le=se[0],fe=se[1],pe=A(ie,ue,le).affectedprovinces,ve=(0,x.Z)(E.sel_province,pe),de=(0,_.Z)(E.sel_province),ye=de.cropcalendar,be=de.loading,me=de.error,he=(0,g.Z)(ye,E.sel_municipality),ge=(0,S.Z)(G,(0,j.aV)(!1),he),_e=ge.cropslist,Se=ge.uniquecropstages,Ee=ge.error,Oe=(0,P.Z)($,null,R.q.SPECIAL,!0),we=Oe.recommendations,Ae=Oe.farmoperations,Pe=Oe.loading,xe=Oe.error,Le=(0,L.Z)(we),Ie=Le.group,Re=Le.error,ke=(0,i.v9)((function(e){return e.reports})),Ce=ke.status,Ne=ke.report,De=(0,i.v9)((function(e){return e.dashboard.reportType})),Te=(0,i.v9)((function(e){return e.dashboard.isEnglish})),je=(0,a.useState)(!0),Ye=je[0],Ge=je[1],Be=(0,a.useState)(!1),Me=Be[0],We=Be[1],He=(0,a.useRef)(!1),Fe=(0,a.useState)(""),Ke=Fe[0],Ze=Fe[1],Ue=(0,a.useState)(Z),Ve=Ue[0],Je=Ue[1],Xe=(0,a.useState)(k.BF),$e=Xe[0],qe=Xe[1],ze=(0,i.I0)();(0,a.useEffect)((function(){He.current=!0;var e=function(){var e=M(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.$m)();case 3:t=e.sent,He&&fe(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){He.current=!1}}),[]),(0,a.useEffect)((function(){ze((0,m.Km)([])),ze((0,D.s_)())}),[ze]),(0,a.useEffect)((function(){null!==ne&&O((function(e){return H({},e,{sel_month:{label:(0,j.aV)()}})}))}),[ne]),(0,a.useEffect)((function(){Ge(r||be||Pe||ee||oe===h.G.PENDING||ce===h.G.PENDING)}),[r,be,Pe,ee,oe,ce]),(0,a.useEffect)((function(){Je(Z)}),[Te]),(0,a.useEffect)((function(){if(""!==me||""!==xe||""!==te||""!==Ee){var e=me||xe||te||Ee;O((function(t){return H({},t,{error:e})}))}else O((function(e){return H({},e,{error:""})}))}),[Ee,xe,te,me]),(0,a.useEffect)((function(){null===E.sel_municipality||ee||oe===h.G.PENDING||Ze((function(e){var t,n,r,u;return(0,T.smsWriter)({type:T.SMS_TYPE.SPECIAL,replacements:(u={},W(u,T.REPLACE_KEYS.SPECIAL.TYPHOON_NAME,(null===ue||void 0===ue||null===(t=ue.meta)||void 0===t?void 0:t.typhoon_name)||"-"),W(u,T.REPLACE_KEYS.SPECIAL.TYPHOON_SIGNAL,(null===E||void 0===E||null===(n=E.sel_municipality)||void 0===n?void 0:n.signal)||0),W(u,T.REPLACE_KEYS.SPECIAL.MUNICIPALITY,(null===E||void 0===E||null===(r=E.sel_municipality)||void 0===r?void 0:r.label)||"-"),u)})}))}),[Q,ee,ue,oe,E.sel_municipality]),(0,a.useEffect)((function(){Ce===h.G.FULLFILLED&&null!==Ne&&He.current&&qe((function(e){return H({},e,{msg:"Success! Bulletin report created.",loading:!1,savesuccess:!0,docId:Ne.id})}))}),[Ce,Ne]),(0,a.useEffect)((function(){Re||null===Ie||ze((0,m.Km)(Ie))}),[Ie,Re,ze]),(0,a.useEffect)((function(){if(!r&&""===E.error)if(Se.length>0){var e=Se.map((function(e){return e.code})).toString(),t=Se.map((function(e){return e.label})).toString();q(e),O((function(e){return H({},e,{sel_crop:_e.map((function(e){return e.label})).toString().split(",").join(", "),sel_stage:t})}))}else ze((0,m.Km)([])),null!==E.sel_municipality&&O((function(e){return H({},e,{error:"No crop stages are available for this date on ".concat(e.sel_municipality,".")})}))}),[Se,_e,r,,ze]);var Qe=function(){var e=M(u().mark((function e(){var t,n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===Ve.url){e.next=3;break}return We(!0),e.abrupt("return");case 3:return O((function(e){return H({},e,{loading:!0,error:"",success:""})})),e.prev=4,t={region:"bicol",province:E.sel_province,municipality:E.sel_municipality,date:(new Date).toDateString(),operation:"preview",language:Te?"en":"tag"},We(!0),O((function(e){return H({},e,{loading:!0,error:""})})),e.next=10,(0,b.U1)(t);case 10:n=e.sent,r=new Blob([n],{type:"application/pdf"}),(o={}).href=URL.createObjectURL(r),o.download="".concat(E.sel_province,"_").concat(E.sel_municipality,".pdf"),Je((function(e){return H({},e,{url:o.href,filename:o.download})})),O((function(e){return H({},e,{loading:!1,success:"Bulletin preview created."})})),e.next=25;break;case 19:return e.prev=19,e.t0=e.catch(4),e.next=23,(0,Y.fu)(e.t0);case 23:a=e.sent,O((function(e){return H({},e,{loading:!1,error:a})}));case 25:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=M(u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qe(H({},$e,{loading:!0,msg:"Saving report..."}));try{n={region:"bicol",province:E.sel_province,municipality:E.sel_municipality,date:(new Date).toDateString(),operation:"create",language:Te?"en":"tag"},ze((0,y.tR)(n)).unwrap().then((function(){De!==k.Ry.SPECIAL_WEATHER&&(ze((0,N.uq)(k.Ry.SPECIAL_WEATHER)),ze((0,y.RC)({uid:t.uid,type:k.Ry.SPECIAL_WEATHER})))})).catch((function(e){He.current&&qe((function(t){return H({},t,{msg:e,loading:!1,savesuccess:!1,docId:null})}))}))}catch(o){r="",void 0!==o.response&&(r=void 0!==o.response.data&&"[object Blob]"===((u=o.response.data)&&"undefined"!==typeof Symbol&&u.constructor===Symbol?"symbol":typeof u)?o.response.data:""),""===r&&(r=o.message),O((function(e){return H({},e,{loading:!1,error:r})}))}case 2:case"end":return e.stop()}var u}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.jsx)(l.Z,{loading:r,user:t,onBtnLogoutClick:n,accLevel:C.DW.ADMIN,children:(0,o.jsx)(s.Z,{optsprovinces:pe,optsmunicipalities:ve,optscrops:_e,optscropstages:Se,optsactivities:Ae,sel_options:E,loading:Ye,isloadingreport:Ce===h.G.PENDING,isdisabled:!1===(null===ue||void 0===ue?void 0:ue.has_cyclone),open:Me,message:$e,smstext:Ke,pageTitle:"Special Weather Bulletin",pageDescription:"Create <strong>Special Weather</strong> crop recommendations bulletins. Finalized bulletins will be automatically uploaded to the site for public download.",pdfPreview:Ve,onSelectItemChange:function(e,t){var n=t.from,r=t.label;if(Je(Z),V.length>0&&J([]),""!==E.error&&O((function(e){return H({},e,{error:""})})),Object.keys(t).includes("id"))switch(n){case"province":q(null),O((function(e){return H({},e,{sel_province:r,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null})}));break;case"municipality":q(null),O((function(e){return H({},e,{sel_municipality:r,sel_crop:null,sel_stage:null,sel_activity:null})})),B(ye.filter((function(e){return e.municipality===r})))}else if("province"===n){var u=E.sel_month;O(H({},K,{sel_month:u})),q(null)}else"municipality"===n&&(O(H({},E,{sel_municipality:null,sel_crop:null,sel_day:null,sel_stage:null,sel_activity:null})),q(null))},handlePreview:Qe,handleSave:et,toggleViewerOpen:function(){We((function(e){return!e}))},resetSelections:function(){var e=E.sel_month;O(H({},K,{sel_month:e})),q(null),ze((0,m.Km)([]))},togglePrompt:function(){qe((function(e){return H({},k.BF,{isOpen:!e.isOpen})}))}})})}))},87682:function(e,t,n){"use strict";n.d(t,{ky:function(){return p},Kx:function(){return v},m$:function(){return d},tl:function(){return y}});var r=n(34051),u=n.n(r),o=n(67294),a=n(25321),i=n(96772);function c(e,t,n,r,u,o,a){try{var i=e[o](a),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,u)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var o=e.apply(t,n);function a(e){c(o,r,u,a,i,"next",e)}function i(e){c(o,r,u,a,i,"throw",e)}a(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function p(e,t){var n=(0,o.useState)(null),r=n[0],c=n[1],l=(0,o.useState)(!0),f=l[0],p=l[1],v=(0,o.useState)(""),d=v[0],y=v[1],b=(0,o.useRef)(!0);return(0,o.useEffect)((function(){var n=function(){var n=s(u().mark((function n(){var r,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=(0,a.JU)(i.db,e,t),n.next=4,(0,a.QT)(r);case 4:(o=n.sent).exists()&&b.current&&(c(o.data()),p(!1)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),y(n.t0.message),p(!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return b.current=!1}}),[e,t]),[r,f,d]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(0,o.useState)([]),c=r[0],l=r[1],p=(0,o.useState)(!0),v=p[0],d=p[1],y=(0,o.useState)(""),b=y[0],m=y[1],h=(0,o.useRef)(!0);return(0,o.useEffect)((function(){var r=function(){var r=s(u().mark((function r(){var o,c,s;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=(0,a.hJ)(i.db,e),c=n||(0,a.IO)(o,(0,a.Xo)(t,"asc")),r.next=5,(0,a.PL)(c);case 5:s=r.sent,h.current&&(l(s.docs.map((function(e){return f({},e.data())}))),d(!1)),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),m(r.t0.message),d(!1);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();return r(),function(){return h.current=!1}}),[e,t,n]),{documents:c,loading:v,error:b}}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=(0,o.useState)([]),l=c[0],p=c[1],v=(0,o.useState)(!0),d=v[0],y=v[1],b=(0,o.useState)(""),m=b[0],h=b[1],g=(0,o.useRef)(!0);return(0,o.useEffect)((function(){var o=function(){var o=s(u().mark((function o(){var c,s;return u().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,c=(0,a.IO)((0,a.hJ)(i.db,e,t,n),(0,a.Xo)(r)),u.next=4,(0,a.PL)(c);case 4:s=u.sent,g.current&&(p(s.docs.map((function(e){return f({},e.data())}))),y(!1)),u.next=12;break;case 8:u.prev=8,u.t0=u.catch(0),h(u.t0.message),y(!1);case 12:case"end":return u.stop()}}),o,null,[[0,8]])})));return function(){return o.apply(this,arguments)}}();return o(),function(){return g.current=!1}}),[e,t,n,r]),{documents:l,loading:d,error:m}}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4?arguments[4]:void 0,l=(0,o.useState)([]),p=l[0],v=l[1],d=(0,o.useState)(!0),y=d[0],b=d[1],m=(0,o.useState)(""),h=m[0],g=m[1],_=(0,o.useRef)(!0);return(0,o.useEffect)((function(){var o=function(){var o=s(u().mark((function o(){var s,l;return u().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,s=(0,a.hJ)(i.db,e,t,n),""!==r&&(s=(0,a.IO)(s,(0,a.Xo)(r))),c&&(s=(0,a.IO)(s,(0,a.b9)(c))),u.next=6,(0,a.PL)(s);case 6:l=u.sent,_.current&&(v(l.docs.map((function(e){return f({},e.data())}))),b(!1)),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(0),g(u.t0.message),b(!1);case 14:case"end":return u.stop()}}),o,null,[[0,10]])})));return function(){return o.apply(this,arguments)}}();return o(),function(){return _.current=!1}}),[e,t,n,r,c]),{documents:p,loading:y,error:h}}},1029:function(e,t,n){"use strict";n.d(t,{K:function(){return g},d:function(){return _}});var r=n(34051),u=n.n(r),o=n(94763),a=n(96772),i=n(47426),c=n(27392);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,n,r,u,o,a){try{var i=e[o](a),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,u)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var o=e.apply(t,n);function a(e){l(o,r,u,a,i,"next",e)}function i(e){l(o,r,u,a,i,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function y(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?s(e):t}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}var m=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var u=d(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return y(this,n)}}var g={MEDIA_ASSETS:"n_page_media",ASSETS:"n_page_assets",PAGE_SEARCH:"n_page_search",GLOBAL_COLLECTIONS:"w_services",TYPHOON_ADVISORY:"typhoon_advisory",CYCLONE_ADVISORY:"cyclone_advisory"},_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,e);var t=h(n);function n(){var e;p(this,n);var r=s(e=t.apply(this,arguments));v(s(e),"getPageAssetsDoc",function(){var e=f(u().mark((function e(t,n){var o,a,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>2&&void 0!==i[2]&&i[2],a=[],e.prev=2,e.next=5,r.getDocumentData(g.ASSETS,t);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",[]);case 8:if(n){e.next=10;break}return e.abrupt("return",a);case 10:if(!o){e.next=14;break}return e.abrupt("return",a.data.filter((function(e){return e.page===n})));case 14:return e.abrupt("return",a.data.filter((function(e){return e.page===n})).map((function(e){return e.url})));case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(2),console.error(e.t0.message),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,n){return e.apply(this,arguments)}}());var o=s(e);v(s(e),"getTyphoonAdvisory",f(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.doc(o.db,g.GLOBAL_COLLECTIONS,g.TYPHOON_ADVISORY),e.next=3,o.getDoc(t);case 3:if(!(n=e.sent).exists()){e.next=6;break}return e.abrupt("return",n.data());case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)}))));var l=s(e);return v(s(e),"getWeatherForecast",function(){var e=f(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getNestedCollectionData(g.WEATHER_FORECASTS,t,n,"name");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),v(s(e),"getPdfDownloadURL",function(){var e=f(u().mark((function e(t){var n,r,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:c.Ry.SEASONAL,r="",e.t0=n,e.next=e.t0===c.Ry.SEASONAL?5:e.t0===c.Ry.TEN_DAY?7:e.t0===c.Ry.SPECIAL_WEATHER?9:11;break;case 5:return r=i.Do.PDF_STORAGE_SEASONAL,e.abrupt("break",12);case 7:return r=i.Do.PDF_STORAGE_TENDAY,e.abrupt("break",12);case 9:return r=i.Do.PDF_STORAGE_SPECIAL,e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:return e.prev=12,o=(0,a.iH)(a.tO,"".concat(r,"/").concat(t)),e.next=16,(0,a.Jt)(o);case 16:return e.abrupt("return",e.sent);case 19:throw e.prev=19,e.t1=e.catch(12),new Error(e.t1.message);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}()),e}return n}(o.Z)}},function(e){e.O(0,[6284,2866,9964,9522,1903,6279,6295,4039,2882,7092,6572,1050,2944,7702,1241,9774,2888,179],(function(){return t=13063,e(e.s=t);var t}));var t=e.O();_N_E=t}]);