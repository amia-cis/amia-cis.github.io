(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4169],{9488:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/crops/special/create",function(){return t(4301)}])},4301:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return ce},default:function(){return se}});var i=t(4051),r=t.n(i),a=t(5893),l=t(7294),o=t(9473),c=t(7682),s=t(1163),u=t(1664),d=t(5675),p=t(6660),f=t(1023),m=t(6295),v=t(1057),b=t(6863),y=t(7357),_=t(6886),h=t(3946),g=t(1903),x=t(5861),S=t(1829),E=t(7517),O=t(9227),j=t(5688),w=t(2094),P=t(901),C=t(2671),L=t(6938);function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){I(e,n,t[n])}))}return e}var Z=[{key:"sel_province",label:"Province"},{key:"sel_municipality",label:"Municipality"},{key:"sel_crop",label:"Crop"},{key:"sel_month",label:"Date"},{key:"sel_stage",label:"Crop Stages"},{key:"sel_activity",label:"Activities"}];var k=function(e){var n=(0,s.useRouter)(),t=(0,o.I0)(),i=e.sel_options,r=e.provinces,l=e.isCreateDisabled,c=e.optsmunicipalities,I=e.error,k=e.open,R=e.message,N=e.smstext,D=e.loading,M=e.onSelectItemChange,T=e.handlePreview,W=e.togglePrompt,B=e.toggleViewerOpen,G=e.pdfPreview,F=e.resetSelections,U=e.generateRecommendations,Y=e.handleSave,H=(0,o.v9)((function(e){return e.reports})),K=H.report,V=H.status,z=function(){K&&(t((0,C.s_)()),n.push("/admin/bulletins/crops/report/view/?docId=".concat(K.id)))},J=function(){var e="Loading...";return r.length>0&&(e=null===i.sel_province?"Select a province":"Province"),e};return(0,a.jsxs)("div",{children:[(0,a.jsx)(O.Z,{isOpen:R.isOpen,maxWidth:"xs",openButtonText:null,title:R.title,contentText:R.msg,loading:R.loading,modalCancelHandlerCB:function(){R.savesuccess?z():W()},modalConfirmHandlerCB:function(){R.savesuccess?z():Y()}}),(0,a.jsx)(w.Z,{open:k,pdfPreview:G,error:i.error,loading:i.loading,toggleViewerOpen:B}),(0,a.jsx)(j.Z,{openSnackbar:""!==I,message:I,severity:"warning"}),(0,a.jsxs)(_.ZP,{container:!0,sx:L.Z.container,children:[(0,a.jsxs)(y.Z,{sx:L.Z.headerText,children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(x.Z,{variant:"h5",children:"Special Weather Bulletin"}),(0,a.jsxs)("p",{children:["Create ",(0,a.jsx)("strong",{children:"Special Weather"})," crop recommendations bulletins. Finalized bulletins will be automatically uploaded to the site for public download."]})]}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(h.Z,{"aria-label":"exit",size:"medium",children:(0,a.jsx)(u.default,{href:"/admin/bulletins/crops",passHref:!0,children:(0,a.jsx)(f.Z,{fontSize:"inherit"})})})})]}),(0,a.jsxs)(_.ZP,{item:!0,sx:L.Z.item,xs:12,lg:4,children:[(0,a.jsx)(x.Z,{variant:"h6",children:"Selection Options"}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"province",value:i.sel_province,disabled:0===r.length||D||V===P.G.PENDING,options:r,sx:L.Z.autocomplete,size:"small",PaperComponent:S.Z,renderInput:function(e){return(0,a.jsx)(g.Z,A({},e,{label:J()}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return M(e,A({},n,{from:"province"}))}}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"municipality",value:i.sel_municipality,disabled:0===c.length||D||V===P.G.PENDING,options:c,sx:L.Z.autocomplete,size:"small",PaperComponent:S.Z,renderInput:function(e){return(0,a.jsx)(g.Z,A({},e,{label:null===i.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return M(e,A({},n,{from:"municipality"}))}}),(0,a.jsxs)(b.Z,{disableElevation:!0,size:"small","aria-label":"outlined button controls group",disabled:V===P.G.PENDING||0===r.length||null===i.sel_municipality||"-"===i.sel_crop,sx:{marginTop:"16px",float:"right"},children:[(0,a.jsx)(v.Z,{variant:"outlined",onClick:F,children:"Reset"}),(0,a.jsx)(v.Z,{variant:"contained",onClick:U,children:"Generate"})]})]}),(0,a.jsx)(_.ZP,{item:!0,sx:L.Z.item,xs:12,lg:8,children:(0,a.jsxs)(y.Z,{sx:L.Z.selectionSummary,children:[(0,a.jsx)(x.Z,{variant:"h6",children:"Selection Summary"}),null===i.sel_province?(0,a.jsxs)(y.Z,{sx:L.Z.welcome,children:[(0,a.jsx)(d.default,{unoptimized:!0,src:(0,p.assetPrefixer)("images/icons/finance.svg"),height:85,width:85,loader:p.imageLoader,alt:"Empty data"}),(0,a.jsxs)(y.Z,{sx:{marginTop:"16px"},children:[(0,a.jsx)(x.Z,{variant:"subtitle2",children:"Crop Recommendations PDF Bulletins Creator"}),(0,a.jsx)(x.Z,{variant:"subtitle2",children:"Please select a province to start."})]})]}):(0,a.jsx)(y.Z,{sx:L.Z.summary,children:Z.map((function(e,n){return(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.Z,{variant:"subtitle2",style:{display:"inline-block"},children:[e.label,": \xa0"]}),(0,a.jsx)(x.Z,{variant:"body2",style:{display:"inline-block"},children:null!==i[e.key]?["sel_stage","sel_crop","sel_activity","sel_month"].includes(e.key)?i[e.key]:i[e.key].label:""})]},"selected-".concat(n))}))}),""!==I&&(0,a.jsx)(x.Z,{variant:"caption",sx:{color:"red"},children:I})]})})]}),(0,a.jsx)(E.Z,{options:i,smstext:N,isCreateDisabled:l,handlePreview:T,toggleViewerOpen:B,pdfPreview:G,handleSave:W})]})},R=t(6383),N=t(5243),D=t(1690),M=t(4680),T=t(560),W=t(1029),B=t(6375),G=t(7599),F=t(6867),U=t(8152),Y=t(7246),H=t(7715),K=t(7392),V=t(7426),z=t(3063),J=t(7661);function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function X(e,n,t,i,r,a,l){try{var o=e[a](l),c=o.value}catch(s){return void t(s)}o.done?n(c):Promise.resolve(c).then(i,r)}function $(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function l(e){X(a,i,r,l,o,"next",e)}function o(e){X(a,i,r,l,o,"throw",e)}l(void 0)}))}}function Q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){Q(e,n,t[n])}))}return e}function ne(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,a=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(a.push(i.value),!n||a.length!==n);l=!0);}catch(c){o=!0,r=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw r}}return a}}(e,n)||re(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function re(e,n){if(e){if("string"===typeof e)return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q(e,n):void 0}}var ae={sel_province:null,sel_municipality:null,sel_crop:"-",sel_stage:"-",sel_activity:"-",sel_month:"-",processed:!1,loading:!1,error:"",success:"",sel_condition:{id:0,from:"weather_condition",label:V.MW.WAY_BELOW_NORMAL.label}},le={url:"",filename:""},oe={province:"",municipality:"",rainfall:"",date_range:"",day_format:"",date_now:(new Date).toDateString()};var ce=!0,se=(0,N.Z)((function(e){var n=ne((0,c.ky)(M.o.STATIC_RECOMMENDATIONS,"data"),2),t=n[0],i=n[1],s=(0,o.v9)((function(e){return e.cropcalendar})),u=s.entities,d=s.error,p=s.status,f=(0,o.v9)((function(e){return e.recommendations})),m=f.entities,v=f.error,b=f.status,y=(0,o.v9)((function(e){return e.tendayweather})),_=y.entities,h=y.error,g=y.status,x=(0,o.v9)((function(e){return e.reports})),S=x.error,E=x.status,O=x.report,j=ne((0,c.ky)(W.K.GLOBAL_COLLECTIONS,W.K.CYCLONE_ADVISORY),2),w=j[0],L=j[1],I=ne((0,c.ky)(T.M.WEATHER_FORECASTS,"bicol/".concat(T.M.SUB_SPECIAL_COMMON,"/").concat(T.M.COMMON_SPECIAL_TYPE.WIND_SPEED)),2),A=I[0],Z=I[1],N=(0,o.v9)((function(e){return e.dashboard.reportType})),q=(0,l.useState)([]),X=q[0],re=q[1],ce=(0,l.useState)({}),se=ce[0],ue=ce[1],de=(0,l.useState)(ae),pe=de[0],fe=de[1],me=(0,l.useState)([]),ve=me[0],be=me[1],ye=(0,l.useState)(oe),_e=ye[0],he=ye[1],ge=(0,l.useState)(le),xe=ge[0],Se=ge[1],Ee=(0,l.useState)(""),Oe=Ee[0],je=Ee[1],we=(0,l.useState)(!1),Pe=we[0],Ce=we[1],Le=(0,l.useState)(K.BF),Ie=Le[0],Ae=Le[1],Ze=(0,l.useState)(""),ke=Ze[0],Re=Ze[1],Ne=(0,l.useState)(!1),De=(Ne[0],Ne[1]),Me=(0,l.useState)(!0),Te=Me[0],We=(Me[1],(0,l.useRef)(!1)),Be=(0,o.I0)();(0,l.useEffect)((function(){return We.current=!0,function(){We.current=!1}}),[]),(0,l.useEffect)((function(){Be((0,Y.Km)([])),Be((0,C.s_)())}),[Be]),(0,l.useEffect)((function(){je((function(e){return h||v||d||S}))}),[h,v,d,S]),(0,l.useEffect)((function(){De((function(e){return g||b||p}))}),[g,b,p]),(0,l.useEffect)((function(){E===P.G.FULLFILLED&&null!==O&&We.current&&Ae((function(e){return ee({},e,{msg:"Success! Bulletin report created.",loading:!1,savesuccess:!0,docId:O.id})}))}),[E,O]),(0,l.useEffect)((function(){if(e.municipalities.length>0&&!i&&!Z&&!L&&null!==A&&null!==w){var n={},t=A.data.map((function(e){return e.province})).filter((function(e,n,t){return t.indexOf(e)===n})),r=A.data.reduce((function(e,n){return void 0===e[n.province]&&(e[n.province]=[]),e[n.province]=te(e[n.province]).concat(te(n.municipalities)),ee({},e)}),{});re(e.municipalities.reduce((function(e,i){var a=A.data.findIndex((function(e){return e.province===i.province&&e.municipalities.includes(i.name)})),l=a>-1?A.data[a].signal:0;return-1===e.findIndex((function(e){return e.label===i.province}))?(e=te(e).concat([{id:e.length,label:i.province,disabled:!t.includes(i.province)}]),n[i.province]=[{id:0,label:i.name,signal:l,disabled:void 0===r[i.province]||!r[i.province].includes(i.name)}]):n[i.province].push({id:n[i.province].length,label:i.name,signal:l,disabled:void 0===r[i.province]||!r[i.province].includes(i.name)}),e}),[])),ue(n)}}),[e.municipalities,A,w,i,Z,L]),(0,l.useEffect)((function(){if(g===P.G.FULLFILLED&&null!==pe.sel_municipality){if(0===Object.values(_).length)return void je("Weather data is currently not available.");var e=Object.values(_).find((function(e){return e.municipality===pe.sel_municipality.label}));if(!e)return void je("10-Day weather data is not available for the municipality.");var n=JSON.parse(e.data).find((function(e){return e.day_format===(0,H.aV)(!1)}));if(!n)return void je("Weather data for the current date is not available at the moment.");var t=new Date(_e.date_now),i=(0,H.Mn)(t,!1),r=Object.values(V.MW).find((function(e){return e.tenday===n.rainfall}));he((function(e){return ee({},e,{province:n.province,municipality:n.municipality,rainfall:n.rainfall,date_range:n.date_range,day_format:n.day_format,condition:r.label||"",condition_acap:r.label_acap,format:r.sync,format_tenday:r.tenday,percentage:r.content,months:i})}))}}),[g,_,pe.sel_municipality,_e.date_now]);var Ge=(0,l.useCallback)((function(e){switch(_e.condition){case V.MW.BELOW_NORMAL.label:case V.MW.NEAR_NORMAL.label:return JSON.parse(e.normal).map((function(e){return{id:t.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return t.subs.find((function(n){return n.id===e})).description}))}}));case V.MW.ABOVE_NORMAL.label:return JSON.parse(e.wetter).map((function(e){return{id:t.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return t.subs.find((function(n){return n.id===e})).description}))}}));case V.MW.WAY_BELOW_NORMAL.label:return JSON.parse(e.drier).map((function(e){return{id:t.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return t.subs.find((function(n){return n.id===e})).description}))}}))}}),[_e,t]),Fe=(0,l.useCallback)((function(e){var n="".concat(_e.condition_acap,"_sms");return void 0!==e[n]?t.sms.find((function(t){return t.id===e[n]})).description:""}),[_e,t]);(0,l.useEffect)((function(){if(p===P.G.FULLFILLED&&b===P.G.FULLFILLED&&null!==pe.sel_municipality&&!pe.processed&&""!==_e.rainfall){var e=Object.values(m).map((function(e){return e.crop})).filter((function(e,n,t){return t.indexOf(e)===n}));(e.includes("Rainfed Rice")||e.includes("Irrigated Rice"))&&e.push("Rice");var n=Object.keys(_e.months),t=[],i=[];Object.values(u).filter((function(r){var a=[];return n.forEach((function(n){if(""!==r[n]){var l=_e.months[n],o=r[n].split(","),c=[];if(0===o.length)return;if(!e.includes(r.crop))return;if(l.includes(V.Vs.FIRST_HALF)){if(""===o[0])return;c.includes(o[0])||c.push(o[0])}if(l.includes(V.Vs.SECOND_HALF)){var s="";1===o.length&&(s=o[0]),2===o.length&&(s=""!==o[1]?o[1]:o[0]),c.includes(s)||c.push(s)}if(0===c.length)return;c.forEach((function(e){t.includes(e)||t.push(e)})),i.includes(r.crop)||i.push(r.crop)}a.push(""!==r[n])})),a.includes(!0)}));var r=t.map((function(e){return V.MZ[e.toUpperCase()]})),a=Object.values(m).filter((function(e){return i.includes("Rice")&&["Irrigated Rice","Rainfed Rice"].includes(e.crop)?e.province===pe.sel_province.label&&e.municipality===pe.sel_municipality.label&&r.includes(e.stage):e.province===pe.sel_province.label&&e.municipality===pe.sel_municipality.label&&r.includes(e.stage)&&i.includes(e.crop)})).map((function(e){return e.activity})).filter((function(e,n,t){return t.indexOf(e)===n})).toString().split(",").join(", ");Re((function(e){var n,t,i,r;return(0,J.smsWriter)({type:J.SMS_TYPE.SPECIAL,replacements:(r={},Q(r,J.REPLACE_KEYS.SPECIAL.TYPHOON_NAME,(null===w||void 0===w||null===(n=w.meta)||void 0===n?void 0:n.typhoon_name)||"-"),Q(r,J.REPLACE_KEYS.SPECIAL.TYPHOON_SIGNAL,(null===pe||void 0===pe||null===(t=pe.sel_municipality)||void 0===t?void 0:t.signal)||0),Q(r,J.REPLACE_KEYS.SPECIAL.MUNICIPALITY,(null===pe||void 0===pe||null===(i=pe.sel_municipality)||void 0===i?void 0:i.label)||"-"),r)})})),fe((function(e){return ee({},e,{processed:!0,sel_month:_e.date_now,sel_crop:i.length>0?i.toString().split(",").join(", "):"-",sel_stage:t.length>0?t.map((function(e){return V.MZ[e.toUpperCase()]})).toString().split(",").join(", "):"-",sel_activity:a.length>0?a:"-",sel_condition:{label:_e.condition,format:_e.format,tenday:_e.format_tenday,current_date:_e.day_format}})}))}}),[p,b,u,m,w,_e,pe,Ge,Fe,Be]);var Ue=function(){var e=$(r().mark((function e(n,t){var i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.from,a=t.label,n&&n.preventDefault(),Se(le),!a){e.next=20;break}e.t0=i,e.next="province"===e.t0?7:"municipality"===e.t0?13:17;break;case 7:return fe(ee({},ae,{sel_province:t})),je(""),be(se[a]),Be((0,F.R)(a)),Be((0,Y.Km)([])),e.abrupt("break",18);case 13:je(""),fe(ee({},pe,{sel_municipality:t,processed:!1,sel_crop:"-",sel_stage:"-",sel_activity:"-",sel_month:"-",error:""}));try{Be((0,B.a)({province:pe.sel_province.label,municipality:a})),Be((0,G.A)({province:pe.sel_province.label,municipality:a})),Be((0,Y.Km)([]))}catch(r){fe((function(e){return ee({},e,{loading:!1,error:r.message})}))}return e.abrupt("break",18);case 17:return e.abrupt("break",18);case 18:e.next=29;break;case 20:e.t1=i,e.next="province"===e.t1?23:"municipality"===e.t1?25:28;break;case 23:return He(),e.abrupt("break",29);case 25:return fe(ee({},pe,{sel_municipality:null,processed:!1,sel_crop:"-",sel_stage:"-",sel_activity:"-",sel_month:"-"})),Be((0,Y.Km)([])),e.abrupt("break",29);case 28:return e.abrupt("break",29);case 29:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ye=function(){var e=$(r().mark((function e(){var n,t,i,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===xe.url){e.next=3;break}return Ce(!0),e.abrupt("return");case 3:return fe((function(e){return ee({},e,{loading:!0,error:"",success:""})})),e.prev=4,n={region:"bicol",province:pe.sel_province.label,municipality:pe.sel_municipality.label,date:_e.date_now,operation:"preview"},Ce(!0),fe((function(e){return ee({},e,{loading:!0,error:""})})),e.next=10,(0,U.U1)(n);case 10:t=e.sent,i=new Blob([t],{type:"application/pdf"}),(a={}).href=URL.createObjectURL(i),a.download="".concat(pe.sel_province.label,"_").concat(pe.sel_municipality.label,".pdf"),Se((function(e){return ee({},e,{url:a.href,filename:a.download})})),fe((function(e){return ee({},e,{loading:!1,success:"Bulletin preview created."})})),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(4),l="",void 0!==e.t0.response&&(l=void 0!==e.t0.response.data&&"[object Blob]"===ie(e.t0.response.data)?e.t0.response.data:""),""===l&&(l=e.t0.message),fe((function(e){return ee({},e,{loading:!1,error:l})}));case 25:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}(),He=function(){fe(ae),be([]),Be((0,Y.Km)([]))},Ke=function(){var n=$(r().mark((function n(){var t,i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Ae(ee({},Ie,{loading:!0,msg:"Saving report..."}));try{t={region:"bicol",province:pe.sel_province.label,municipality:pe.sel_municipality.label,date:_e.date_now,signal:pe.sel_municipality.signal,operation:"create"},Be((0,D.tR)(t)).unwrap().then((function(){N!==K.Ry.SPECIAL_WEATHER&&(Be((0,z.uq)(K.Ry.SPECIAL_WEATHER)),Be((0,D.RC)({uid:e.user.uid,type:K.Ry.SPECIAL_WEATHER})))})).catch((function(e){We.current&&Ae((function(n){return ee({},n,{msg:e,loading:!1,savesuccess:!1,docId:null})}))}))}catch(r){i="",void 0!==r.response&&(i=void 0!==r.response.data&&"[object Blob]"===ie(r.response.data)?r.response.data:""),""===i&&(i=r.message),fe((function(e){return ee({},e,{loading:!1,error:i})}))}case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,a.jsx)(R.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:V.DW.ADMIN,children:(0,a.jsx)(k,{sel_options:pe,provinces:X,isCreateDisabled:Te,loading:i||g===P.G.PENDING||b===P.G.PENDING||p===P.G.PENDING,optsmunicipalities:ve,onSelectItemChange:Ue,handlePreview:Ye,toggleViewerOpen:function(){Ce((function(e){return!e}))},pdfPreview:xe,resetSelections:He,generateRecommendations:function(){var e=pe.sel_crop.split(", "),n=pe.sel_stage.split(", "),t=Object.values(m).filter((function(t){return e.includes("Rice")&&["Irrigated Rice","Rainfed Rice"].includes(t.crop)?t.province===pe.sel_province.label&&t.municipality===pe.sel_municipality.label&&n.includes(t.stage):t.province===pe.sel_province.label&&t.municipality===pe.sel_municipality.label&&n.includes(t.stage)&&e.includes(t.crop)}));Be((0,Y.Km)(t.map((function(e){return ee({},e,{recommendations:Ge(e),smsRecommendations:Fe(e)})}))))},handleSave:Ke,togglePrompt:function(){Ae((function(e){return ee({},K.BF,{isOpen:!e.isOpen})}))},error:Oe,open:Pe,message:Ie,smstext:ke})})}))}},function(e){e.O(0,[9351,6153,9964,1704,1903,7823,6295,4039,2882,4732,1433,1050,6454,8041,6249,9774,2888,179],(function(){return n=9488,e(e.s=n);var n}));var n=e.O();_N_E=n}]);