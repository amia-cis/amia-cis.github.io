(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{9179:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/risks",function(){return r(9883)}])},4623:function(n,e,r){"use strict";r.d(e,{Z:function(){return a}});var t=r(5893),i=r(7357),o=r(8456),s=r(5861),l={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var a=function(){return(0,t.jsx)(i.Z,{sx:l.container,children:(0,t.jsxs)(i.Z,{sx:l.loading,children:[(0,t.jsx)(s.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(o.Z,{size:"32px"})]})})}},7702:function(n,e,r){"use strict";r.d(e,{Z:function(){return z}});var t=r(5893),i=r(7357),o=r(7294),s=r(2293),l=r(6720),a=r(7948),c=r(7720),u=r(7533),d=r(3946),x=r(8462),f=r(891),h=r(7594),p=r(9334),j=r(155),m=r(5861),v=r(1664),Z=r(7520),b=r(9662),g=r(3384),k=r(326),y=r(7427),w=r(1898),C=r(8349),P={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"}},listitem:{"& a":{textDecoration:"none"}}};function S(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function _(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,o=[],s=!0,l=!1;try{for(r=r.call(n);!(s=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);s=!0);}catch(a){l=!0,i=a}finally{try{s||null==r.return||r.return()}finally{if(l)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return S(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=280,B=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(g.Z,{})},{text:"Weather Services",link:"/admin/weather",icon:(0,t.jsx)(C.Z,{})},{text:"Create Crops Bulletins",link:"/admin/bulletins/crops",icon:(0,t.jsx)(w.Z,{})},{text:"Create Risks Bulletins",link:"/admin/bulletins/risks",icon:(0,t.jsx)(w.Z,{})}],E=[{text:"BACAP Website",link:"/",icon:(0,t.jsx)(Z.Z,{})},{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(y.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(b.Z,{})}];function L(n){var e=n.window,r=_(o.useState(!1),2),Z=r[0],b=r[1],g=n.user,y=n.onBtnClick,w=function(){b(!Z)},C=(0,t.jsxs)("div",{children:[(0,t.jsx)(j.Z,{}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(x.Z,{sx:P.list,children:B.map((function(n,e){return(0,t.jsx)(v.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(f.ZP,{button:!0,children:[(0,t.jsx)(h.Z,{children:n.icon}),(0,t.jsx)(p.Z,{children:n.text})]})},e)}))}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(x.Z,{sx:P.list,children:E.map((function(n,e){return"Logout"===n.text?(0,t.jsx)(v.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(f.ZP,{button:!0,onClick:y,children:[(0,t.jsx)(h.Z,{children:n.icon}),(0,t.jsx)(p.Z,{children:n.text})]})},e):(0,t.jsx)(v.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(f.ZP,{button:!0,children:[(0,t.jsx)(h.Z,{children:n.icon}),(0,t.jsx)(p.Z,{children:n.text})]},e)},e)}))})]}),S=void 0!==e?function(){return e().document.body}:void 0;return(0,t.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,t.jsx)(l.ZP,{}),(0,t.jsx)(s.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(A,"px)")},ml:{sm:"".concat(A,"px")}},children:(0,t.jsxs)(j.Z,{sx:P.toolbar,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:w,sx:{mr:2,display:{sm:"none"}},children:(0,t.jsx)(k.Z,{})}),(0,t.jsx)(m.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,t.jsxs)(i.Z,{sx:P.profileToolbar,children:["Welcome, ",g.email,"!"]})]})}),(0,t.jsxs)(i.Z,{component:"nav",sx:{width:{sm:A},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(u.ZP,{container:S,variant:"temporary",open:Z,onClose:w,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:A}},children:C}),(0,t.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:A}},open:!0,children:C})]}),(0,t.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(A,"px)")}},children:[(0,t.jsx)(j.Z,{}),(0,t.jsx)(a.Z,{maxWidth:"lg",children:n.children})]})]})}var T=r(4623);var z=function(n){return(0,t.jsxs)(i.Z,{sx:{marginTop:function(n){return n.spacing(4)}},children:[n.loading&&(0,t.jsx)(T.Z,{}),!n.loading&&n.user&&(0,t.jsx)(L,{user:n.user,onBtnClick:n.onBtnLogoutClick,children:n.children})]})}},9883:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return h}});var t=r(4051),i=r.n(t),o=r(5893),s=r(7294),l=r(1163),a=r(4815),c=r(5861),u=r(7702);var d=function(n){return(0,o.jsxs)(u.Z,{loading:n.loading,user:n.user,onBtnLogoutClick:n.onBtnClick,children:[(0,o.jsx)(c.Z,{variant:"h5",children:"Create Risks Bulletins"}),(0,o.jsxs)("p",{children:["Create and preview ",(0,o.jsx)("strong",{children:"10-Day"})," and ",(0,o.jsx)("strong",{children:"Seasonal"})," climate risks bulletins. Finalized bulletins will be automatically uploaded to the site for public download."]})]})};function x(n,e,r,t,i,o,s){try{var l=n[o](s),a=l.value}catch(c){return void r(c)}l.done?e(a):Promise.resolve(a).then(t,i)}function f(){var n=(0,a.aC)(),e=(0,l.useRouter)();(0,s.useEffect)((function(){n.loading||n.user||e.push("/admin/login")}),[n.user,n.loading,e]);var r=function(){var e,r=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.logOut();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(n){x(o,t,i,s,l,"next",n)}function l(n){x(o,t,i,s,l,"throw",n)}s(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.jsx)(d,{loading:n.loading,user:n.user,onBtnClick:r})}f.customLayout=!0,f.adminPage=!0;var h=f}},function(n){n.O(0,[702,687,744,643,774,888,179],(function(){return e=9179,n(n.s=e);var e}));var e=n.O();_N_E=e}]);