(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{7381:function(e,n,t){"use strict";var r=t(5318);n.Z=void 0;var o=r(t(4938)),i=t(5893),l=(0,o.default)([(0,i.jsx)("path",{d:"M5 5v14h14V5H5zm9 12H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"M7 15h7v2H7zm0-4h10v2H7zm0-4h10v2H7zm12-4h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64S3 4.72 3 5v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},"1")],"AssignmentTwoTone");n.Z=l},9536:function(e,n,t){"use strict";var r=t(5318);n.Z=void 0;var o=r(t(4938)),i=t(5893),l=(0,o.default)([(0,i.jsx)("path",{d:"M21 19.1H3V5h18v14.1zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},"0"),(0,i.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41z"},"1")],"CancelPresentation");n.Z=l},2795:function(e,n,t){"use strict";var r=t(5318);n.Z=void 0;var o=r(t(4938)),i=t(5893),l=(0,o.default)([(0,i.jsx)("path",{d:"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"},"1")],"DescriptionTwoTone");n.Z=l},7070:function(e,n,t){"use strict";t(7294);var r=t(2066),o=t(5893);n.Z=(0,r.Z)((0,o.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},6686:function(e,n,t){"use strict";t(7294);var r=t(2066),o=t(5893);n.Z=(0,r.Z)((0,o.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},2176:function(e,n,t){"use strict";t.d(n,{D:function(){return h}});var r=t(7462),o=t(3366),i=t(7294),l=t(6010),a=t(1496),c=t(7192),s=t(3490),u=t(8836),d=t(5893);const p=["className","children"],f=(0,a.ZP)("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,n)=>n.toolbarContainer})((({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(.5,.5,0)}))),h=i.forwardRef((function(e,n){const{className:t,children:i}=e,a=(0,o.Z)(e,p),h=(e=>{const{classes:n}=e;return(0,c.Z)({root:["toolbarContainer"]},s.d,n)})({classes:(0,u.B)().classes});return i?(0,d.jsx)(f,(0,r.Z)({ref:n,className:(0,l.Z)(t,h.root)},a,{children:i})):null}))},6132:function(e,n,t){"use strict";t.d(n,{S:function(){return f}});var r=t(7462),o=t(3366),i=t(7294),l=t(4696),a=t(269),c=t(7476),s=t(9630),u=t(8836),d=t(5893);const p=["onClick"],f=i.forwardRef((function(e,n){var t;const{onClick:i}=e,f=(0,o.Z)(e,p),h=(0,s.l)(),m=(0,u.B)(),{open:v,openedPanelValue:x}=(0,l.P)(h,a.e);return m.disableColumnSelector?null:(0,d.jsx)(m.components.BaseButton,(0,r.Z)({ref:n,size:"small",color:"primary","aria-label":h.current.getLocaleText("toolbarColumnsLabel"),startIcon:(0,d.jsx)(m.components.ColumnSelectorIcon,{})},f,{onClick:e=>{v&&x===c.y.columns?h.current.hidePreferences():h.current.showPreferences(c.y.columns),null==i||i(e)}},null==(t=m.componentsProps)?void 0:t.baseButton,{children:h.current.getLocaleText("toolbarColumns")}))}))},853:function(e,n,t){"use strict";t.d(n,{M:function(){return j}});var r=t(7462),o=t(3366),i=t(7294),l=t(1496),a=t(7192),c=t(8082),s=t(8216),u=t(198),d=t(4696),p=t(1207),f=t(269),h=t(7476),m=t(9630),v=t(8836),x=t(3490),b=t(5893);const g=["componentsProps"],y=(0,l.ZP)("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,n)=>n.toolbarFilterList})((({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)}))),j=i.forwardRef((function(e,n){var t,l;const{componentsProps:j={}}=e,w=(0,o.Z)(e,g),C=j.button||{},Z=(0,m.l)(),T=(0,v.B)(),P=(0,d.P)(Z,p.DY),S=(0,d.P)(Z,u.WH),O=(0,d.P)(Z,f.e),B=(e=>{const{classes:n}=e;return(0,a.Z)({root:["toolbarFilterList"]},x.d,n)})({classes:T.classes}),H=i.useMemo((()=>{if(O.open)return Z.current.getLocaleText("toolbarFiltersTooltipHide");if(0===P.length)return Z.current.getLocaleText("toolbarFiltersTooltipShow");const e=e=>S[e.columnField].filterOperators.find((n=>n.value===e.operatorValue)).label||Z.current.getLocaleText(`filterOperator${(0,s.Z)(e.operatorValue)}`).toString();return(0,b.jsxs)("div",{children:[Z.current.getLocaleText("toolbarFiltersTooltipActive")(P.length),(0,b.jsx)(y,{className:B.root,children:P.map(((n,t)=>(0,r.Z)({},S[n.columnField]&&(0,b.jsx)("li",{children:`${S[n.columnField].headerName||n.columnField}\n                  ${e(n)}\n                  ${n.value}`},t))))})]})}),[Z,O.open,P,S,B]);return T.disableColumnFilter?null:(0,b.jsx)(T.components.BaseTooltip,(0,r.Z)({title:H,enterDelay:1e3},w,null==(t=T.componentsProps)?void 0:t.baseTooltip,{children:(0,b.jsx)(T.components.BaseButton,(0,r.Z)({ref:n,size:"small",color:"primary","aria-label":Z.current.getLocaleText("toolbarFiltersLabel"),startIcon:(0,b.jsx)(c.Z,{badgeContent:P.length,color:"primary",children:(0,b.jsx)(T.components.OpenFilterButtonIcon,{})})},C,{onClick:e=>{var n;const{open:t,openedPanelValue:r}=O;t&&r===h.y.filters?Z.current.hideFilterPanel():Z.current.showFilterPanel(),null==(n=C.onClick)||n.call(C,e)}},null==(l=T.componentsProps)?void 0:l.baseButton,{children:Z.current.getLocaleText("toolbarFilters")}))}))}))},3622:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/crops",function(){return t(601)}])},3501:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r=t(5893),o=t(7294),i=t(5697),l=t.n(i),a=t(1057),c=t(9536),s=t(8456),u=t(657),d=t(1425),p=t(7645),f=t(6580),h=t(3946),m={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",height:{xs:"40px",sm:"50px"},"& .text":{display:{xs:"block",sm:"none"}},"& .shortText":{display:{xs:"inline-block",sm:"none"},fontSize:"24px"}},icon:{display:{xs:"block",sm:"none"}},dialogContent:{"& .error":{fontSize:"12px",color:"red"}},dialogActions:{"& button":{minWidth:"100px"}},closeButton:{position:"absolute",right:"8px",top:"8px",color:function(e){return e.palette.grey[500]}}};function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var n=g(o.useState({open:null}),2),t=n[0],i=n[1],l=e.loading,v=void 0!==l&&l,x=e.isOpen,y=void 0!==x&&x,j=e.showButtons,w=void 0===j||j,C=e.maxWidth,Z=void 0===C?"sm":C,T=e.IconSVG,P=void 0===T?null:T,S=e.modalExtraHandlerCB,O=void 0===S?null:S,B=e.modalCancelHandlerCB,H=void 0===B?null:B,k=e.modalConfirmHandlerCB,z=void 0===k?null:k,F=e.modalOpenHandlerCB,D=void 0===F?null:F,M=e.isDisabled,_=void 0!==M&&M,L=e.openButtonText,E=void 0===L?"Click":L,R=e.title,V=void 0===R?"Window Title":R,A=e.extraBtnText,I=void 0===A?"":A,N=e.cancelBtnText,W=void 0===N?"Cancel":N,G=e.confirmBtnText,$=void 0===G?"Ok":G,K=e.contentText,U=void 0===K?"":K,X=e.error,q=void 0===X?"":X;(0,o.useEffect)((function(){i((function(e){return b({},e,{open:y})}))}),[y]);var Y=function(){i(b({},t,{open:!1})),H&&H()};return(0,r.jsxs)("div",{children:[E&&(0,r.jsxs)(a.Z,{disabled:_,disableElevation:!0,variant:"contained",color:"primary",onClick:function(){i(b({},t,{open:!0})),D&&D()},sx:m.button,children:[P&&(0,r.jsx)(P,{sx:m.icon}),E]}),(0,r.jsxs)(u.Z,{maxWidth:Z,fullWidth:!0,open:t.open||!1,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsxs)(p.Z,{children:[(0,r.jsx)("span",{children:V}),(0,r.jsx)(h.Z,{"aria-label":"close",sx:m.closeButton,onClick:Y,children:(0,r.jsx)(c.Z,{})})]}),(0,r.jsxs)(f.Z,{sx:m.dialogContent,children:[""!==U&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:U}),(0,r.jsx)("div",{className:"error",children:q})]}),e.children]}),w&&(0,r.jsxs)(d.Z,{sx:m.dialogActions,children:[""!==I&&(0,r.jsx)(a.Z,{onClick:O||Y,disabled:v,children:I}),(0,r.jsx)(a.Z,{onClick:H||Y,disabled:v,children:W}),(0,r.jsxs)(a.Z,{variant:"contained",disabled:v,onClick:z||Y,children:[(0,r.jsx)("span",{style:{display:v?"none":"block"},children:$}),(0,r.jsx)(s.Z,{size:24,color:"secondary",sx:{display:v?"block":"none"}})]})]})]})]})}y.propTypes={loading:l().bool,isOpen:l().bool,showButtons:l().bool,maxWidth:l().string,IconSVG:l().elementType,modalCancelHandlerCB:l().func,modalConfirmHandlerCB:l().func,modalOpenHandlerCB:l().func,modalExtraHandlerCB:l().func,openButtonText:l().string,cancelBtnText:l().string,confirmBtnText:l().string,extraBtnText:l().string,title:l().string,contentText:l().string,children:l().node,error:l().string,isDisabled:l().bool};var j=y},601:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r=t(4051),o=t.n(r),i=t(5893),l=t(7294),a=t(8152),c=t(3059),s=t(1163),u=t(5861),d=t(7357),p=t(2176),f=t(6132),h=t(853),m=t(3539),v=t(1664),x=t(6886);function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=(0,t(1496).ZP)((function(e){return(0,i.jsx)(x.ZP,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}({},e))}))((function(e){var n=e.theme;return{textAlign:"center",cursor:"pointer",borderRadius:n.spacing(1),padding:n.spacing(2),"& a":{textDecoration:"none"},"& a:visited":{color:"rgba(0, 0, 0, 0.87)"},"& h6":{lineHeight:n.spacing(3)},"& svg":{color:n.palette.primary.main},"&:hover, &:focus":{backgroundColor:n.palette.primary.light}}})),y=g,j=t(3501),w=t(7381),C=t(2795);var Z=function(){return(0,i.jsx)("div",{children:(0,i.jsx)(j.Z,{maxWidth:"sm",openButtonText:"Create Bulletin",title:"Select a Crop Bulletin Type",showButtons:!1,children:(0,i.jsxs)(x.ZP,{container:!0,children:[(0,i.jsx)(y,{item:!0,xs:12,sm:6,children:(0,i.jsx)(v.default,{href:"/admin/bulletins/crops/seasonal/create",passHref:!0,children:(0,i.jsxs)("a",{children:[(0,i.jsx)(w.Z,{sx:{fontSize:"90px"}}),(0,i.jsx)(u.Z,{variant:"subtitle1",children:"Regional Seasonal Climate"}),(0,i.jsx)(u.Z,{variant:"subtitle1",children:"Outlook and Advisory"})]})})}),(0,i.jsx)(y,{item:!0,xs:12,sm:6,children:(0,i.jsx)(v.default,{href:"/admin/bulletins/crops/tenday/create",passHref:!0,children:(0,i.jsxs)("a",{children:[(0,i.jsx)(C.Z,{sx:{fontSize:"90px"}}),(0,i.jsx)(u.Z,{variant:"subtitle1",children:"10-Day Farm Weather Outlook"}),(0,i.jsx)(u.Z,{variant:"subtitle1",children:"and Advisory"})]})})})]})})})},T={gridContainer:{marginTop:"24px",minHeight:500,width:1}},P=t(5337);function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){return(0,i.jsxs)(p.D,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}({},e,{children:[(0,i.jsx)(f.S,{}),(0,i.jsx)(h.M,{})]}))}var B=function(e){var n=e.rows,t=e.columns,r=e.loadingReports,o=(0,s.useRouter)();return(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Z,{variant:"h5",children:"Crop Recommendations"}),(0,i.jsxs)("p",{children:["Create and preview ",(0,i.jsx)("strong",{children:"10-Day"})," and ",(0,i.jsx)("strong",{children:"Seasonal"})," crop bulletins. Finalized bulletins will be automatically uploaded to the site for public download."]}),(0,i.jsx)(Z,{}),(0,i.jsx)(d.Z,{sx:T.gridContainer,style:{height:n.length<=4?"500px":"unset"},children:(0,i.jsx)(m._,{rows:n,columns:t,sx:P.Z.datagrid,autoHeight:n.length>=5,disableDensitySelector:!0,rowsPerPageOptions:[15,30,100],components:{Toolbar:O},loading:r,initialState:{columns:{columnVisibilityModel:{rowId:!1}}},onRowClick:function(e){o.push({pathname:"/admin/bulletins/crops/seasonal/view",query:{docId:e.row.docId}})}})})]})},H=t(2530),k=t(7426);function z(e,n,t,r,o,i,l){try{var a=e[i](l),c=a.value}catch(s){return void t(s)}a.done?n(c):Promise.resolve(c).then(r,o)}var F=(0,c.Z)((function(e){var n=(0,l.useRef)(!1),t=(0,l.useState)([]),r=t[0],c=t[1],s=(0,l.useState)([]),u=s[0],d=s[1],p=(0,l.useState)([]),f=p[0],h=p[1],m=(0,l.useState)(!0),v=m[0],x=m[1];return(0,l.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),(0,l.useEffect)((function(){if(null!==e.user&&!e.loading){var t=function(){var t,r=(t=o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.pr)(e.user.uid);case 3:r=t.sent,n.current&&(h(r),x(!1)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.current&&(x(!1),console.error(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function l(e){z(i,r,o,l,a,"next",e)}function a(e){z(i,r,o,l,a,"throw",e)}l(void 0)}))});return function(){return r.apply(this,arguments)}}();t()}}),[e.user,e.loading]),(0,l.useEffect)((function(){if(f.length>0){var e={crop:"Crop",province:"Province",municipality:"Municipality",updated_by:"Updated by",date_created:"Date Created"},n=[];["crop","province","municipality","updated_by","date_created"].forEach((function(t){n.push({field:t,headerName:e[t],width:200,editable:!1,sortable:!1,disableColumnMenu:!0})}));var t=f.map((function(e,n){return{id:n,docId:e.id,crop:e.crop,province:e.province,municipality:e.municipality,updated_by:e.updated_by,date_created:e.date_created.toDate().toDateString()}}));c(t),d(n)}}),[f]),(0,i.jsx)(H.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:k.DW.ADMIN,children:(0,i.jsx)(B,{rows:r,columns:u,loadingReports:v})})}))},5337:function(e,n){"use strict";n.Z={datagrid:{background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"8px","& .MuiDataGrid-main":{borderRadius:2},"& .MuiDataGrid-virtualScrollerRenderZone":{"& .MuiDataGrid-row":{"&:nth-of-type(2n)":{backgroundColor:"rgba(235, 235, 235, .7)"}}},"& .MuiDataGrid-columnHeader:focus-within":{outline:"none !important"},"& .MuiDataGrid-columnHeaders":{color:function(e){return e.palette.primary.dark},fontSize:16}}}}},function(e){e.O(0,[3135,9669,3203,3539,3728,8152,9774,2888,179],(function(){return n=3622,e(e.s=n);var n}));var n=e.O();_N_E=n}]);