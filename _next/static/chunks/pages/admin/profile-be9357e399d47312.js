(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{6242:function(n,r,e){"use strict";e.d(r,{Z:function(){return h}});var t=e(7462),o=e(3366),i=e(7294),a=e(6010),s=e(7192),l=e(1496),c=e(3616),u=e(5113),d=e(8979);function f(n){return(0,d.Z)("MuiCard",n)}(0,e(6087).Z)("MuiCard",["root"]);var x=e(5893);const p=["className","raised"],m=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(n,r)=>r.root})((()=>({overflow:"hidden"})));var h=i.forwardRef((function(n,r){const e=(0,c.Z)({props:n,name:"MuiCard"}),{className:i,raised:l=!1}=e,u=(0,o.Z)(e,p),d=(0,t.Z)({},e,{raised:l}),h=(n=>{const{classes:r}=n;return(0,s.Z)({root:["root"]},f,r)})(d);return(0,x.jsx)(m,(0,t.Z)({className:(0,a.Z)(h.root,i),elevation:l?8:void 0,ref:r,ownerState:d},u))}))},4267:function(n,r,e){"use strict";e.d(r,{Z:function(){return m}});var t=e(7462),o=e(3366),i=e(7294),a=e(6010),s=e(7192),l=e(1496),c=e(3616),u=e(8979);function d(n){return(0,u.Z)("MuiCardContent",n)}(0,e(6087).Z)("MuiCardContent",["root"]);var f=e(5893);const x=["className","component"],p=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var m=i.forwardRef((function(n,r){const e=(0,c.Z)({props:n,name:"MuiCardContent"}),{className:i,component:l="div"}=e,u=(0,o.Z)(e,x),m=(0,t.Z)({},e,{component:l}),h=(n=>{const{classes:r}=n;return(0,s.Z)({root:["root"]},d,r)})(m);return(0,f.jsx)(p,(0,t.Z)({as:l,className:(0,a.Z)(h.root,i),ownerState:m,ref:r},u))}))},5165:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/profile",function(){return e(442)}])},4623:function(n,r,e){"use strict";e.d(r,{Z:function(){return l}});var t=e(5893),o=e(7357),i=e(8456),a=e(5861),s={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var l=function(){return(0,t.jsx)(o.Z,{sx:s.container,children:(0,t.jsxs)(o.Z,{sx:s.loading,children:[(0,t.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(i.Z,{size:"32px"})]})})}},7702:function(n,r,e){"use strict";e.d(r,{Z:function(){return E}});var t=e(5893),o=e(7357),i=e(7294),a=e(2293),s=e(6720),l=e(7948),c=e(7720),u=e(7533),d=e(3946),f=e(8462),x=e(7594),p=e(9334),m=e(8619),h=e(155),v=e(5861),Z=e(1664),g=e(1163),j=e(7520),b=e(9662),y=e(3384),w=e(326),k=e(7427),C=e(1898),S=e(4229),P={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{padding:function(n){return n.spacing(1)},"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:function(n){return n.palette.primary.light}},"& .listitembutton-styled":{py:0,minHeight:48,color:function(n){return n.palette.primary.dark},borderRadius:function(n){return n.spacing(1)},margin:function(n){return n.spacing(1)},"&:hover, &:focus":{"& .MuiTypography-root":{color:function(n){return n.palette.primary.dark}}}},"& .MuiListItemIcon-root":{marginRight:"-8px"}},listitem:{"& a":{textDecoration:"none"}}};function M(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function A(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,o,i=[],a=!0,s=!1;try{for(e=e.call(n);!(a=(t=e.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==e.return||e.return()}finally{if(s)throw o}}return i}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return M(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return M(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=280,R=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(y.Z,{})},{text:"Crop Recommendations",link:"/admin/bulletins/crops",icon:(0,t.jsx)(C.Z,{})},{text:"Risks Recommendations",link:"/admin/bulletins/risks",icon:(0,t.jsx)(C.Z,{})},{text:"BACAP Settings",link:"/admin/weather",icon:(0,t.jsx)(S.Z,{})}],I=[{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(k.Z,{})},{text:"BACAP Website",link:"/",icon:(0,t.jsx)(j.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(b.Z,{})}];function _(n){var r=n.window,e=A(i.useState(!1),2),j=e[0],b=e[1],y=A(i.useState(null),2),k=y[0],C=y[1],S=(0,g.useRouter)(),M=n.user,_=n.onBtnClick;i.useEffect((function(){var n=S.route.substr(S.route.lastIndexOf("/")+1,S.route.length),r={admin:0,crops:1,risks:2,weather:3,profile:4,create:1,view:1};C(r[n]?r[n]:0)}),[S.route]);var B=function(){b(!j)},E=(0,t.jsxs)("div",{children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(f.Z,{sx:P.list,disablePadding:!0,children:R.map((function(n,r){return(0,t.jsx)(Z.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:k===r,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:n.icon}),(0,t.jsx)(p.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]},n.label)},r)}))}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(f.Z,{sx:P.list,children:I.map((function(n,r){return"Logout"===n.text?(0,t.jsx)(Z.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:k===r+4,onClick:_,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:n.icon}),(0,t.jsx)(p.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},r):(0,t.jsx)(Z.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:k===r+4,children:[(0,t.jsx)(x.Z,{sx:{color:"inherit"},children:n.icon}),(0,t.jsx)(p.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},r)}))})]}),T=void 0!==r?function(){return r().document.body}:void 0;return(0,t.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,t.jsx)(s.ZP,{}),(0,t.jsx)(a.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(N,"px)")},ml:{sm:"".concat(N,"px")}},children:(0,t.jsxs)(h.Z,{sx:P.toolbar,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:B,sx:{mr:2,display:{sm:"none"}},children:(0,t.jsx)(w.Z,{})}),(0,t.jsx)(v.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,t.jsxs)(o.Z,{sx:P.profileToolbar,children:["Welcome, ",M.email,"!"]})]})}),(0,t.jsxs)(o.Z,{component:"nav",sx:{width:{sm:N},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(u.ZP,{container:T,variant:"temporary",open:j,onClose:B,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:N}},children:E}),(0,t.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:N,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:E})]}),(0,t.jsxs)(o.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(N,"px)")}},children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)(l.Z,{maxWidth:"lg",children:n.children})]})]})}var B=e(4623);var E=function(n){return(0,t.jsxs)(o.Z,{sx:{marginTop:function(n){return n.spacing(4)}},children:[n.loading&&(0,t.jsx)(B.Z,{}),!n.loading&&n.user&&(0,t.jsx)(_,{user:n.user,onBtnClick:n.onBtnLogoutClick,children:n.children})]})}},442:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return Z}});var t=e(4051),o=e.n(t),i=e(5893),a=e(7294),s=e(1163),l=e(3835),c=e(6242),u=e(4267),d=e(5861),f=e(1903),x=e(7702),p={profileContainer:{display:"flex",flexDirection:"column",width:"100%"},profileCard:{padding:"22px",display:"flex",flexDirection:"column",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"15px",maxWidth:"600px",margin:"auto",borderColor:"#E2E8F0"},textfield:{marginTop:function(n){return n.spacing(3)}}};var m=function(n){var r={uid:"UID",accountlevel:"Account Level",email:"Email",name:"Display Name"};return(0,i.jsx)(x.Z,{loading:n.loading,user:n.user,onBtnLogoutClick:n.onBtnClick,children:(0,i.jsx)(c.Z,{sx:p.profileCard,children:(0,i.jsxs)(u.Z,{sx:p.profileContainer,children:[(0,i.jsx)(d.Z,{variant:"h5",children:"Profile Information"}),(0,i.jsx)("br",{}),void 0!==n.user&&null!==n.user&&Object.keys(r).map((function(e,t){var o=n.user[e];return["accountlevel"].includes(e)&&(o=2===parseInt(n.user[e])?"Admin":"Superadmin"),(0,i.jsx)(f.Z,{sx:p.textfield,size:"small",disabled:["uid","accountlevel"].includes(e),id:e,label:r[e],variant:"outlined",value:o},"".concat(e,"-").concat(t))}))]})})})};function h(n,r,e,t,o,i,a){try{var s=n[i](a),l=s.value}catch(c){return void e(c)}s.done?r(l):Promise.resolve(l).then(t,o)}function v(){var n=(0,l.aC)(),r=(0,s.useRouter)();(0,a.useEffect)((function(){n.loading||n.user||r.push("/admin/login")}),[n.user,n.loading,r]);var e=function(){var r,e=(r=o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.logOut();case 3:r.next=7;break;case 5:r.prev=5,r.t0=r.catch(0);case 7:case"end":return r.stop()}}),r,null,[[0,5]])})),function(){var n=this,e=arguments;return new Promise((function(t,o){var i=r.apply(n,e);function a(n){h(i,t,o,a,s,"next",n)}function s(n){h(i,t,o,a,s,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(m,{loading:n.loading,user:n.user,onBtnClick:e})}v.customLayout=!0,v.adminPage=!0;var Z=v}},function(n){n.O(0,[369,531,774,888,179],(function(){return r=5165,n(n.s=r);var r}));var r=n.O();_N_E=r}]);