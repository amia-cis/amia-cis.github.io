(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5740],{8359:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/sms",function(){return t(9314)}])},8554:function(e,n){"use strict";n.Z={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",width:"80px",height:{xs:"40px",sm:"50px"}},container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",margin:"auto",borderColor:"#E2E8F0"},tabsContainer:{marginTop:function(e){return e.spacing(8)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},customizedButtonLink:{cursor:"pointer",color:"#8BC24A",textDecoration:"underline",fontWeight:600}}},5322:function(e,n,t){"use strict";var r=t(5893),o=t(7294),a=t(5697),i=t.n(a),c=t(4866),s=t(6901);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=o.forwardRef((function(e,n){return(0,r.jsx)(s.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({elevation:6,ref:n,variant:"filled"},e))}));function d(e){var n=e.openSnackbar,t=e.message,a=e.severity,i=e.closeHandlerCB,s=void 0===i?function(){}:i,l=(0,o.useState)(n),d=l[0],f=l[1],p=function(){f(!1),s()};return(0,r.jsx)(c.Z,{open:d,autoHideDuration:3e3,onClose:p,children:(0,r.jsx)(u,{onClose:p,severity:a,sx:{width:"100%"},children:t})})}d.propTypes={openSnackbar:i().bool,message:i().string,severity:i().string},n.Z=d},6601:function(e,n,t){"use strict";t.d(n,{x:function(){return c},P:function(){return s}});var r=t(5893),o=t(7357);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=function(e){var n=e.children,t=e.value,c=e.index,s=i(e,["children","value","index"]);return(0,r.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({role:"tabpanel",hidden:t!==c,id:"custom-tabpanel-".concat(c),"aria-labelledby":"custom-tab-".concat(c)},s,{children:t===c&&(0,r.jsx)(o.Z,{sx:{p:3},children:n})}))};var s=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},9314:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ie}});var r=t(4051),o=t.n(r),a=t(5893),i=t(3059),c=t(7294),s=t(5861),l=t(7357),u=t(8409),d=t(44),f=t(6886),p=t(6601),h=t(1057),m=t(1903),x=t(8462),b=t(7212),v=t(8619),g=t(9334),j=t(7948),y={phonebookContainer:{border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"500px",maxHeight:"500px",borderRadius:"8px",background:"#fafafa",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",overflow:"auto"},searchPhonebookTextField:{margin:1,background:"#FFFFFF",position:"absolute",zIndex:1},contactInformationItem:{display:"flex",alignItems:"baseline"}},C=t(6486),O=t.n(C),S=t(657),w=t(7645),E=t(6580),Z=t(8951),k=t(1425),R=/^09[0-9]{9}$/g,T="Cell number is required.";function _(e,n){var t=e.find((function(e){return e.cellnumber===n}));return Boolean(t)}var A=function(e,n,t,r){if(null!==t){if(""===t)return"ERROR_MISSING_CELLNUMBER";if(function(e){return!e.match(R)}(t))return"ERROR_INVALID_FORMAT_CELLNUMBER";if("EDIT"===e){if(r&&t!==r)return _(n,t)?"ERROR_CONTACT_ALREADY_EXIST":""}else{if("ADD"!==e)return"";if(_(n,t))return"ERROR_CONTACT_ALREADY_EXIST"}}},P=function(e){switch(e){case"ERROR_MISSING_CELLNUMBER":case"ERROR_MISSING_CELLNUMBER":return T;case"ERROR_INVALID_FORMAT_CELLNUMBER":return"Invalid cell number format.";case"ERROR_CONTACT_ALREADY_EXIST":return"Cell number already exists in the conact list.";default:return""}};var N=function(e){var n,t,r=e.contacts,o=e.open,i=e.handleClose,s=e.handleAddContact,u=(0,c.useState)(""),d=u[0],f=u[1],p=(0,c.useState)(null),x=p[0],b=p[1];return(0,a.jsxs)(S.Z,{fullWidth:!0,maxWidth:"xs",open:o,onClose:i,children:[(0,a.jsx)(w.Z,{children:"Add Contact"}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.Z,{sx:y.contactInformationItem,children:[(0,a.jsx)(l.Z,{sx:{mr:9},children:(0,a.jsx)(Z.Z,{children:"Name:"})}),(0,a.jsx)(m.Z,{id:"outlined-basic",variant:"standard",size:"small",onChange:function(e){f(e.target.value)}})]}),(0,a.jsx)("br",{}),(0,a.jsxs)(l.Z,{sx:y.contactInformationItem,children:[(0,a.jsx)(l.Z,{sx:{mr:3},children:(0,a.jsx)(Z.Z,{children:"Cell Number:"})}),(0,a.jsx)(m.Z,{error:(null===(n=A("ADD",r,x,null))||void 0===n?void 0:n.length)>0,helperText:P(A("ADD",r,x)),id:"outlined-basic",variant:"standard",size:"small",onChange:function(e){b(e.target.value)},type:"tel"})]})]}),(0,a.jsxs)(k.Z,{children:[(0,a.jsx)(h.Z,{size:"small",onClick:i,children:"CANCEL"}),(0,a.jsx)(h.Z,{disabled:(null===(t=A("ADD",r,x))||void 0===t?void 0:t.length)>0||null===x,size:"small",variant:"contained",onClick:function(){s({name:d,cellnumber:x}),f(""),b(null),i()},children:"SAVE"})]})]})};var D=function(e){var n,t,r=e.open,o=e.contact,i=e.contacts,s=e.handleClose,u=e.handleDeleteContact,d=e.handleEditContact,f=(0,c.useState)(!1),p=f[0],x=f[1],b=(0,c.useState)(o.name),v=b[0],g=b[1],j=(0,c.useState)(o.cellnumber),C=j[0],O=j[1];return(0,a.jsxs)(S.Z,{fullWidth:!0,maxWidth:"xs",open:r,onClose:s,children:[(0,a.jsx)(w.Z,{children:"Contact Details"}),(0,a.jsxs)(E.Z,{children:[(0,a.jsxs)(l.Z,{sx:y.contactInformationItem,children:[(0,a.jsx)(l.Z,{sx:{mr:9},children:(0,a.jsx)(Z.Z,{children:"Name:"})}),(0,a.jsx)(m.Z,{disabled:!p,id:"outlined-basic",onChange:function(e){g(e.target.value)},value:v,variant:"standard",size:"small"})]}),(0,a.jsx)("br",{}),(0,a.jsxs)(l.Z,{sx:y.contactInformationItem,children:[(0,a.jsx)(l.Z,{sx:{mr:3},children:(0,a.jsx)(Z.Z,{children:"Cell Number:"})}),(0,a.jsx)(m.Z,{error:(null===(n=A("EDIT",i,C,o.cellnumber))||void 0===n?void 0:n.length)>0,helperText:P(A("EDIT",i,C,o.cellnumber)),onChange:function(e){O(e.target.value)},disabled:!p,id:"outlined-basic",value:C,variant:"standard",size:"small",type:"tel"})]})]}),(0,a.jsx)("br",{}),(0,a.jsxs)(k.Z,{children:[p?(0,a.jsx)(h.Z,{disabled:(null===(t=A("EDIT",i,C,o.cellnumber))||void 0===t?void 0:t.length)>0,size:"small",variant:"outlined",onClick:function(){return d({id:o.id,name:v,cellnumber:C})},children:"SAVE"}):(0,a.jsx)(h.Z,{size:"small",variant:"outlined",onClick:function(){x(!0),O(o.cellnumber)},children:"EDIT"}),p?(0,a.jsx)(h.Z,{size:"small",variant:"outlined",onClick:function(){g(o.name),O(o.cellnumber),x(!1)},children:"CANCEL"}):(0,a.jsx)(h.Z,{size:"small",color:"error",variant:"outlined",onClick:function(){return u(o)},children:"DELETE"}),(0,a.jsx)(h.Z,{size:"small",onClick:s,children:"CLOSE"})]})]})},I=t(5322);var L=function(e){var n=e.handleAddContact,t=e.handleDeleteContact,r=e.handleEditContact,o=e.loading,i=e.open,s=e.originalContacts,u=e.setOpen,d=(0,c.useState)(null),f=d[0],p=d[1],C=(0,c.useState)(s),S=C[0],w=C[1],E=(0,c.useState)(!1),Z=E[0],k=E[1],R=(0,c.useState)(""),T=R[0],_=R[1],A=(0,c.useState)(!1),P=A[0],L=A[1],F=(0,c.useState)(!1),M=F[0],z=F[1],B=(0,c.useState)({}),W=B[0],U=B[1];return(0,c.useEffect)((function(){w(s)}),[s]),(0,a.jsxs)("div",{children:[M&&Object.entries(W).length>0&&(0,a.jsx)(I.Z,{openSnackbar:!0,message:W.message,severity:W.severity}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{variant:"contained",color:"primary",onClick:function(){L(!0)},children:"ADD CONTACT"}),(0,a.jsx)(N,{contacts:s,open:P,handleClose:function(){L(!1)},handleAddContact:n})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{children:o?"Updating List...":(0,a.jsxs)(l.Z,{sx:y.phonebookContainer,children:[(0,a.jsx)(l.Z,{sx:y.searchPhonebookTextField,children:(0,a.jsx)(m.Z,{id:"outlined-basic",label:"Search...",onChange:function(e){var n=e.target.value;_(n);var t,r,o=isNaN(n);if(k(o),""===e.target.value)w(s);else{var a=(t=S,r=n,O().filter(t,O().flow(O().identity,O().values,O().join,O().toLower,O().partialRight(O().includes,r))));w(a)}},variant:"outlined",size:"small",style:{width:"100%"}})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(x.Z,{children:(null===S||void 0===S?void 0:S.length)>0?S.map((function(e){var n="checkbox-list-label-".concat(e.cellnumber);return(0,a.jsx)(b.ZP,{disablePadding:!0,children:(0,a.jsx)(v.Z,{role:void 0,dense:!0,onClick:function(){return function(e){z(!1),U({}),u(!0),p(e)}(e)},children:(0,a.jsx)(g.Z,{id:n,primary:""===e.name?e.cellnumber:e.name,secondary:""!==T&&!Z&&""!==e.name&&e.cellnumber})})},e.cellnumber)})):(0,a.jsx)(j.Z,{children:(0,a.jsx)("p",{children:"No Results"})})}),f&&(0,a.jsx)(D,{contact:f,contacts:S,handleClose:function(){u(!1),p(null)},handleDeleteContact:t,handleEditContact:r,open:i})]})})]})},F=t(4343);var M=function(e){var n=e.columns,t=e.loadingReports,r=e.rows;return(0,a.jsx)("div",{style:{height:400,width:"100%"},children:(0,a.jsx)(F._,{rows:r,columns:n,loading:t,pageSize:5,rowsPerPageOptions:[5]})})},z=t(8554);function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){B(e,n,t[n])}))}return e}var U=function(e){var n=e.columns,t=e.contacts,r=e.getContacts,o=e.handleAddContact,i=e.handleDeleteContact,h=e.handleEditContact,m=e.handleOpenAddContact,x=e.loading,b=e.loadingReports,v=e.open,g=e.rows,j=e.setOpen,y=e.toAddContact,C=(0,c.useState)(y?1:0),O=C[0],S=C[1];return(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{variant:"h5",children:"SMS Management"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"View Text (SMS) versions"})," of generated Crop Recommendations and send them to different individuals via SMS."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Manage your own phonebook"})," for ease of sending texts to individuals."]}),(0,a.jsxs)(l.Z,{sx:z.Z.tabsContainer,children:[(0,a.jsxs)(u.Z,{value:O,onChange:function(e,n){S(n)},"aria-label":"basic tabs example",children:[(0,a.jsx)(d.Z,W({label:"SMS"},(0,p.P)(0))),(0,a.jsx)(d.Z,W({label:"PHONEBOOK"},(0,p.P)(1)))]}),(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(p.x,{value:O,index:0,children:(0,a.jsx)(M,{columns:n,loadingReports:b,rows:g})}),(0,a.jsx)(p.x,{value:O,index:1,children:(0,a.jsx)(f.ZP,{container:!0,children:(0,a.jsx)(f.ZP,{item:!0,xs:12,md:4,children:(0,a.jsx)(L,{getContacts:r,handleAddContact:o,handleDeleteContact:i,handleEditContact:h,handleOpenAddContact:m,loading:x,open:v,originalContacts:t,setOpen:j})})})})]})]})]})},q=t(2530),G=t(7426),H=t(3835),K=t(558),V=t(1163),X=t(8152),Y=t(2882),J=t(5113),$=t(7906),Q=t(3184),ee=t(3816),ne=t(3252),te=t(295);function re(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,o)}function oe(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){re(a,r,o,i,c,"next",e)}function c(e){re(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ae(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ie=(0,i.Z)((function(e){var n=e.loading,t=e.user,r=e.onBtnLogoutClick,i=(0,H.aC)(),u=(0,V.useRouter)(),d=(0,c.useState)([]),f=d[0],p=d[1],m=(0,c.useState)([]),x=m[0],b=m[1],v=(0,c.useState)([]),g=v[0],j=v[1],y=(0,c.useState)([]),C=y[0],O=y[1],Z=(0,c.useState)(!1),R=Z[0],T=Z[1],_=(0,c.useState)(!1),A=_[0],P=_[1],N=(0,c.useState)({}),D=N[0],L=N[1],F=(0,c.useState)(!1),M=F[0],z=F[1],B=(0,c.useState)(!1),W=B[0],re=B[1],ie=(0,c.useState)([]),ce=ie[0],se=ie[1],le=function(){var e=oe(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,(0,K.K2)();case 4:n=e.sent,O(n),z(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ue=function(e){var n=e.logs,t={weekday:"long",year:"numeric",month:"long",day:"numeric"};return(0,a.jsx)(Y.Z,{component:J.Z,children:(0,a.jsxs)($.Z,{sx:{minWidth:650},"arial-label":"simple-table",children:[(0,a.jsx)(Q.Z,{children:(0,a.jsxs)(ee.Z,{children:[(0,a.jsx)(ne.Z,{children:"Number"}),(0,a.jsx)(ne.Z,{children:"Date"}),(0,a.jsx)(ne.Z,{children:"Message"}),(0,a.jsx)(ne.Z,{children:"Recipients"})]})}),(0,a.jsx)(te.Z,{children:n.map((function(e,n){var r=JSON.parse(e),o=new Date(r.dateSent).toLocaleDateString("en-US",t);return(0,a.jsxs)(ee.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(ne.Z,{component:"th",scope:"row",children:n+1}),(0,a.jsx)(ne.Z,{children:o}),(0,a.jsx)(ne.Z,{children:r.sentMessage}),(0,a.jsx)(ne.Z,{children:r.recipientsWithName})]},r.dateSent)}))})]})})},de=function(e){var n=e.report;return(0,a.jsxs)(S.Z,{fullWidth:!0,maxWidth:"md",open:W,onClose:xe,children:[(0,a.jsx)(w.Z,{children:"SMS Recommendation Logs"}),(0,a.jsxs)(E.Z,{dividers:!0,children:[(0,a.jsx)(s.Z,{variant:"body2",children:"This is where you can check where you send your texts message."}),(0,a.jsx)("br",{}),(0,a.jsx)(ue,{logs:null===n||void 0===n?void 0:n.logs})]}),(0,a.jsx)(k.Z,{children:(0,a.jsx)(h.Z,{variant:"outlined",onClick:xe,children:"Close"})})]})};(0,c.useEffect)((function(){if(null!==i.user&&!i.loading){var e=function(){var e=oe(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,X.pr)(i.user.uid);case 3:n=e.sent,j(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),le()}}),[i]),(0,c.useEffect)((function(){if(g.length>0){var e={action:"Action",logs:"Logs",crop:"Crop",text_recommendation:"Text-Form Recommendation",region:"Region",province:"Province",municipality:"Municipality",month:"Month",type:"Type",updated_by:"Updated by",date_created:"Date Created"},n=[];["action","logs","crop","text_recommendation","region","province","municipality","month","type","updated_by","date_created"].forEach((function(t){"action"===t?n.push({field:t,headerName:e[t],width:100,editable:!1,sortable:!1,disableColumnMenu:!0,renderCell:function(e){return(0,a.jsx)(h.Z,{variant:"outlined",size:"small",onClick:function(n){n.stopPropagation(),u.push({pathname:"/admin/sms/viewSMS/",query:{docId:e.row.docId}})},children:"SEND"})}}):"logs"===t?n.push({field:t,headerName:e[t],width:100,editable:!1,sortable:!1,disableColumnMenu:!0,renderCell:function(e){var n;return(null===(n=e.row.logs)||void 0===n?void 0:n.length)>0?(0,a.jsx)(h.Z,{variant:"outlined",size:"small",onClick:function(){re(!0),se(e.row)},children:"VIEW LOGS"}):(0,a.jsx)(l.Z,{sx:{fontWeight:"bold"},children:"UNSENT"})}}):n.push({field:t,headerName:e[t],width:150,editable:!1,sortable:!1,disableColumnMenu:!0})}));var t=g.map((function(e,n){var t;return ae(t={id:n,docId:e.id,logs:e.logs,crop:e.crop,text_recommendation:e.smsRecommendations||"No SMS Recommendations available"},"logs",e.logs),ae(t,"region",e.region),ae(t,"province",e.province),ae(t,"municipality",e.municipality),ae(t,"month",e.month),ae(t,"type",e.type),ae(t,"updated_by",e.updated_by),ae(t,"date_created",e.date_created.toDate().toDateString()),t}));p(t),b(n)}}),[u,g]),(0,c.useEffect)((function(){"isSent"===Object.keys(u.query)[0]&&fe({openSnackbar:!0,message:u.query.isSent?"Successfully sent Crop Recommendation via text!":"Unsuccessful in sending Crop Recommendation via text.",severity:u.query.isSent?"success":"error"})}),[u]),(0,c.useEffect)((function(){i.loading||i.user||u.push("/admin/login")}),[i.user,i.loading,u]);var fe=function(e){L(e)},pe=function(){var e=oe(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,K.rE)(n);case 3:if(!e.sent){e.next=7;break}return e.next=7,le();case 7:T(!0),L({message:"Successfully added a New Contact!",severity:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),he=function(){var e=oe(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,K.GK)({docId:n.id});case 3:if(t=e.sent,P(!1),!t){e.next=8;break}return e.next=8,le();case 8:T(!0),L({openSnackbar:!0,message:"Successfully deleted contact: ".concat(""===n.name?n.cellnumber:n.name,"!"),severity:"success"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}(),me=function(){var e=oe(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,K.mP)({docId:n.id,name:n.name,cellnumber:n.cellnumber});case 3:if(t=e.sent,P(!1),!t){e.next=8;break}return e.next=8,le();case 8:T(!0),L({openSnackbar:!0,message:"Successfully edit contact: ".concat(""===n.name?n.cellnumber:n.name,"!"),severity:"success"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}(),xe=function(){re(!1)};return(0,a.jsxs)(q.Z,{loading:n,user:t,onBtnLogoutClick:r,accLevel:G.DW.ADMIN,children:[(0,a.jsx)(de,{report:ce}),(0,a.jsx)(U,{columns:x,contacts:C,getContacts:le,handleAddContact:pe,handleDeleteContact:he,handleEditContact:me,loading:M,loadingReports:n,onBtnClick:r,open:A,rows:f,setOpen:P,toAddContact:u.query.toAddContact,user:i.user}),!M&&R&&(0,a.jsx)(I.Z,{openSnackbar:!0,message:D.message,severity:D.severity,closeHandler:function(){T(!1)}})]})}))},558:function(e,n,t){"use strict";t.d(n,{rE:function(){return C},GK:function(){return O},mP:function(){return S},K2:function(){return w}});var r=t(4051),o=t.n(r),a=t(9669),i=t.n(a),c=t(9431);function s(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)}))}}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}function m(e,n){return!n||"object"!==b(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function x(e,n){return x=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},x(e,n)}var b=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=p(e);if(n){var o=p(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return m(this,t)}}var g={BASE_API_URL:"https://amia-cis.herokuapp.com/api",CREATE_CONTACT:"".concat("https://amia-cis.herokuapp.com/api","/contact"),DELETE_CONTACT:"".concat("https://amia-cis.herokuapp.com/api","/contact"),EDIT_CONTACT:"".concat("https://amia-cis.herokuapp.com/api","/contact"),GET_CONTACTS:"".concat("https://amia-cis.herokuapp.com/api","/contacts"),PHONEBOOK:"phonebook"},j=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&x(e,n)}(c,e);var n,t,r,a=v(c);function c(){return u(this,c),a.apply(this,arguments)}return n=c,(t=[{key:"createContact",value:function(e){var n=this;return l(o().mark((function t(){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.createRequestObject({body:e});case 2:return r=t.sent,t.next=5,i()(h({},r,{url:g.CREATE_CONTACT,method:"POST"}));case 5:return a=t.sent,t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)})))()}},{key:"deleteContact",value:function(e){var n=this;return l(o().mark((function t(){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.createRequestObject({body:e});case 2:return r=t.sent,t.next=5,i()(h({},r,{url:g.DELETE_CONTACT,method:"DELETE"}));case 5:return a=t.sent,t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)})))()}},{key:"editContact",value:function(e){var n=this;return l(o().mark((function t(){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.createRequestObject({body:e});case 2:return r=t.sent,t.next=5,i()(h({},r,{url:g.EDIT_CONTACT,method:"PATCH"}));case 5:return a=t.sent,t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)})))()}},{key:"getContacts",value:function(){var e=this;return l(o().mark((function n(){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.createRequestObject({});case 2:return t=n.sent,n.next=5,i()(h({},t,{url:g.GET_CONTACTS,method:"GET"}));case 5:return r=n.sent,n.abrupt("return",r.data.contacts);case 7:case"end":return n.stop()}}),n)})))()}}])&&d(n.prototype,t),r&&d(n,r),c}(c.Z),y=new j,C=y.createContact.bind(y),O=y.deleteContact.bind(y),S=y.editContact.bind(y),w=y.getContacts.bind(y)}},function(e){e.O(0,[3662,3135,9669,3203,4343,6572,4848,7761,3728,8152,9774,2888,179],(function(){return n=8359,e(e.s=n);var n}));var n=e.O();_N_E=n}]);