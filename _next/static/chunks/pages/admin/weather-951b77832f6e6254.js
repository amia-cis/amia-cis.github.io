(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3359],{9536:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var o=r(n(4938)),a=n(5893),i=(0,o.default)([(0,a.jsx)("path",{d:"M21 19.1H3V5h18v14.1zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},"0"),(0,a.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41z"},"1")],"CancelPresentation");t.Z=i},7346:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var o=r(n(4938)),a=n(5893),i=(0,o.default)([(0,a.jsx)("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},"1")],"CancelTwoTone");t.Z=i},2701:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var o=r(n(4938)),a=n(5893),i=(0,o.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchTwoTone");t.Z=i},6863:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(3366),o=n(7462),a=n(7294),i=n(6010),l=n(7192),c=n(1796),s=n(8216),u=n(1496),d=n(3616),p=n(8979);function f(e){return(0,p.Z)("MuiButtonGroup",e)}var h=(0,n(6087).Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),b=n(8363),g=n(5893);const m=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],v=(0,u.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${h.grouped}`]:t.grouped},{[`& .${h.grouped}`]:t[`grouped${(0,s.Z)(n.orientation)}`]},{[`& .${h.grouped}`]:t[`grouped${(0,s.Z)(n.variant)}`]},{[`& .${h.grouped}`]:t[`grouped${(0,s.Z)(n.variant)}${(0,s.Z)(n.orientation)}`]},{[`& .${h.grouped}`]:t[`grouped${(0,s.Z)(n.variant)}${(0,s.Z)(n.color)}`]},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((({theme:e,ownerState:t})=>(0,o.Z)({display:"inline-flex",borderRadius:e.shape.borderRadius},"contained"===t.variant&&{boxShadow:e.shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${h.grouped}`]:(0,o.Z)({minWidth:40,"&:not(:first-of-type)":(0,o.Z)({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,o.Z)({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===t.variant&&"inherit"!==t.color&&{borderColor:(0,c.Fq)(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${e.palette.grey[400]}`,[`&.${h.disabled}`]:{borderRight:`1px solid ${e.palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${e.palette.grey[400]}`,[`&.${h.disabled}`]:{borderBottom:`1px solid ${e.palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:e.palette[t.color].dark},{"&:hover":(0,o.Z)({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,o.Z)({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"})})));var x=a.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiButtonGroup"}),{children:c,className:u,color:p="primary",component:h="div",disabled:x=!1,disableElevation:y=!1,disableFocusRipple:j=!1,disableRipple:w=!1,fullWidth:O=!1,orientation:S="horizontal",size:Z="medium",variant:P="outlined"}=n,C=(0,r.Z)(n,m),E=(0,o.Z)({},n,{color:p,component:h,disabled:x,disableElevation:y,disableFocusRipple:j,disableRipple:w,fullWidth:O,orientation:S,size:Z,variant:P}),_=(e=>{const{classes:t,color:n,disabled:r,disableElevation:o,fullWidth:a,orientation:i,variant:c}=e,u={root:["root",c,"vertical"===i&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${(0,s.Z)(i)}`,`grouped${(0,s.Z)(c)}`,`grouped${(0,s.Z)(c)}${(0,s.Z)(i)}`,`grouped${(0,s.Z)(c)}${(0,s.Z)(n)}`,r&&"disabled"]};return(0,l.Z)(u,f,t)})(E),A=a.useMemo((()=>({className:_.grouped,color:p,disabled:x,disableElevation:y,disableFocusRipple:j,disableRipple:w,fullWidth:O,size:Z,variant:P})),[p,x,y,j,w,O,Z,P,_.grouped]);return(0,g.jsx)(v,(0,o.Z)({as:h,role:"group",className:(0,i.Z)(_.root,u),ref:t,ownerState:E},C,{children:(0,g.jsx)(b.Z.Provider,{value:A,children:c})}))}))},8951:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(3366),o=n(7462),a=n(7294),i=n(7192),l=n(1496),c=n(3616),s=n(5861),u=n(8979);function d(e){return(0,u.Z)("MuiDialogContentText",e)}(0,n(6087).Z)("MuiDialogContentText",["root"]);var p=n(5893);const f=["children"],h=(0,l.ZP)(s.Z,{shouldForwardProp:e=>(0,l.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var b=a.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiDialogContentText"}),a=(0,r.Z)(n,f),l=(e=>{const{classes:t}=e,n=(0,i.Z)({root:["root"]},d,t);return(0,o.Z)({},t,n)})(a);return(0,p.jsx)(h,(0,o.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:a},n,{classes:l}))}))},1158:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/weather",function(){return n(4662)}])},9132:function(e,t){"use strict";t.Z={tablecontainer:{marginTop:function(e){return e.spacing(1)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},borderRadius:function(e){return e.spacing(1)},boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},tablecell:{border:"1px solid",textAlign:"center"},subheader:{marginBottom:function(e){return e.spacing(3)},maxWidth:"800px",color:"gray"},labels:{fontSize:"12px",color:function(e){return e.palette.secondary.light}},legend:{margin:function(e){return e.spacing(1)},fontSize:"14px",display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"baseline"},"& ul":{listStyle:"none","& li":{marginRight:"10px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}},"& .wb_normal":{backgroundColor:"red",color:"#fff"},"& .b_normal":{backgroundColor:"yellow"},"& .near_normal":{backgroundColor:"#00c300"},"& .above_normal":{backgroundColor:"blue",color:"#fff"}}}},2509:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(5893),o=n(7294),a=n(9473),i=n(1163),l=n(7357),c=n(7906),s=n(295),u=n(3252),d=n(2882),p=n(3184),f=n(3816),h=n(1033),b=n(8078),g={container:{minHeight:"200px",width:"100%",border:"2px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var m=function(e){var t=e.rows,n=void 0===t?3:t,o=e.cols,a=void 0===o?3:o;return(0,r.jsx)(l.Z,{sx:g.container,children:Array.from(Array(n).keys()).map((function(e,t){return(0,r.jsx)("div",{style:{margin:"2px",display:"flex"},children:Array.from(Array(a).keys()).map((function(e,t){return(0,r.jsx)(b.Z,{animation:"wave",variant:"rectangular",height:25,sx:{margin:"3px",width:"".concat(Math.round(100/a),"%")}},"col-".concat(t))}))},"row-".concat(t))}))})},v=n(7426),x=n(901),y=n(3894),j=n(213),w=n(9132);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={updated_by:"-",date_created:"",monthLabels:[]};var Z=function(e){var t=e.withBorder,n=void 0!==t&&t,b=(0,o.useState)(S),g=b[0],Z=b[1],P=(0,o.useState)(!1),C=P[0],E=P[1],_=(0,a.v9)((function(e){return e.provinces.entities})),A=(0,o.useRef)(!1),k=(0,i.useRouter)(),T=(0,a.I0)();(0,o.useEffect)((function(){return A.current=!0,function(){A.current=!1}}),[]);var R=(0,a.v9)((function(e){return e.seasonalweather})),D=R.ids,B=R.status,F=R.entities;(0,o.useEffect)((function(){T((0,y.Y)()).unwrap().then((function(){A.current&&E(!0)}))}),[T]),(0,o.useEffect)((function(){if(B===x.G.FULLFILLED&&D.length>0&&C){var e=F[D[0]];if(!A.current)return;Z((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({},t,{updated_by:"/admin/weather"===k.pathname?e.updated_by:"an admin",date_created:e.date_created,monthLabels:e.mos.map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}))})}))}}),[F,B,D,k.pathname,C]);var W=function(e){var t="";if(0===Object.values(_).length)return"n/a";try{t=Object.values(_).find((function(t){return t.name===e})).label}catch(n){t="n/a"}return t},L=function(e){var t=e.children;return n?(0,r.jsx)(d.Z,{sx:w.Z.tablecontainer,children:t}):(0,r.jsx)(d.Z,{children:t})};return(0,r.jsx)("div",{children:B===x.G.PENDING?(0,r.jsx)(m,{rows:7,cols:7}):D.length>0?(0,r.jsxs)(L,{children:[(0,r.jsxs)(c.Z,{sx:{minWidth:650},"aria-label":"simple table",size:"small",children:[(0,r.jsx)(p.Z,{children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(u.Z,{sx:{width:"20%"},children:"Province"}),g.monthLabels.map((function(e,t){return(0,r.jsx)(u.Z,{sx:{textAlign:"center"},children:"".concat(e[0].toUpperCase()).concat(e.slice(1))},"".concat(e,"-").concat(t))}))]})}),(0,r.jsx)(s.Z,{children:Object.values(F).map((function(e){return(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(u.Z,{children:W(e.name)}),e.months.map((function(e,t){return(0,r.jsx)(u.Z,{sx:{backgroundColor:v.tN[e.con],border:"1px solid #000",textAlign:"center",fontSize:"14px",padding:"10px",color:["above_normal","wb_normal"].includes(e.con)?"#fff":"#000"},children:e.val},"".concat(e.mo,"-").concat(t))}))]},e.name)}))})]}),(0,r.jsxs)(l.Z,{sx:w.Z.legend,children:[(0,r.jsxs)(j.Z,{children:["Encoded from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",target:"_blank",rel:"noreferrer",children:"Seasonal (Rainfall) Forecast"})," web page ",(0,r.jsx)("br",{}),"by ",g.updated_by," on \xa0",g.date_created]}),(0,r.jsx)("ul",{children:Object.values(v.MW).map((function(e){return(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:v.tN[e.label]}}),e.sync," (",e.content,")"]},e.id)}))})]})]}):(0,r.jsx)(h.Z,{})})}},213:function(e,t,n){"use strict";var r=n(5893),o=n(5861);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,n(1496).ZP)((function(e){return(0,r.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var t=e.theme;return{color:t.palette.text.secondary,"& a":{color:t.palette.green.dark,textDecoration:"none"},"& a:visited":{color:t.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));t.Z=i},1033:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893),o=n(5675),a=n(7357),i=n(5861),l=n(120),c={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var s=function(e){var t=e.message,n=void 0===t?"Failed to load data":t,s=e.style,u=void 0===s?{}:s;return(0,r.jsxs)(a.Z,{sx:c.container,style:u,children:[(0,r.jsx)(o.default,{unoptimized:!0,src:(0,l.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:l.imageLoader,alt:"Empty data"}),(0,r.jsx)(i.Z,{variant:"subtitle1",children:n})]})}},3501:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(5893),o=n(7294),a=n(5697),i=n.n(a),l=n(1057),c=n(9536),s=n(8456),u=n(4666),d=n(1425),p=n(7645),f=n(6580),h=n(3946),b={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",height:{xs:"40px",sm:"48px"},"& .text":{display:{xs:"block",sm:"none"}},"& .shortText":{display:{xs:"inline-block",sm:"none"},fontSize:"24px"}},icon:{display:{xs:"block",sm:"none"}},dialogContent:{"& .error":{fontSize:"12px",color:"red"}},dialogActions:{"& button":{minWidth:"100px"}},closeButton:{position:"absolute",right:"8px",top:"8px",color:function(e){return e.palette.grey[500]}}};function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=x(o.useState({open:null}),2),n=t[0],a=t[1],i=e.loading,g=void 0!==i&&i,m=e.isOpen,y=void 0!==m&&m,j=e.showButtons,w=void 0===j||j,O=e.maxWidth,S=void 0===O?"sm":O,Z=e.IconSVG,P=void 0===Z?null:Z,C=e.modalExtraHandlerCB,E=void 0===C?null:C,_=e.modalCancelHandlerCB,A=void 0===_?null:_,k=e.modalConfirmHandlerCB,T=void 0===k?null:k,R=e.modalOpenHandlerCB,D=void 0===R?null:R,B=e.isDisabled,F=void 0!==B&&B,W=e.openButtonText,L=void 0===W?"Click":W,M=e.title,z=void 0===M?"Window Title":M,I=e.extraBtnText,N=void 0===I?"":I,H=e.cancelBtnText,U=void 0===H?"Cancel":H,G=e.confirmBtnText,$=void 0===G?"Ok":G,V=e.contentText,Y=void 0===V?"":V,q=e.error,X=void 0===q?"":q,J=e.colorTheme,K=void 0===J?"primary":J;(0,o.useEffect)((function(){a((function(e){return v({},e,{open:y})}))}),[y]);var Q=function(){a(v({},n,{open:!1})),A&&A()};return(0,r.jsxs)("div",{children:[L&&(0,r.jsxs)(l.Z,{disabled:F,disableElevation:!0,variant:"contained",color:K,onClick:function(){a(v({},n,{open:!0})),D&&D()},sx:b.button,children:[P&&(0,r.jsx)(P,{sx:b.icon}),L]}),(0,r.jsxs)(u.Z,{maxWidth:S,fullWidth:!0,open:n.open||!1,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsxs)(p.Z,{children:[(0,r.jsx)("span",{children:z}),(0,r.jsx)(h.Z,{"aria-label":"close",sx:b.closeButton,onClick:Q,disabled:g,children:(0,r.jsx)(c.Z,{})})]}),(0,r.jsxs)(f.Z,{sx:b.dialogContent,children:[""!==Y&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:Y}),(0,r.jsx)("div",{className:"error",children:X})]}),e.children]}),w&&(0,r.jsxs)(d.Z,{sx:b.dialogActions,children:[""!==N&&(0,r.jsx)(l.Z,{onClick:E||Q,disabled:g,children:N}),(0,r.jsx)(l.Z,{onClick:A||Q,disabled:g,children:U}),(0,r.jsxs)(l.Z,{variant:"contained",disabled:g,onClick:T||Q,children:[(0,r.jsx)("span",{style:{display:g?"none":"block"},children:$}),(0,r.jsx)(s.Z,{size:24,color:"secondary",sx:{display:g?"block":"none"}})]})]})]})]})}y.propTypes={loading:i().bool,isOpen:i().bool,showButtons:i().bool,maxWidth:i().string,IconSVG:i().elementType,modalCancelHandlerCB:i().func,modalConfirmHandlerCB:i().func,modalOpenHandlerCB:i().func,modalExtraHandlerCB:i().func,openButtonText:i().string,cancelBtnText:i().string,confirmBtnText:i().string,extraBtnText:i().string,title:i().string,contentText:i().string,children:i().node,error:i().string,isDisabled:i().bool,colorTheme:i().string};var j=y},5322:function(e,t,n){"use strict";var r=n(5893),o=n(7294),a=n(5697),i=n.n(a),l=n(4866),c=n(6901);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=o.forwardRef((function(e,t){return(0,r.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({elevation:6,ref:t,variant:"filled"},e))}));function d(e){var t=e.openSnackbar,n=e.message,a=e.severity,i=e.closeHandlerCB,c=void 0===i?function(){}:i,s=(0,o.useState)(t),d=s[0],p=s[1];(0,o.useEffect)((function(){p(t)}),[t]);var f=function(){p(!1),c()};return(0,r.jsx)(l.Z,{open:d,autoHideDuration:3e3,onClose:f,children:(0,r.jsx)(u,{onClose:f,severity:a,sx:{width:"100%"},children:n})})}d.propTypes={openSnackbar:i().bool,message:i().string,severity:i().string},t.Z=d},6601:function(e,t,n){"use strict";n.d(t,{x:function(){return l},P:function(){return c}});var r=n(5893),o=n(7357);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=function(e){var t=e.children,n=e.value,l=e.index,c=i(e,["children","value","index"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({role:"tabpanel",hidden:n!==l,id:"custom-tabpanel-".concat(l),"aria-labelledby":"custom-tab-".concat(l)},c,{children:n===l&&(0,r.jsx)(o.Z,{sx:{p:3},children:t})}))};var c=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},4662:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Rt}});var r=n(5893),o=n(7294),a=n(9473),i=n(4822),l=n(3059),c=n(2530),s=n(7357),u=n(44),d=n(8409),p=n(6601),f=n(5861),h=n(4051),b=n.n(h),g=n(1163),m=n(1057),v=n(6863),x=n(4666),y=n(1425),j=n(6580),w=n(8951),O=n(7645),S=n(3539),Z=n(9669),P=n.n(Z),C=n(9431),E=n(7426);function _(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){_(a,r,o,i,l,"next",e)}function l(e){_(a,r,o,i,l,"throw",e)}i(void 0)}))}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}function F(e,t){return!t||"object"!==L(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e,t){return W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},W(e,t)}var L=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}var z={BASE_API_URL:"https://amia-cis-temp.herokuapp.com/api",WEATHER_FORECAST_SEASONAL_EXCEL:"".concat("https://amia-cis-temp.herokuapp.com/api","/weather/seasonal/excel"),WEATHER_FORECAST_SEASONAL:"".concat("https://amia-cis-temp.herokuapp.com/api","/weather/seasonal/region"),WEATHER_FORECAST_PROVINCE:"".concat("https://amia-cis-temp.herokuapp.com/api","/weather/seasonal/province"),WEATHER_FORECAST_TEN_DAY:"".concat("https://amia-cis-temp.herokuapp.com/api","/weather/10day")},I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(a,e);var t,n,r,o=M(a);function a(){return k(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"upsertSeasonal",value:function(e){var t=this;return A(b().mark((function n(){var r,o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObject({body:e});case 2:return r=n.sent,n.next=5,P()(B({},r,{url:z.WEATHER_FORECAST_SEASONAL,method:"POST"}));case 5:return o=n.sent,n.abrupt("return",o.data);case 7:case"end":return n.stop()}}),n)})))()}},{key:"upsertTenDay",value:function(e){var t=this;return A(b().mark((function n(){var r,o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObject({body:e});case 2:return r=n.sent,n.next=5,P()(B({},r,{url:z.WEATHER_FORECAST_TEN_DAY,method:"POST"}));case 5:return o=n.sent,n.abrupt("return",o.data);case 7:case"end":return n.stop()}}),n)})))()}},{key:"upsertSeasonalExcel",value:function(e){var t=this;return A(b().mark((function n(){var r,o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObject({body:e});case 2:return r=n.sent,n.next=5,P()(B({},r,{url:z.WEATHER_FORECAST_SEASONAL_EXCEL,method:"POST"}));case 5:return o=n.sent,n.abrupt("return",o.data);case 7:case"end":return n.stop()}}),n)})))()}},{key:"getweathercondition",value:function(e){var t="";return e<=40&&(t=E.MW.WAY_BELOW_NORMAL.label),e>=41&&e<=80&&(t=E.MW.BELOW_NORMAL.label),e>=81&&e<=120&&(t=E.MW.NEAR_NORMAL.label),e>120&&(t=E.MW.ABOVE_NORMAL.label),t}}])&&T(t.prototype,n),r&&T(t,r),a}(C.Z),N=new I,H=N.upsertSeasonal.bind(N),U=N.upsertSeasonalExcel.bind(N),G=N.getweathercondition.bind(N),$=N.upsertTenDay.bind(N),V=n(6901),Y=n(8456),q={datagrid:{borderRadius:2,"& .MuiDataGrid-main":{borderRadius:2},"& .MuiDataGrid-virtualScrollerRenderZone":{"& .MuiDataGrid-row":{"&:nth-of-type(2n)":{backgroundColor:"rgba(235, 235, 235, .7)"}}},"& .MuiDataGrid-columnHeader:focus-within":{outline:"none !important"},"& .MuiDataGrid-columnHeaders":{color:function(e){return e.palette.primary.dark},fontSize:16,"& select":{width:"100px",height:"32px",border:"none !important",outline:"none !important",fontSize:16}}},gridContainer:{height:500,"& .wb_normal":{backgroundColor:"red",color:"#fff"},"& .b_normal":{backgroundColor:"yellow"},"& .near_normal":{backgroundColor:"#00c300"},"& .above_normal":{backgroundColor:"blue",color:"#fff"}}};function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){K(e,t,n[t])}))}return e}function ee(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te={loading:!1,show:!1,error:"",msg:"",saveDisabled:!1};var ne=function(e){var t=e.onCancelClick,n=e.onAsyncFinish,i=(0,a.v9)((function(e){return e.provinces})),l=i.ids,c=i.entities,u=(0,o.useState)([]),d=u[0],p=u[1],f=(0,o.useState)([]),h=f[0],g=f[1],x=(0,o.useState)([]),y=x[0],j=x[1],w=(0,o.useState)(te),O=w[0],Z=w[1],P=(0,a.v9)((function(e){return e.seasonalweather})),C=P.ids,_=P.entities,A=[{id:0,label:"Jan"},{id:1,label:"Feb"},{id:2,label:"Mar"},{id:3,label:"Apr"},{id:4,label:"May"},{id:5,label:"Jun"},{id:6,label:"Jul"},{id:7,label:"Aug"},{id:8,label:"Sep"},{id:9,label:"Oct"},{id:10,label:"Nov"},{id:11,label:"Dec"}];(0,o.useEffect)((function(){C.length>0&&W()}),[C.length,W]);var k=function(){var e,t=(e=b().mark((function e(){var t,r,o,a,i,l,c,s,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementsByTagName("select"),r=[],o=!0,a=0;a<t.length;a+=1)i=document.getElementById("select-mo-".concat(a)),r.push(F(i.value));if(R(r)&&6===d.length){e.next=7;break}return Z(Q({},te,{show:!0,loading:!1,error:"Invalid months sequence."})),e.abrupt("return");case 7:l=0;case 8:if(!(l<d.length)){e.next=20;break}c=0;case 10:if(!(c<d[l].length)){e.next=17;break}if(T(d[l][c])){e.next=14;break}return o=!1,e.abrupt("break",17);case 14:c+=1,e.next=10;break;case 17:l+=1,e.next=8;break;case 20:if(o){e.next=23;break}return Z(Q({},te,{show:!0,error:"Invalid cell values."})),e.abrupt("return");case 23:return e.prev=23,Z(Q({},te,{loading:!0})),e.next=27,H(B(r));case 27:n(),e.next=37;break;case 30:e.prev=30,e.t0=e.catch(23),s="",void 0!==e.t0.response&&(s=void 0!==e.t0.response.data?e.t0.response.data:""),""===s&&(s=e.t0.message),u=s.replaceAll(/Firebase/g,""),Z((function(e){return Q({},e,{show:!0,loading:!1,error:u})}));case 37:case"end":return e.stop()}}),e,null,[[23,30]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){J(a,r,o,i,l,"next",e)}function l(e){J(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),T=function(e){return isNaN(e)||""===e?(Z(Q({},te,{show:!0,error:"Not a number"})),!1):(Z(te),!0)},R=function(e){for(var t=e.map((function(e){return e+1})),n=!0,r=0;r<t.length-1&&(!(1!==Math.abs(t[r+1]-t[r])||t[r+1]<t[r])||(n=!1,12===t[r]&&1===t[r+1]&&(n=!0),n));)r+=1;return n},D=function(e){var t=e.props.value,n=T(t)?t:"ERROR",r=e.id,o=(C.length>0?_[C[0]].mos:[]).indexOf(e.field),a=ee(d),i=a[r];i[o]=n,a[r]=i,p((function(e){return a}))},B=function(e){for(var t={region:Object.values(c).length>0?Object.values(c)[0].region:"",provinces:[]},n=0;n<d.length;n+=1){for(var r={name:c[l[n]].label,months:[]},o=0;o<e.length;o+=1)r.months.push({mo:A[e[o]].label.toLowerCase(),val:d[n][o],con:G(d[n][o])});t.provinces.push(r)}return t},F=function(e){for(var t=0,n=0;n<A.length;n+=1)if(A[n].label.toLowerCase()===e.toLowerCase()){t=n;break}return t},W=function(){var e=function(e){var t=_[C[0]].mos[e];o.push({field:t,headerName:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),width:110,editable:!0,sortable:!1,disableColumnMenu:!0,renderHeader:function(n){return(0,r.jsxs)("select",{onChange:function(t){return function(e,t){var n=e.target.value;document.getElementById("select-mo-".concat(t)).setAttribute("value",F(n))}(t,e)},id:"select-mo-".concat(e),defaultValue:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),children:[(0,r.jsx)("option",{children:"Month"}),A.map((function(e,t){return(0,r.jsx)("option",{children:e.label},"mo-".concat(t))}))]})}})},t=function(e){var t=function(t){var n=_[C[e]],a=n.months.filter((function(e){return e.mo===n.mos[t]}));1===a.length?(r[n.mos[t]]=a[0].val,o.push(a[0].val)):(r[n.mos[t]]="n/a",o.push("n/a"))},r={},o=[],l=function(e){var t="";if(0===Object.values(c).length)return"n/a";try{t=Object.values(c).find((function(t){return t.name===e})).label}catch(n){t="n/a"}return t}(_[C[e]].name);i[l]=_[C[e]].name,r.id=e,r.rowId=e,r.province=l,r.editable=!0;for(var s=0;s<_[C[e]].mos.length;s+=1)t(s);n.push(r),a.push(o)},n=[],o=[],a=[],i={};o.push({field:"province",headerName:"Province",width:180,sortable:!1,disableColumnMenu:!0});for(var l=0;l<_[C[0]].mos.length;l+=1)e(l);for(var s=0;s<C.length;s+=1)t(s);j(o),g(n),p(a)};return(0,r.jsxs)("div",{style:{height:500,width:"100%"},children:[(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"baseline",marginBottom:"24px"},children:[(0,r.jsx)("div",{style:{minWidth:"40%"},children:(0,r.jsx)(V.Z,{severity:""!==O.error?"error":"success",sx:{fontSize:"12px",minHeight:"32px",width:"100%",visibility:O.show?"initial":"hidden"},children:""!==O.error?O.error:O.msg})}),(0,r.jsxs)(v.Z,{variant:"outlined","aria-label":"outlined button controls group",sx:{float:"right",marginTop:"24px","& button":{width:"50%"}},children:[(0,r.jsx)(m.Z,{id:"cancel",onClick:t,disabled:O.loading,children:"Cancel"}),(0,r.jsxs)(m.Z,{onClick:function(){var e=function(){return document.getElementsByTagName("select").length};if(Z(Q({},te,{loading:!0})),e()<6){var t=document.getElementsByClassName("MuiDataGrid-virtualScroller");if(t.length>0)var n=t[0].scrollWidth,r=setInterval((function(){n<=0&&(clearInterval(r),6===e()?k():Z(Q({},te,{show:!0,loading:!1,error:"Please edit the table cells on a larger screen."}))),t[0].scrollLeft+=3,n-=3}))}else k()},disabled:O.loading||O.saveDisabled,variant:"contained",children:[(0,r.jsx)("span",{style:{display:O.loading?"none":"block"},children:"Save"})," \xa0",(0,r.jsx)(Y.Z,{size:20,color:"secondary",sx:{display:O.loading?"block":"none"}})]})]})]}),(0,r.jsx)(s.Z,{sx:q.gridContainer,children:(0,r.jsx)(S._,{rows:h,columns:y,sx:q.datagrid,customH:!0,editMode:"row",rowsPerPageOptions:[],getCellClassName:function(e){return void 0!==E.re[e.field.toUpperCase()]?G(e.value):""},isCellEditable:function(){return!O.loading},onEditCellPropsChange:function(e){Z(te),D(e)},initialState:{columns:{columnVisibilityModel:{rowId:!1}}}})})]})},re=n(2509),oe=n(5697),ae=n.n(oe),ie=n(1903),le=n(1496);function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=(0,le.ZP)((function(e){return(0,r.jsx)(ie.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}({},e))}))((function(e){var t=e.theme;return{width:"100%",fontSize:"12px",marginTop:t.spacing(1),"& .MuiOutlinedInput-root":{paddingRight:0,paddingLeft:0},"& .MuiOutlinedInput-input":{padding:t.spacing(1)}}})),ue=se,de=n(6886),pe=n(3501),fe=n(5322),he=n(7346),be=n(2701);function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=(0,le.ZP)((function(e){return(0,r.jsx)(m.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ge(e,t,n[t])}))}return e}({},e))}))((function(e){return{width:"150px",height:e.theme.spacing(5)}})),ve=me,xe={container:{marginTop:"16px",width:"100%"},textfield:{fontSize:"14px"}},ye=n(213);function je(e){var t=e.file,n=e.state,a=e.name,i=e.label,l=void 0===i?"":i,c=e.textContent,s=void 0===c?"":c,u=e.fileAccepts,d=e.isDisabled,p=void 0!==d&&d,h=e.handleUpload,b=e.setSelectedFile,g=e.clearFile,m=(0,o.useRef)();return(0,o.useEffect)((function(){null===t&&(m.current.value=null)}),[t]),(0,r.jsxs)(de.ZP,{container:!0,sx:xe.container,children:[(0,r.jsx)(pe.Z,{isOpen:n.open,title:"Upload file",contentText:n.msg||"Uploading file...",loading:n.loading,openButtonText:null}),(0,r.jsx)(fe.Z,{openSnackbar:""!==n.error||""!==n.msg,message:n.error||n.msg,severity:""!==n.error?"error":"success"}),(0,r.jsxs)(de.ZP,{item:!0,xs:12,lg:6,sx:xe.wrapper,children:[(0,r.jsx)(f.Z,{variant:"subtitle2",children:l}),(0,r.jsx)(ye.Z,{children:s}),(0,r.jsx)(ue,{size:"small",disabled:!0,value:null!==t?t[0].name:"",sx:{fontSize:"10px"},InputProps:{style:xe.textfield,startAdornment:(0,r.jsxs)(ve,{variant:"outlined",disableElevation:!0,component:"label",disabled:n.loading||p,sx:{width:"48px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(e){null!==t&&g(e)},children:[null===t?(0,r.jsx)(be.Z,{}):(0,r.jsx)(he.Z,{}),(0,r.jsx)("input",{type:"file",multiple:!0,hidden:!0,ref:m,accept:u||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:a||"excelfile",onChange:b})]}),endAdornment:(0,r.jsx)(ve,{size:"small",component:"span",variant:"contained",disableElevation:!0,disabled:null===t||n.loading,sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:h,children:"Upload"})}})]})]})}je.propTypes={file:ae().object,state:ae().object,name:ae().string,label:ae().string,textContent:ae().string,fileAccepts:ae().string,isDisabled:ae().bool,handleUpload:ae().func,setSelectedFile:ae().func,clearFile:ae().func};var we=je;function Oe(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Oe(a,r,o,i,l,"next",e)}function l(e){Oe(a,r,o,i,l,"throw",e)}i(void 0)}))}}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ze(e,t,n[t])}))}return e}var Ce={msg:"",loading:!1,open:!1,error:""};function Ee(e){var t=e.label,n=e.name,a=e.textContent,i=e.fileAccepts,l=e.isDisabled,c=void 0!==l&&l,s=e.fileUploadMethod,u=(0,o.useState)(null),d=u[0],p=u[1],f=(0,o.useState)(Ce),h=f[0],g=f[1],m=function(){var e=Se(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(t.target.files);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Se(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d.length>0)){e.next=18;break}return t.preventDefault(),e.prev=2,(n=new FormData).append("excelfile",d[0]),g(Pe({},Ce,{loading:!0,open:!0})),e.next=8,s(n);case 8:g((function(e){return Pe({},Ce,{msg:"Upload success."})})),p((function(e){return null})),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(2),r="",void 0!==e.t0.response&&(r=void 0!==e.t0.response.data?e.t0.response.data:""),""===r&&(r=e.t0.message),g((function(e){return Pe({},Ce,{error:r})}));case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,r.jsx)(we,{file:d,state:h,label:t,name:n,textContent:a,fileAccepts:i,isDisabled:c,handleUpload:v,setSelectedFile:m,clearFile:function(e){e.preventDefault(),p((function(e){return null})),g((function(e){return Ce}))}})}Ee.propTypes={name:ae().string,label:ae().string,textContent:ae().string,fileAccepts:ae().string,isDisabled:ae().bool,fileUploadMethod:ae().func};var _e=Ee,Ae=n(9209),ke=n(7715),Te=n(901),Re=n(9132);function De(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Be(e,t,n[t])}))}return e}var We={seasonal_update:!1,tenday_update:!1};var Le=function(){var e=(0,o.useState)(We),t=e[0],n=e[1],i=(0,o.useState)(!1),l=i[0],c=i[1],u=(0,a.v9)((function(e){return e.seasonalweather.status})),d=(0,g.useRouter)(),p=(0,a.I0)(),h=function(e){var r=e.target.id;n("cancel"===r?We:Fe({},t,Be({},r,!0)))},S=function(){var e,t=(e=b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:n=e.sent,p((0,Ae.Mj)(n.map((function(e){return Fe({},e,{date_created:(0,ke.Xn)(e.date_created)})}))));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){De(a,r,o,i,l,"next",e)}function l(e){De(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsxs)(x.Z,{open:l,"aria-labelledby":"data-saved-success","aria-describedby":"alert-dialog-description",children:[(0,r.jsx)(O.Z,{id:"data-saved-success",children:"Success"}),(0,r.jsx)(j.Z,{children:(0,r.jsx)(w.Z,{id:"alert-dialog-description",children:"The seasonal weather data are saved successfully."})}),(0,r.jsx)(y.Z,{children:(0,r.jsx)(m.Z,{onClick:function(){d.push("/weather-services")},autoFocus:!0,children:"OK"})})]}),(0,r.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:function(e){return e.spacing(1)}},children:[(0,r.jsx)(f.Z,{variant:"h6",children:"Seasonal Weather Forecast Updater"}),(0,r.jsx)(v.Z,{variant:"outlined","aria-label":"outlined button controls group",children:!t.seasonal_update&&!t.tenday_update&&(0,r.jsx)(m.Z,{id:"seasonal_update",disabled:u===Te.G.PENDING,onClick:h,children:"Edit"})})]}),(0,r.jsx)("br",{}),(0,r.jsx)(f.Z,{variant:"h7",children:(0,r.jsx)("strong",{children:"Manual Update"})}),(0,r.jsxs)(f.Z,{variant:"body2",sx:Re.Z.subheader,children:["Copy the Bicol Region's ",(0,r.jsx)("strong",{children:"Rainfall Analysis Forecast"})," from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",target:"_blank",rel:"noreferrer",children:"Seasonal Forecast"})," page for each province. Press the ",(0,r.jsx)("strong",{children:"Edit"})," button and double click a cell to start editing."]}),(0,r.jsx)(f.Z,{variant:"h7",children:(0,r.jsx)("strong",{children:"Upload an Excel File"})}),(0,r.jsxs)(f.Z,{variant:"body2",sx:Re.Z.subheader,children:["Alternatively, you can opt to upload the updated seasonal weather forecast raw data in the excel file provided by PAGASA by clicking the SEARCH button, followed by clicling the UPLOAD button under the ",(0,r.jsx)("strong",{children:"Upload an Excel File"})," option below.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"You can use the attached seasonal weather forecast excel file from PAGASA as an example when an uploading excel file.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("a",{href:"https://firebasestorage.googleapis.com/v0/b/climate-webservices.appspot.com/o/files%2Fseasonal_forecast_example.xlsx?alt=media&token=d32aaa95-1827-4869-a9e3-535b5ec14026",target:"__blank",children:"[example excel file]"})]}),!t.seasonal_update&&(0,r.jsxs)("div",{children:[(0,r.jsx)(re.Z,{withBorder:!0}),(0,r.jsx)(_e,{label:"Upload an excel file",name:"excelfile",fileAccepts:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",isDisabled:u===Te.G.PENDING,fileUploadMethod:S})]}),t.seasonal_update&&(0,r.jsx)(ne,{onCancelClick:h,onAsyncFinish:function(){return c((function(e){return!e}))}})]})},Me=n(7682),ze=n(1234),Ie=n(560),Ne=n(7918);function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=(0,le.ZP)((function(e){return(0,r.jsx)(s.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){He(e,t,n[t])}))}return e}({},e))}))((function(e){var t=e.theme;return{display:"flex",alignItems:"center",maxWidth:"500px",minHeight:"100px",border:"1px solid gray",borderRadius:"8px",marginTop:t.spacing(1),marginBottom:t.spacing(3),"& ul":{listStyle:"none",paddingLeft:t.spacing(3)}}})),Ge=Ue;var $e=function(e){return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(f.Z,{sx:{marginTop:function(e){return e.spacing(4)}},variant:"h6",children:e.title}),(0,r.jsx)(Ge,{children:e.children})]})},Ve={subheader:function(e){return{marginBottom:e.spacing(2),color:"gray",marginTop:e.spacing(1),"& a":{color:e.palette.green.dark,textDecoration:"none"},"& a:visited":{color:e.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}},summary:{display:"flex",alignItems:"center",maxWidth:"500px",minHeight:"100px",border:"1px solid gray",borderRadius:"8px",marginTop:function(e){return e.spacing(1)},marginBottom:function(e){return e.spacing(3)},"& ul":{listStyle:"none"}},upload:{display:"flex",alignItems:"center",maxWidth:"500px",minHeight:"90px",border:"1px solid gray",borderRadius:"8px",fontSize:"14px",color:function(e){return e.palette.text.secondary},padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(1)},marginBottom:function(e){return e.spacing(1)}},notification:{maxWidth:"500px",marginBottom:function(e){return e.spacing(2)}}},Ye=(0,le.ZP)("input")({display:"none"});var qe=function(e){var t=e.files,n=void 0===t?[]:t,o=e.status,a=e.logs,i=e.handleSubmit,l=e.handleSelectFiles;return(0,r.jsxs)(s.Z,{sx:{"& li":{fontSize:"14px"}},children:[(0,r.jsx)(f.Z,{sx:{marginTop:function(e){return e.spacing(1)}},variant:"h6",children:"10-Day Weather Forecast Updater"}),(0,r.jsx)(f.Z,{variant:"body2",sx:Ve.subheader,children:"This panel updates the site's 10-Day Weather Forecast data by manually uploading the excel files from PAGASA. Follow the steps to update the site's 10-Day Weather Forecast data:"}),(0,r.jsxs)("ol",{children:[(0,r.jsxs)("li",{children:["Download all (10) excel files from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",target:"_blank",rel:"noreferrer",children:"10 Day Climate Forecast"})," web page."]}),(0,r.jsx)("li",{children:"Press the SELECT FILES button and select all the excel files."}),(0,r.jsx)("li",{children:"Press the SUBMIT button."}),(0,r.jsx)("li",{children:"Wait for the upload process to finish."})]}),(0,r.jsx)($e,{title:"Current Data Update Summary",children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Updated by:"}),"\xa0 ",a.updated_by]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Valid Until:"}),"\xa0 ",a.date_valid]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Date of Forecast:"}),"\xa0 ",a.date_forecast]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Date synced:"}),"\xa0 ",a.date_synced]})]})}),(0,r.jsx)(s.Z,{sx:Ve.upload,children:0===n.length?(0,r.jsx)("span",{children:"Select excel files."}):(0,r.jsx)(s.Z,{sx:{"& div":{margin:"2px"}},children:Array.from(n).map((function(e,t){return(0,r.jsx)(Ne.Z,{label:e.name,size:"small"},"excel-".concat(t))}))})}),(0,r.jsxs)(s.Z,{sx:Ve.notification,children:[!o.loading&&""!==o.error&&(0,r.jsx)(V.Z,{severity:"error",children:o.error}),!o.loading&&""!==o.msg&&(0,r.jsx)(V.Z,{severity:"success",children:o.msg})]}),(0,r.jsxs)("label",{htmlFor:"contained-button-file",children:[(0,r.jsx)(Ye,{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"contained-button-file",multiple:!0,type:"file",name:"excel-files",onChange:l,disabled:o.loading}),(0,r.jsxs)(m.Z,{variant:"contained",component:"span",disabled:o.loading,children:["Select Files",(0,r.jsx)(Y.Z,{size:20,color:"secondary",sx:{display:o.loading?"block":"none"}})]}),(0,r.jsx)(m.Z,{type:"submit",onClick:i,disabled:o.loading,children:"Submit"})]})]})};function Xe(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Je(e,t,n[t])}))}return e}var Qe={loading:!1,error:"",msg:""},et={updated_by:"",date_forecast:"",date_synced:"",date_valid:""};var tt=function(e){var t=e.getDateToString,n=(0,o.useState)([]),a=n[0],i=n[1],l=(0,o.useState)(Qe),c=l[0],s=l[1],u=(0,o.useState)(et),d=u[0],p=u[1],f=(0,Me.tl)(Ie.M.WEATHER_FORECASTS,"bicol","ten_day","name",1),h=f.documents,g=f.loading,m=f.error;(0,o.useEffect)((function(){g||""!==m||v(h)}),[g,m,h,v]);var v=(0,o.useCallback)((function(e){var n=Object.values(e[0].municipalities)[0][0],r={updated_by:e[0].updated_by,date_synced:t(e[0].date_created)};r.date_forecast=n.date_forecast,r.date_valid=n.date_range,p(r)}),[t]),x=function(){var e,t=(e=b().mark((function e(){var t,n,r,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new FormData,n=0;n<a.length;n+=1)t.append("excel-files",a[n]);return e.prev=2,s(Ke({},Qe,{loading:!0})),e.next=6,$(t);case 6:s((function(e){return Ke({},Qe,{loading:!1,msg:"Upload success."})})),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(2),r=e.t0.response?e.t0.response.data:e.t0.message,s(Ke({},Qe,{loading:!1,error:r})),e.abrupt("return");case 14:return e.prev=14,e.next=17,(0,ze.vx)();case 17:o=e.sent,v(o),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),console.error(e.t1.message);case 24:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Xe(a,r,o,i,l,"next",e)}function l(e){Xe(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,r.jsx)(qe,{files:a,status:c,logs:d,handleSubmit:x,handleSelectFiles:function(e){s(Qe),i(e.target.files)}})};var nt=function(e){var t=e.state,n=e.cycloneLoading,o=e.onSyncPress;return(0,r.jsxs)(s.Z,{sx:{fontSize:"14px"},children:[(0,r.jsx)(fe.Z,{openSnackbar:""!==t.error||""!==t.msg,message:""!==t.error?t.error:t.msg,severity:""!==t.error?"error":"success"}),(0,r.jsx)(f.Z,{sx:{marginTop:function(e){return e.spacing(1)}},variant:"h6",children:"Special Typhoon Advisory Updater"}),(0,r.jsxs)(f.Z,{variant:"body2",sx:Ve.subheader,children:["This panel updates ACAP's ",(0,r.jsx)("strong",{children:"Special Weather Advisory"})," content by manually initiating the  process of syncing PAGASA's latest published tropical cyclone data from their ",(0,r.jsx)("strong",{children:(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/tropical-cyclone/severe-weather-bulletin",target:"_blank",rel:"noreferrer",children:"Tropical Cyclone Bulletin"})})," web page to ACAP."]}),(0,r.jsx)(f.Z,{variant:"body2",sx:Ve.subheader,children:"Press the SYNC button below to start the data syncing process."}),(0,r.jsx)($e,{title:"Current Data Update Summary",children:!n&&(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Updated by:"}),"\xa0 ",t.updated_by]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Date synced:"}),"\xa0 ",t.date_updated]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Summary:"}),"\xa0 ",t.summary]})]})}),(0,r.jsx)(m.Z,{variant:"contained",onClick:o,disabled:n||t.loading,children:"Sync"})]})},rt=n(1029);function ot(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lt(e,t,n[t])}))}return e}function ut(e,t){return!t||"object"!==pt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e,t){return dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dt(e,t)}var pt=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}var ht={SPECIAL_WEATHER_CYCLONE:"".concat("https://amia-cis-temp.herokuapp.com/api","/cyclone")},bt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(a,e);var t,n,r,o=ft(a);function a(){return at(this,a),o.apply(this,arguments)}return t=a,n=[{key:"updateSpecialWeather",value:function(e){var t,n=this;return(t=b().mark((function t(){var r,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.createRequestObject({body:e});case 2:return r=t.sent,t.next=5,P()(st({},r,{url:ht.SPECIAL_WEATHER_CYCLONE,method:"POST"}));case 5:return o=t.sent,t.abrupt("return",o.data);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){ot(a,r,o,i,l,"next",e)}function l(e){ot(a,r,o,i,l,"throw",e)}i(void 0)}))})()}}],n&&it(t.prototype,n),r&&it(t,r),a}(C.Z),gt=new bt,mt=gt.updateSpecialWeather.bind(gt);function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yt(e,t,n[t])}))}return e}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ot=n(7294),St=Ot.useEffect,Zt=Ot.useState,Pt=Ot.useRef,Ct={loading:!1,error:"",msg:"",updated_by:"",date_updated:"",summary:""};var Et=function(e){var t=e.getDateToString,n=wt((0,Me.ky)(rt.K.GLOBAL_COLLECTIONS,rt.K.CYCLONE_ADVISORY),3),o=n[0],a=n[1],i=n[2],l=wt(Zt(Ct),2),c=l[0],s=l[1],u=Pt(!1);St((function(){return u.current=!0,function(){u.current=!1}}),[]),St((function(){if(!a){if(!u.current)return;s(i?{error:i}:{loading:!1,error:"",msg:"",updated_by:"system"===o.updated_by?"system":o.email,date_updated:t(o.date_updated),summary:o.summary})}}),[a,o,i,t]);var d=function(){var e,t=(e=b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(jt({},c,{loading:!0,error:"",msg:""})),e.next=4,mt({});case 4:t=e.sent,n=new Date(1e3*t.date_updated._seconds),t.date_updated="".concat(n.toDateString()," ").concat(n.toLocaleTimeString("it-IT",ke.W6)),u.current&&s((function(e){return jt({},e,{loading:!1,msg:"Successfully synced data.",updated_by:"system"===t.updated_by?"system":t.email,date_updated:t.date_updated,summary:t.summary})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u.current&&s((function(t){return jt({},t,{loading:!1,error:e.t0.message})}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){xt(a,r,o,i,l,"next",e)}function l(e){xt(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,r.jsx)(nt,{state:c,cycloneLoading:a,onSyncPress:d})},_t={tabsContainer:{marginTop:function(e){return e.spacing(8)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},tabsMain:{marginTop:function(e){return e.spacing(4)}}};function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){At(e,t,n[t])}))}return e}var Tt=function(){var e=(0,o.useState)(0),t=e[0],n=e[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(f.Z,{variant:"h5",children:"Weather Services Updater"}),(0,r.jsxs)("p",{children:["Update the site-wide ",(0,r.jsx)("strong",{children:"Weather Services"})," information for the ",(0,r.jsx)("strong",{children:"Seasonal"})," and ",(0,r.jsx)("strong",{children:"10-Day"})," Weather Forecasts by manually encoding the required data with reference from PAGASA's weather forecasts on ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",target:"_blank",rel:"noreferrer",children:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast"}),"."]}),(0,r.jsxs)("p",{children:["Please take caution in updating these information because they will be automatically referenced by all site admins when creating crop and climate risks bulletins on the ",(0,r.jsx)("strong",{children:"Create Crop Bulletins"})," and ",(0,r.jsx)("strong",{children:"Create Risks Bulletins"})," Admin pages. Global data updates made by admins are also viewable on the site's public ",(0,r.jsx)("strong",{children:"ACAP Services"})," and ",(0,r.jsx)("strong",{children:"Crop Recommendations"})," pages."]}),(0,r.jsxs)(s.Z,{sx:_t.tabsContainer,children:[(0,r.jsxs)(d.Z,{value:t,onChange:function(e,t){n(t)},"aria-label":"weather services updater",children:[(0,r.jsx)(u.Z,kt({label:"Seasonal"},(0,p.P)(0))),(0,r.jsx)(u.Z,kt({label:"10-Day"},(0,p.P)(1))),(0,r.jsx)(u.Z,kt({label:"Special Typhoon"},(0,p.P)(2)))]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(p.x,{value:t,index:0,children:(0,r.jsx)(Le,{})}),(0,r.jsx)(p.x,{value:t,index:1,children:(0,r.jsx)(tt,{getDateToString:ke.Xn})}),(0,r.jsx)(p.x,{value:t,index:2,children:(0,r.jsx)(Et,{getDateToString:ke.Xn})})]})]})]})};var Rt=(0,l.Z)((function(e){var t=(0,a.I0)(),n=(0,a.v9)((function(e){return e.provinces.ids}));return(0,o.useEffect)((function(){0===n.length&&t((0,i.Q)())}),[t,n]),(0,r.jsx)(c.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:E.DW.ADMIN,children:(0,r.jsx)(Tt,{})})}))}},function(e){e.O(0,[9351,6153,9964,1704,1903,7823,6295,4039,2882,9576,6572,1433,9958,3728,6454,9774,2888,179],(function(){return t=1158,e(e.s=t);var t}));var t=e.O();_N_E=t}]);