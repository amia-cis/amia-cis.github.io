(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{8359:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/sms",function(){return t(6850)}])},5322:function(e,n,t){"use strict";var r=t(5893),i=t(7294),a=t(5697),l=t.n(a),o=t(4866),c=t(6901);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=i.forwardRef((function(e,n){return(0,r.jsx)(c.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}({elevation:6,ref:n,variant:"filled"},e))}));function d(e){var n=e.openSnackbar,t=e.message,a=e.severity,l=(0,i.useState)(n),c=l[0],s=l[1],d=function(){s(!1)};return(0,r.jsx)(o.Z,{open:c,autoHideDuration:3e3,onClose:d,children:(0,r.jsx)(u,{onClose:d,severity:a,sx:{width:"100%"},children:t})})}d.propTypes={openSnackbar:l().bool.isRequired,message:l().string.isRequired,severity:l().string.isRequired},n.Z=d},6601:function(e,n,t){"use strict";t.d(n,{x:function(){return o},P:function(){return c}});var r=t(5893),i=t(7357);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var o=function(e){var n=e.children,t=e.value,o=e.index,c=l(e,["children","value","index"]);return(0,r.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({role:"tabpanel",hidden:t!==o,id:"custom-tabpanel-".concat(o),"aria-labelledby":"custom-tab-".concat(o)},c,{children:t===o&&(0,r.jsx)(i.Z,{sx:{p:3},children:n})}))};var c=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},6850:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var r=t(5893),i=t(3059),a=t(7294),l=t(5861),o=t(7357),c=t(8409),s=t(44),u=t(6886),d=t(6601),f=t(1057),b=t(1903),m=t(8462),h=t(7212),x=t(8619),j=t(9334),v=t(7948),p={phonebookContainer:{border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#fafafa",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},searchPhonebookTextField:{margin:1,background:"#FFFFFF"},contactInformationItem:{display:"flex",alignItems:"baseline"}},g=t(6486),y=t.n(g),C=t(657),O=t(7645),S=t(6580),Z=t(8951),E=t(1425),R=/^09[0-9]{9}$/g,w="Cell number is required.";function I(e,n){var t=e.find((function(e){return e.cellnumber===n}));return Boolean(t)}var A=function(e,n,t,r){if(null!==t){if(""===t)return"ERROR_MISSING_CELLNUMBER";if(function(e){return!e.match(R)}(t))return"ERROR_INVALID_FORMAT_CELLNUMBER";if("EDIT"===e){if(r&&t!==r)return I(n,t)?"ERROR_CONTACT_ALREADY_EXIST":""}else{if("ADD"!==e)return"";if(I(n,t))return"ERROR_CONTACT_ALREADY_EXIST"}}},_=function(e){switch(e){case"ERROR_MISSING_CELLNUMBER":case"ERROR_MISSING_CELLNUMBER":return w;case"ERROR_INVALID_FORMAT_CELLNUMBER":return"Invalid cell number format.";case"ERROR_CONTACT_ALREADY_EXIST":return"Cell number already exists in the conact list.";default:return""}};var k=function(e){var n,t,i=e.contacts,l=e.open,c=e.handleClose,s=e.handleAddContact,u=(0,a.useState)(""),d=u[0],m=u[1],h=(0,a.useState)(null),x=h[0],j=h[1];return(0,r.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:l,onClose:c,children:[(0,r.jsx)(O.Z,{children:"Add Contact"}),(0,r.jsxs)(S.Z,{children:[(0,r.jsxs)(o.Z,{sx:p.contactInformationItem,children:[(0,r.jsx)(o.Z,{sx:{mr:9},children:(0,r.jsx)(Z.Z,{children:"Name:"})}),(0,r.jsx)(b.Z,{id:"outlined-basic",variant:"standard",size:"small",onChange:function(e){m(e.target.value)}})]}),(0,r.jsx)("br",{}),(0,r.jsxs)(o.Z,{sx:p.contactInformationItem,children:[(0,r.jsx)(o.Z,{sx:{mr:3},children:(0,r.jsx)(Z.Z,{children:"Cell Number:"})}),(0,r.jsx)(b.Z,{error:(null===(n=A("ADD",i,x,null))||void 0===n?void 0:n.length)>0,helperText:_(A("ADD",i,x)),id:"outlined-basic",variant:"standard",size:"small",onChange:function(e){j(e.target.value)},type:"tel"})]})]}),(0,r.jsxs)(E.Z,{children:[(0,r.jsx)(f.Z,{size:"small",onClick:c,children:"CANCEL"}),(0,r.jsx)(f.Z,{disabled:(null===(t=A("ADD",i,x))||void 0===t?void 0:t.length)>0||null===x,size:"small",variant:"contained",onClick:function(){s({name:d,cellnumber:x}),c()},children:"SAVE"})]})]})};var D=function(e){var n,t,i=e.open,l=e.contact,c=e.contacts,s=e.handleClose,u=e.handleDeleteContact,d=e.handleEditContact,m=(0,a.useState)(!1),h=m[0],x=m[1],j=(0,a.useState)(l.name),v=j[0],g=j[1],y=(0,a.useState)(l.cellnumber),R=y[0],w=y[1];return(0,r.jsxs)(C.Z,{fullWidth:!0,maxWidth:"xs",open:i,onClose:s,children:[(0,r.jsx)(O.Z,{children:"Contact Details"}),(0,r.jsxs)(S.Z,{children:[(0,r.jsxs)(o.Z,{sx:p.contactInformationItem,children:[(0,r.jsx)(o.Z,{sx:{mr:9},children:(0,r.jsx)(Z.Z,{children:"Name:"})}),(0,r.jsx)(b.Z,{disabled:!h,id:"outlined-basic",onChange:function(e){g(e.target.value)},value:v,variant:"standard",size:"small"})]}),(0,r.jsx)("br",{}),(0,r.jsxs)(o.Z,{sx:p.contactInformationItem,children:[(0,r.jsx)(o.Z,{sx:{mr:3},children:(0,r.jsx)(Z.Z,{children:"Cell Number:"})}),(0,r.jsx)(b.Z,{error:(null===(n=A("EDIT",c,R,l.cellnumber))||void 0===n?void 0:n.length)>0,helperText:_(A("EDIT",c,R,l.cellnumber)),onChange:function(e){w(e.target.value)},disabled:!h,id:"outlined-basic",value:R,variant:"standard",size:"small",type:"tel"})]})]}),(0,r.jsx)("br",{}),(0,r.jsxs)(E.Z,{children:[h?(0,r.jsx)(f.Z,{disabled:(null===(t=A("EDIT",c,R,l.cellnumber))||void 0===t?void 0:t.length)>0,size:"small",variant:"outlined",onClick:function(){return d({id:l.id,name:v,cellnumber:R})},children:"SAVE"}):(0,r.jsx)(f.Z,{size:"small",variant:"outlined",onClick:function(){x(!0),w(l.cellnumber)},children:"EDIT"}),h?(0,r.jsx)(f.Z,{size:"small",variant:"outlined",onClick:function(){g(l.name),w(l.cellnumber),x(!1)},children:"CANCEL"}):(0,r.jsx)(f.Z,{size:"small",color:"error",variant:"outlined",onClick:function(){return u(l)},children:"DELETE"}),(0,r.jsx)(f.Z,{size:"small",onClick:s,children:"CLOSE"})]})]})},N=t(5322);function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(){var e=[{id:1,name:"",cellnumber:"09053733769"},{id:2,name:"Jon Snow",cellnumber:"09114445555"},{id:3,name:"Tyrion Lannister",cellnumber:"09006667777"}],n=(0,a.useState)(!1),t=n[0],i=n[1],l=(0,a.useState)(null),c=l[0],s=l[1],u=(0,a.useState)(e),d=u[0],g=u[1],C=(0,a.useState)(!1),O=C[0],S=C[1],Z=(0,a.useState)(""),E=Z[0],R=Z[1],w=(0,a.useState)(!1),I=w[0],A=w[1],_=(0,a.useState)(!1),T=_[0],M=_[1],F=(0,a.useState)({}),z=F[0],B=F[1];return(0,r.jsxs)("div",{children:[T&&(0,r.jsx)(N.Z,{openSnackbar:T,message:z.message,severity:z.severity}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{variant:"contained",color:"primary",onClick:function(){M(!1),B({}),A(!0)},children:"ADD CONTACT"}),(0,r.jsx)(k,{contacts:e,open:I,handleClose:function(){A(!1)},handleAddContact:function(e){var n=L(d);n.push(e),g(n),M(!0),B({message:"Successfully added a New Contact!",severity:"success"})}})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)(o.Z,{sx:p.phonebookContainer,children:[(0,r.jsx)(o.Z,{sx:p.searchPhonebookTextField,children:(0,r.jsx)(b.Z,{id:"outlined-basic",label:"Search...",onChange:function(n){var t=n.target.value;R(t);var r,i,a=isNaN(t);if(S(a),""===n.target.value)g(e);else{var l=(r=d,i=t,y().filter(r,y().flow(y().identity,y().values,y().join,y().toLower,y().partialRight(y().includes,i))));g(l)}},variant:"outlined",size:"small",style:{width:"100%"}})}),(0,r.jsx)(m.Z,{children:d.length>0?d.map((function(e){var n="checkbox-list-label-".concat(e.cellnumber);return(0,r.jsx)(h.ZP,{disablePadding:!0,children:(0,r.jsx)(x.Z,{role:void 0,dense:!0,onClick:function(){return function(e){M(!1),B({}),i(!0),s(e)}(e)},children:(0,r.jsx)(j.Z,{id:n,primary:""===e.name?e.cellnumber:e.name,secondary:""!==E&&!O&&""!==e.name&&e.cellnumber})})},e.cellnumber)})):(0,r.jsx)(v.Z,{children:(0,r.jsx)("p",{children:"No Results"})})}),c&&(0,r.jsx)(D,{open:t,contact:c,contacts:d,handleClose:function(){i(!1),s(null)},handleDeleteContact:function(e){var n=d.filter((function(n){return n.id!==e.id}));g(n),i(!1),M(!0),B({message:"Successfully deleted contact: ".concat(""===e.name?e.cellnumber:e.name,"!"),severity:"success"})},handleEditContact:function(e){var n=d.map((function(n){return n.id===e.id?function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}({},n,{name:e.name,cellnumber:e.cellnumber}):n}));g(n),i(!1),M(!0),B({message:"Successfully edit contact: ".concat(""===e.name?e.cellnumber:e.name,"!"),severity:"success"})}})]})]})},F={tabsContainer:{marginTop:function(e){return e.spacing(8)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"}};function z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){z(e,n,t[n])}))}return e}var U=function(){var e=(0,a.useState)(1),n=e[0],t=e[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{variant:"h5",children:"SMS Management"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"View Text (SMS) versions"})," of generated Crop Recommendations and send them to different individuals via SMS."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Manage your own phonebook"})," for ease of sending texts to individuals."]}),(0,r.jsxs)(o.Z,{sx:F.tabsContainer,children:[(0,r.jsxs)(c.Z,{value:n,onChange:function(e,n){t(n)},"aria-label":"basic tabs example",children:[(0,r.jsx)(s.Z,B({label:"SMS"},(0,d.P)(0))),(0,r.jsx)(s.Z,B({label:"PHONEBOOK"},(0,d.P)(1)))]}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(d.x,{value:n,index:0,children:"SMS Table"}),(0,r.jsx)(d.x,{value:n,index:1,children:(0,r.jsx)(u.ZP,{container:!0,children:(0,r.jsx)(u.ZP,{item:!0,xs:12,md:4,children:(0,r.jsx)(M,{})})})})]})]})]})},V=t(2530),W=t(7426);var X=(0,i.Z)((function(e){return(0,r.jsx)(V.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:W.DW.ADMIN,children:(0,r.jsx)(U,{})})}))}},function(e){e.O(0,[662,135,203,572,433,906,728,774,888,179],(function(){return n=8359,e(e.s=n);var n}));var n=e.O();_N_E=n}]);