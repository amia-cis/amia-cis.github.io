(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8172],{66242:function(e,n,r){"use strict";r.d(n,{Z:function(){return x}});var t=r(87462),o=r(63366),a=r(67294),s=r(86010),i=r(27192),u=r(11496),c=r(33616),l=r(55113),d=r(28979);function p(e){return(0,d.Z)("MuiCard",e)}(0,r(76087).Z)("MuiCard",["root"]);var f=r(85893);const v=["className","raised"],m=(0,u.ZP)(l.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({overflow:"hidden"})));var x=a.forwardRef((function(e,n){const r=(0,c.Z)({props:e,name:"MuiCard"}),{className:a,raised:u=!1}=r,l=(0,o.Z)(r,v),d=(0,t.Z)({},r,{raised:u}),x=(e=>{const{classes:n}=e;return(0,i.Z)({root:["root"]},p,n)})(d);return(0,f.jsx)(m,(0,t.Z)({className:(0,s.Z)(x.root,a),elevation:u?8:void 0,ref:n,ownerState:d},l))}))},44267:function(e,n,r){"use strict";r.d(n,{Z:function(){return m}});var t=r(87462),o=r(63366),a=r(67294),s=r(86010),i=r(27192),u=r(11496),c=r(33616),l=r(28979);function d(e){return(0,l.Z)("MuiCardContent",e)}(0,r(76087).Z)("MuiCardContent",["root"]);var p=r(85893);const f=["className","component"],v=(0,u.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var m=a.forwardRef((function(e,n){const r=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:a,component:u="div"}=r,l=(0,o.Z)(r,f),m=(0,t.Z)({},r,{component:u}),x=(e=>{const{classes:n}=e;return(0,i.Z)({root:["root"]},d,n)})(m);return(0,p.jsx)(v,(0,t.Z)({as:u,className:(0,s.Z)(x.root,a),ownerState:m,ref:n},l))}))},34484:function(e,n,r){"use strict";r(67294);var t=r(88169),o=r(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},5165:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/profile",function(){return r(7172)}])},49576:function(e,n,r){"use strict";r.d(n,{Z:function(){return f}});var t=r(85893),o=r(87357),a=r(11057),s=r(66242),i=r(44267),u=r(15861),c=r(61903),l=r(19227),d=r(55688),p={profileContainer:{display:"flex",flexDirection:"column",width:"100%"},profileCard:{padding:"22px",display:"flex",flexDirection:"column",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"15px",maxWidth:"600px",margin:"auto",borderColor:"#E2E8F0"},textfield:{marginTop:function(e){return e.spacing(3)}},button:{marginTop:function(e){return e.spacing(2)},width:"200px"}};var f=function(e){var n=e.user,r=e.password,f=e.message,v=e.handleUpdateUser,m=e.handleUpdatePassword,x=e.handleSaveSuccess,g=e.togglePrompt,w={uid:"UID",accountlevel:"Account Level",email:"Email",name:"Display Name",password:"Enter a new password"};return(0,t.jsxs)(s.Z,{sx:p.profileCard,children:[(0,t.jsx)(l.Z,{isOpen:f.isOpen,maxWidth:"xs",openButtonText:null,title:f.title,contentText:f.msg,loading:f.loading,cancelBtnText:null,modalCancelHandlerCB:function(){f.savesuccess?x():g()},modalConfirmHandlerCB:function(){f.savesuccess?x():m()}}),(0,t.jsx)(d.Z,{openSnackbar:""!==f.error,message:f.error,severity:"warning"}),(0,t.jsxs)(i.Z,{sx:p.profileContainer,children:[(0,t.jsx)(u.Z,{variant:"h5",children:"Profile Information"}),(0,t.jsx)("br",{}),void 0!==n&&null!==n&&Object.keys(w).map((function(e,o){var a=n[e];return["accountlevel"].includes(e)&&(a=2===parseInt(n[e])?"Admin":"Superadmin"),"password"===e&&(a=r),(0,t.jsx)(c.Z,{sx:p.textfield,size:"small",disabled:["uid","accountlevel"].includes(e),id:e,label:w[e],variant:"outlined",value:a,onChange:v},"".concat(e,"-").concat(o))})),(0,t.jsx)(o.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,t.jsx)(a.Z,{disableElevation:!0,variant:"contained",sx:p.button,onClick:g,children:"Update Password"})})]}),!1]})}},7172:function(e,n,r){"use strict";r.r(n);var t=r(34051),o=r.n(t),a=r(85893),s=r(67294),i=r(47426),u=r(95243),c=r(66383),l=r(49576),d=r(24633);function p(e,n,r,t,o,a,s){try{var i=e[a](s),u=i.value}catch(c){return void r(c)}i.done?n(u):Promise.resolve(u).then(t,o)}function f(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function v(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){f(e,n,r[n])}))}return e}var m=v({},r(27392).BF,{title:"Save changes",msg:"Do you want to save the new password?"});n.default=(0,u.Z)((function(e){var n=(0,s.useState)(""),r=n[0],t=n[1],u=(0,s.useState)(m),f=u[0],x=u[1],g=(0,s.useRef)(!1);(0,s.useState)((function(){return g.current=!0,function(){g.current=!1}}),[]);var w=function(){var n,t=(n=o().mark((function n(){var t,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==r){n.next=3;break}return x(v({},m,{error:"Please check your input."})),n.abrupt("return");case 3:return n.prev=3,x(v({},f,{loading:!0,msg:"Saving changes..."})),n.next=7,(0,d.Nq)({password:r,uid:e.user.uid},e.user.accountlevel);case 7:g.current&&x(v({},f,{loading:!1,savesuccess:!0,msg:"Password updated. You will be signed-out. Please sign-in using your new password."})),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(3),a=(null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t?void 0:t.data)||n.t0.message,g.current&&x((function(e){return v({},e,{isOpen:!1,loading:!1,error:a})}));case 15:case"end":return n.stop()}}),n,null,[[3,10]])})),function(){var e=this,r=arguments;return new Promise((function(t,o){var a=n.apply(e,r);function s(e){p(a,t,o,s,i,"next",e)}function i(e){p(a,t,o,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,a.jsx)(c.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:i.DW.ADMIN,children:(0,a.jsx)(l.Z,{user:e.user,password:r,message:f,handleUpdateUser:function(e){var n=e.target,r=n.value;"password"===n.id&&t(r)},handleUpdatePassword:w,handleSaveSuccess:e.onBtnLogoutClick,togglePrompt:function(){return x((function(e){return v({},m,{isOpen:!e.isOpen})}))}})})}))}},function(e){e.O(0,[6284,2866,9964,9522,1903,6279,4039,2882,7092,1050,4730,9774,2888,179],(function(){return n=5165,e(e.s=n);var n}));var n=e.O();_N_E=n}]);