(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{5835:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/sms/viewSMS",function(){return t(7713)}])},8554:function(n,e){"use strict";e.Z={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",width:"80px",height:{xs:"40px",sm:"50px"}},container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",margin:"auto",borderColor:"#E2E8F0"},tabsContainer:{marginTop:function(n){return n.spacing(8)},border:function(n){return"1px solid ".concat(n.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},customizedButtonLink:{cursor:"pointer",color:"#8BC24A",textDecoration:"underline",fontWeight:600}}},1033:function(n,e,t){"use strict";t.d(e,{Z:function(){return c}});var r=t(5893),i=t(5675),o=t(7357),a=t(5861),s=t(120),l={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(n){return n.spacing(2)},color:function(n){return n.palette.text.secondary},borderStyle:"dashed",padding:function(n){return n.spacing(2)},marginTop:function(n){return n.spacing(4)}}};var c=function(n){var e=n.message,t=void 0===e?"Failed to load data":e;return(0,r.jsxs)(o.Z,{sx:l.container,children:[(0,r.jsx)(i.default,{unoptimized:!0,src:(0,s.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:s.imageLoader,alt:"Empty data"}),(0,r.jsx)(a.Z,{variant:"subtitle1",children:t})]})}},4884:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var r=t(5893),i=t(7357),o=t(7720),a=t(8078),s={container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",margin:"auto",borderColor:"#E2E8F0"},divider:{marginTop:"32px",marginBottom:"32px"},text:{marginTop:"16px",marginBottom:"16px"}};var l=function(){return(0,r.jsxs)(i.Z,{sx:s.container,children:[(0,r.jsx)(i.Z,{sx:{width:"300px"},children:[1,2,3,4,5,6,7,8].map((function(n){return(0,r.jsx)(a.Z,{variant:"text"},"up-".concat(n))}))}),(0,r.jsx)(o.Z,{sx:s.divider}),(0,r.jsx)(i.Z,{children:[1,2,3,4,5,6,7,8].map((function(n){return(0,r.jsx)(a.Z,{variant:"rectangular",sx:s.text},"down-".concat(n))}))})]})}},3501:function(n,e,t){"use strict";t.d(e,{Z:function(){return y}});var r=t(5893),i=t(7294),o=t(5697),a=t.n(o),s=t(1057),l=t(9536),c=t(8456),d=t(657),u=t(1425),x=t(7645),p=t(6580),h=t(3946),m={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",height:{xs:"40px",sm:"50px"},"& .text":{display:{xs:"block",sm:"none"}},"& .shortText":{display:{xs:"inline-block",sm:"none"},fontSize:"24px"}},icon:{display:{xs:"block",sm:"none"}},dialogContent:{"& .error":{fontSize:"12px",color:"red"}},dialogActions:{"& button":{minWidth:"100px"}},closeButton:{position:"absolute",right:"8px",top:"8px",color:function(n){return n.palette.grey[500]}}};function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function g(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){g(n,e,t[e])}))}return n}function b(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],a=!0,s=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(s)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return f(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(n){var e=b(i.useState({open:null}),2),t=e[0],o=e[1],a=n.loading,f=void 0!==a&&a,g=n.isOpen,j=void 0!==g&&g,y=n.maxWidth,Z=void 0===y?"sm":y,w=n.IconSVG,C=void 0===w?null:w,S=n.modalExtraHandlerCB,k=void 0===S?null:S,B=n.modalCancelHandlerCB,F=void 0===B?null:B,T=n.modalConfirmHandlerCB,O=void 0===T?null:T,P=n.modalOpenHandlerCB,E=void 0===P?null:P,z=n.isDisabled,W=void 0!==z&&z,_=n.openButtonText,A=void 0===_?"Click":_,N=n.title,R=void 0===N?"Window Title":N,D=n.extraBtnText,H=void 0===D?"":D,L=n.cancelBtnText,I=void 0===L?"Cancel":L,M=n.confirmBtnText,q=void 0===M?"Ok":M,G=n.contentText,V=void 0===G?"":G,X=n.error,J=void 0===X?"":X;(0,i.useEffect)((function(){o((function(n){return v({},n,{open:j})}))}),[j]);var U=function(){o(v({},t,{open:!1})),F&&F()};return(0,r.jsxs)("div",{children:[A&&(0,r.jsxs)(s.Z,{disabled:W,disableElevation:!0,variant:"contained",color:"primary",onClick:function(){o(v({},t,{open:!0})),E&&E()},sx:m.button,children:[C&&(0,r.jsx)(C,{sx:m.icon}),A]}),(0,r.jsxs)(d.Z,{maxWidth:Z,fullWidth:!0,open:t.open||!1,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsxs)(x.Z,{children:[(0,r.jsx)("span",{children:R}),(0,r.jsx)(h.Z,{"aria-label":"close",sx:m.closeButton,onClick:U,children:(0,r.jsx)(l.Z,{})})]}),(0,r.jsxs)(p.Z,{sx:m.dialogContent,children:[""!==V&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:V}),(0,r.jsx)("div",{className:"error",children:J})]}),n.children]}),(0,r.jsxs)(u.Z,{sx:m.dialogActions,children:[""!==H&&(0,r.jsx)(s.Z,{onClick:k||U,disabled:f,children:H}),(0,r.jsx)(s.Z,{onClick:F||U,disabled:f,children:I}),(0,r.jsxs)(s.Z,{variant:"contained",disabled:f,onClick:O,children:[(0,r.jsx)("span",{style:{display:f?"none":"block"},children:q}),(0,r.jsx)(c.Z,{size:24,color:"secondary",sx:{display:f?"block":"none"}})]})]})]})]})}j.propTypes={loading:a().bool,isOpen:a().bool,maxWidth:a().string,IconSVG:a().elementType,modalCancelHandlerCB:a().func,modalConfirmHandlerCB:a().func,modalOpenHandlerCB:a().func,modalExtraHandlerCB:a().func,openButtonText:a().string,cancelBtnText:a().string,confirmBtnText:a().string,extraBtnText:a().string,title:a().string,contentText:a().string,children:a().node,error:a().string,isDisabled:a().bool};var y=j},7713:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return H}});var r=t(4051),i=t.n(r),o=t(5893),a=t(7294),s=t(1163),l=t(3059),c=t(8152),d=t(2530),u=t(7426),x=t(7357),p=t(5861),h=t(6863),m=t(1057),f=t(7720),g=t(6886),v=t(7948),b=t(1903),j=t(4343),y=t(8396),Z=t(4884),w=t(1033),C=t(3501),S=t(8554),k=t(6486),B=t.n(k),F=t(5799),T=t(1927);var O,P,E,z=(0,F.Z)();z.typography.h5=(O={fontSize:"1.2rem","@media (min-width:600px)":{fontSize:"1.5rem"}},P=z.breakpoints.up("md"),E={fontSize:"2rem"},P in O?Object.defineProperty(O,P,{value:E,enumerable:!0,configurable:!0,writable:!0}):O[P]=E,O);var W=[{field:"name",headerName:"Name",width:150},{field:"cellnumber",headerName:"Cell Number",width:130}];var _=function(n){var e=n.contacts,t=n.onBackBtnClick,r=n.report,i=n.loading,l=(0,a.useState)(e),c=l[0],d=l[1],u=(0,a.useState)([]),k=u[0],F=u[1],O=(0,s.useRouter)(),P=(0,y.Z)(z.breakpoints.between("xs","md"));r.textRecommendation="Sample text recommendation",r.logs=[];var E=function(){O.push({pathname:"/admin/sms/",query:{toAddContact:!0}},"/admin/sms/")};return(0,o.jsx)("div",{children:i||r.loading?(0,o.jsx)(Z.Z,{}):void 0!==r.stages?(0,o.jsxs)(x.Z,{container:!0,sx:S.Z.container,children:[(0,o.jsxs)(x.Z,{sx:{marginBottom:"32px",display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)(T.Z,{theme:z,children:(0,o.jsx)(p.Z,{variant:"h5",children:"Send Text-Form Crop Recommendation"})}),(0,o.jsxs)(h.Z,{orientation:P?"vertical":"horizontal",children:[(0,o.jsx)(m.Z,{disableElevation:!0,variant:"contained",color:"primary",sx:S.Z.button,onClick:t,children:"Back"})," ","\xa0",(0,o.jsx)(C.Z,{isDisabled:0===k.length||void 0===(null===r||void 0===r?void 0:r.smsRecommendations),isOpen:!1,maxWidth:"sm",openButtonText:"Send",title:"Are you sure you want to send this?",contentText:""!==r.info?r.info:"Sending this allows your contacts to receive the Text-Form Crop Recommendation on their cellphone numbers as text.",confirmBtnText:""!==r.info?"Ok":"Send",modalConfirmHandlerCB:function(){O.push({pathname:"/admin/sms/",query:{isSent:!0}},"/admin/sms/")}})]})]}),(0,o.jsxs)(x.Z,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Province:"})," ",r.province]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Municipality:"})," ",r.municipality]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Crop:"})," ",r.crop]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Month:"})," ",r.month]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Crop Stage(s):"})," ",r.stages.toString().split(",").join(", ")]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Activities:"})," ",r.activities.toString().split(",").join(", ")]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Created by:"})," ",r.updated_by]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Date created:"})," ",r.date_created.toDate().toDateString()]}),(0,o.jsxs)(p.Z,{variant:"caption",children:[(0,o.jsx)("strong",{children:"ID:"})," ",r.id]}),(0,o.jsx)(f.Z,{sx:{marginTop:"32px"}})]}),(0,o.jsxs)(g.ZP,{container:!0,style:{paddingTop:"10px"},children:[(0,o.jsxs)(g.ZP,{item:!0,xs:12,md:5,children:[(0,o.jsx)(p.Z,{variant:"h6",children:"Text-Form Crop Recommendation"}),(0,o.jsx)(v.Z,{children:(null===r||void 0===r?void 0:r.smsRecommendations)||(0,o.jsx)("span",{style:{color:"#ff1744"},children:"No SMS Recommendations available."})})]}),(0,o.jsxs)(g.ZP,{item:!0,xs:12,md:7,children:[(0,o.jsx)(p.Z,{variant:"h6",children:"List of Contacts"}),e.length>0?(0,o.jsxs)("div",{children:[(0,o.jsx)(x.Z,{children:(0,o.jsxs)(p.Z,{variant:"body2",children:["These are your contacts that you can send the recommendation thru SMS.",(0,o.jsx)("br",{}),"Need to change some of your contacts? Click"," ",(0,o.jsx)("span",{onClick:E,style:S.Z.customizedButtonLink,children:"here"}),"."]})}),(0,o.jsxs)("div",{style:{height:"400px",width:"100%",paddingTop:"10px"},children:[(0,o.jsx)(x.Z,{sx:{marginBottom:"10px"},children:(0,o.jsx)(b.Z,{id:"outlined-basic",label:"Search...",variant:"outlined",size:"small",onChange:function(n){var t,r,i=n.target.value;if(""===n.target.value)d(e);else{var o=(t=e,r=i,B().filter(t,B().flow(B().identity,B().values,B().join,B().toLower,B().partialRight(B().includes,r))));d(o)}},style:{width:"100%"}})}),(0,o.jsx)(j._,{style:{maxHeight:"350px"},rows:c,columns:W,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(n){return F(n)}})]})]}):(0,o.jsx)("div",{children:(0,o.jsxs)(p.Z,{variant:"subtitle1",children:["No contacts yet. Please add contacts first in your Phonebook\xa0",(0,o.jsx)("span",{onClick:E,style:S.Z.customizedButtonLink,children:"here"}),"."]})})]})]})]}):(0,o.jsx)(w.Z,{})})};function A(n,e,t,r,i,o,a){try{var s=n[o](a),l=s.value}catch(c){return void t(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function N(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){N(n,e,t[e])}))}return n}var D={loading:!0,error:"",info:""};var H=(0,l.Z)((function(n){var e=(0,a.useState)(D),t=e[0],r=e[1],l=(0,s.useRouter)();return(0,a.useEffect)((function(){if(t.loading&&Object.keys(l.query).length>0){var n=function(){var n,e=(n=i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.fL)(l.query.docId);case 3:e=n.sent,r((function(n){return R({},n,{loading:!1},e)})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r(R({},D,{loading:!1,error:n.t0.message}));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){A(o,r,i,a,s,"next",n)}function s(n){A(o,r,i,a,s,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();n()}}),[l,t.loading]),(0,o.jsx)(d.Z,{loading:n.loading,user:n.user,onBtnLogoutClick:n.onBtnLogoutClick,accLevel:u.DW.ADMIN,children:(0,o.jsx)(_,{report:t,loading:n.loading,contacts:[{id:1,name:"",cellnumber:"09053733769"},{id:2,name:"Jon Snow",cellnumber:"09114445555"},{id:3,name:"Tyrion Lannister",cellnumber:"09006667777"}],onBackBtnClick:function(){l.push("/admin/sms/")}})})}))}},function(n){n.O(0,[662,135,669,203,343,489,728,152,774,888,179],(function(){return e=5835,n(n.s=e);var e}));var e=n.O();_N_E=e}]);