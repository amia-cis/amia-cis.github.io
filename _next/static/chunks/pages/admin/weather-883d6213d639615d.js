(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{1158:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/weather",function(){return r(241)}])},9132:function(e,n){"use strict";n.Z={tablecontainer:{marginTop:function(e){return e.spacing(1)},border:"1px solid #484848",borderRadius:function(e){return e.spacing(1)}},tablecell:{border:"1px solid",textAlign:"center"},subheader:{marginBottom:function(e){return e.spacing(4)},maxWidth:"800px",color:"gray"},labels:{fontSize:"12px",color:function(e){return e.palette.secondary.light}},legend:{margin:function(e){return e.spacing(1)},fontSize:"14px",display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},"& ul":{listStyle:"none","& li":{float:"left",marginRight:"10px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}},caption:{color:function(e){return e.palette.text.secondary},"& a":{color:function(e){return e.palette.secondary.main},textDecoration:"none"},"& a:visited":{color:function(e){return e.palette.primary.dark}},"& a:hover, span:hover":{textDecoration:"underline"}}}},2509:function(e,n,r){"use strict";r.d(n,{Z:function(){return v}});var t=r(5893),i=r(1163),a=r(7357),o=r(7906),s=r(295),c=r(3252),l=r(2882),u=r(3184),d=r(3816),p=r(5861),f=r(1033),h=r(8078),x={container:{minHeight:"200px",width:"100%",border:"2px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var b=function(e){var n=e.rows,r=void 0===n?3:n,i=e.cols,o=void 0===i?3:i;return(0,t.jsx)(a.Z,{sx:x.container,children:Array.from(Array(r).keys()).map((function(e,n){return(0,t.jsx)("div",{style:{margin:"2px",display:"flex"},children:Array.from(Array(o).keys()).map((function(e,n){return(0,t.jsx)(h.Z,{animation:"wave",variant:"rectangular",height:25,sx:{margin:"3px",width:"".concat(Math.round(100/o),"%")}},"col-".concat(n))}))},"row-".concat(n))}))})},m=r(4854),g=r(9132);var v=function(e){var n=e.weatherData,r=e.provinces,h=e.withBorder,x=void 0!==h&&h,v=e.fsLoading,j=void 0===v||v,y=(0,i.useRouter)(),w=function(e){var n="";try{n=r.filter((function(n){return n.province===e}))[0].format}catch(t){n="n/a"}return n},Z=function(e){var n=e.children;return x?(0,t.jsx)(l.Z,{sx:g.Z.tablecontainer,children:n}):(0,t.jsx)(l.Z,{children:n})};return(0,t.jsx)("div",{children:j?(0,t.jsx)(b,{rows:7,cols:7}):n.length>0?(0,t.jsxs)(Z,{children:[(0,t.jsxs)(o.Z,{sx:{minWidth:650},"aria-label":"simple table",size:"small",children:[(0,t.jsx)(u.Z,{children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z,{sx:{width:"20%"},children:"Province"}),n[0].mos.map((function(e,n){return(0,t.jsx)(c.Z,{sx:{textAlign:"center"},children:"".concat(e[0].toUpperCase()).concat(e.slice(1))},"".concat(e,"-").concat(n))}))]})}),(0,t.jsx)(s.Z,{children:n.map((function(e){return(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z,{children:w(e.name)}),e.months.map((function(e,n){return(0,t.jsx)(c.Z,{sx:{backgroundColor:m.tN[e.con],border:"1px solid",textAlign:"center",fontSize:"14px",padding:"10px"},children:e.val},"".concat(e.mo,"-").concat(n))}))]},e.name)}))})]}),(0,t.jsxs)(a.Z,{sx:g.Z.legend,children:[(0,t.jsxs)(p.Z,{component:"p",variant:"caption",sx:g.Z.caption,children:["Encoded from PAGASA's ",(0,t.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",children:"Seasonal (Rainfall) Forecast"})," web page",(0,t.jsx)("br",{}),"by ","/admin/weather"===y.pathname?n[0].updated_by:"an admin"," on \xa0",n[0].date_created.toDate().toDateString()]}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{style:{backgroundColor:m.tN[m.MW.NORMAL]}}),"Normal"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{style:{backgroundColor:m.tN[m.MW.DRIER]}}),"Drier"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{style:{backgroundColor:m.tN[m.MW.WETTER]}}),"Wetter"]})]})]})]}):(0,t.jsx)(f.Z,{})})}},1033:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(5893),i=r(5675),a=r(7357),o=r(5861),s=r(120),c={container:{display:"grid",placeContent:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var l=function(){return(0,t.jsxs)(a.Z,{sx:c.container,children:[(0,t.jsx)(i.default,{unoptimized:!0,src:(0,s.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:s.imageLoader,alt:"Empty data"}),(0,t.jsx)(o.Z,{variant:"subtitle1",children:"Failed to load data"})]})}},4623:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var t=r(5893),i=r(7357),a=r(8456),o=r(5861),s={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var c=function(){return(0,t.jsx)(i.Z,{sx:s.container,children:(0,t.jsxs)(i.Z,{sx:s.loading,children:[(0,t.jsx)(o.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(a.Z,{size:"32px"})]})})}},7702:function(e,n,r){"use strict";r.d(n,{Z:function(){return R}});var t=r(5893),i=r(7357),a=r(7294),o=r(2293),s=r(6720),c=r(7948),l=r(7720),u=r(7533),d=r(3946),p=r(8462),f=r(891),h=r(7594),x=r(9334),b=r(155),m=r(5861),g=r(1664),v=r(7520),j=r(9662),y=r(3384),w=r(326),Z=r(7427),k=r(1898),C=r(8349),S={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"}},listitem:{"& a":{textDecoration:"none"}}};function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(t=r.next()).done)&&(a.push(t.value),!n||a.length!==n);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return O(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=280,D=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(y.Z,{})},{text:"Weather Services",link:"/admin/weather",icon:(0,t.jsx)(C.Z,{})},{text:"Create Crops Bulletins",link:"/admin/bulletins/crops",icon:(0,t.jsx)(k.Z,{})},{text:"Create Risks Bulletins",link:"/admin/bulletins/risks",icon:(0,t.jsx)(k.Z,{})}],E=[{text:"BACAP Website",link:"/",icon:(0,t.jsx)(v.Z,{})},{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(Z.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(j.Z,{})}];function M(e){var n=e.window,r=P(a.useState(!1),2),v=r[0],j=r[1],y=e.user,Z=e.onBtnClick,k=function(){j(!v)},C=(0,t.jsxs)("div",{children:[(0,t.jsx)(b.Z,{}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(p.Z,{sx:S.list,children:D.map((function(e,n){return(0,t.jsx)(g.default,{href:e.link,passHref:!0,children:(0,t.jsxs)(f.ZP,{button:!0,children:[(0,t.jsx)(h.Z,{children:e.icon}),(0,t.jsx)(x.Z,{children:e.text})]})},n)}))}),(0,t.jsx)(l.Z,{}),(0,t.jsx)(p.Z,{sx:S.list,children:E.map((function(e,n){return"Logout"===e.text?(0,t.jsx)(g.default,{href:e.link,passHref:!0,children:(0,t.jsxs)(f.ZP,{button:!0,onClick:Z,children:[(0,t.jsx)(h.Z,{children:e.icon}),(0,t.jsx)(x.Z,{children:e.text})]})},n):(0,t.jsx)(g.default,{href:e.link,passHref:!0,children:(0,t.jsxs)(f.ZP,{button:!0,children:[(0,t.jsx)(h.Z,{children:e.icon}),(0,t.jsx)(x.Z,{children:e.text})]},n)},n)}))})]}),O=void 0!==n?function(){return n().document.body}:void 0;return(0,t.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,t.jsx)(s.ZP,{}),(0,t.jsx)(o.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(A,"px)")},ml:{sm:"".concat(A,"px")}},children:(0,t.jsxs)(b.Z,{sx:S.toolbar,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,sx:{mr:2,display:{sm:"none"}},children:(0,t.jsx)(w.Z,{})}),(0,t.jsx)(m.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,t.jsxs)(i.Z,{sx:S.profileToolbar,children:["Welcome, ",y.email,"!"]})]})}),(0,t.jsxs)(i.Z,{component:"nav",sx:{width:{sm:A},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(u.ZP,{container:O,variant:"temporary",open:v,onClose:k,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:A}},children:C}),(0,t.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:A}},open:!0,children:C})]}),(0,t.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(A,"px)")}},children:[(0,t.jsx)(b.Z,{}),(0,t.jsx)(c.Z,{maxWidth:"lg",children:e.children})]})]})}var _=r(4623);var R=function(e){return(0,t.jsxs)(i.Z,{sx:{marginTop:function(e){return e.spacing(4)}},children:[e.loading&&(0,t.jsx)(_.Z,{}),!e.loading&&e.user&&(0,t.jsx)(M,{user:e.user,onBtnClick:e.onBtnLogoutClick,children:e.children})]})}},6601:function(e,n,r){"use strict";r.d(n,{x:function(){return s},P:function(){return c}});var t=r(5893),i=r(7357);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=function(e){var n=e.children,r=e.value,s=e.index,c=o(e,["children","value","index"]);return(0,t.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){a(e,n,r[n])}))}return e}({role:"tabpanel",hidden:r!==s,id:"custom-tabpanel-".concat(s),"aria-labelledby":"custom-tab-".concat(s)},c,{children:r===s&&(0,t.jsx)(i.Z,{sx:{p:3},children:n})}))};var c=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},241:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return q},default:function(){return X}});var t=r(4051),i=r.n(t),a=r(5893),o=r(7294),s=r(1163),c=r(4815),l=r(7467),u=r(7357),d=r(44),p=r(8409),f=r(6601),h=r(5861),x=r(7702),b=r(1057),m=r(6863),g=r(657),v=r(1425),j=r(6580),y=r(8951),w=r(7645),Z=r(8931),k=r(5895),C=r(6901),S=r(8456),O={datagrid:{borderRadius:2,"& .MuiDataGrid-main":{borderRadius:2},"& .MuiDataGrid-virtualScrollerRenderZone":{"& .MuiDataGrid-row":{"&:nth-of-type(2n)":{backgroundColor:"rgba(235, 235, 235, .7)"}}},"& .MuiDataGrid-columnHeader:focus-within":{outline:"none !important"},"& .MuiDataGrid-columnHeaders":{color:function(e){return e.palette.primary.dark},fontSize:16,"& select":{width:"100px",height:"32px",border:"none !important",outline:"none !important",fontSize:16}}},gridContainer:{height:500,"& .normal":{backgroundColor:"yellow"},"& .drier":{backgroundColor:"red"},"& .wetter":{backgroundColor:"blue"}}},P=r(4854);function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function D(e,n,r,t,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,i)}function E(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function M(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){E(e,n,r[n])}))}return e}function _(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return A(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R={loading:!1,show:!1,error:"",msg:"",saveDisabled:!1};var B=function(e){var n=e.weatherData,r=e.provinces,t=e.onCancelClick,s=e.onAsyncFinish,c=(0,o.useState)([]),l=c[0],d=c[1],p=(0,o.useState)([]),f=p[0],h=p[1],x=(0,o.useState)([]),g=x[0],v=x[1],j=(0,o.useState)(R),y=j[0],w=j[1],A=[{id:0,label:"Jan"},{id:1,label:"Feb"},{id:2,label:"Mar"},{id:3,label:"Apr"},{id:4,label:"May"},{id:5,label:"Jun"},{id:6,label:"Jul"},{id:7,label:"Aug"},{id:8,label:"Sep"},{id:9,label:"Oct"},{id:10,label:"Nov"},{id:11,label:"Dec"}];(0,o.useEffect)((function(){n.length>0&&F()}),[n.length,F]);var E=function(){return n.length>0?n[0].mos:[]},B=function(){var e,n=(e=i().mark((function e(){var n,r,t,a,o,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=document.getElementsByTagName("select"),r=[],t=!0,a=0;a<n.length;a+=1)o=document.getElementById("select-mo-".concat(a)),r.push(W(o.value));if(T(r)&&6===l.length){e.next=7;break}return w(M({},R,{show:!0,loading:!1,error:"Invalid months sequence."})),e.abrupt("return");case 7:c=0;case 8:if(!(c<l.length)){e.next=20;break}u=0;case 10:if(!(u<l[c].length)){e.next=17;break}if(N(l[c][u])){e.next=14;break}return t=!1,e.abrupt("break",17);case 14:u+=1,e.next=10;break;case 17:c+=1,e.next=8;break;case 20:if(t){e.next=23;break}return w(M({},R,{show:!0,error:"Invalid cell values."})),e.abrupt("return");case 23:return e.prev=23,w(M({},R,{loading:!0})),e.next=27,(0,k.Vt)(I(r));case 27:s(),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(23),d=e.t0.message.replaceAll(/Firebase/g,""),w((function(e){return M({},e,{show:!0,loading:!1,error:d})}));case 34:case"end":return e.stop()}}),e,null,[[23,30]])})),function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function o(e){D(a,t,i,o,s,"next",e)}function s(e){D(a,t,i,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),N=function(e){return isNaN(e)||""===e?(w(M({},R,{show:!0,error:"Not a number"})),!1):(w(R),!0)},T=function(e){for(var n=e.map((function(e){return e+1})),r=!0,t=0;t<n.length-1&&(!(1!==Math.abs(n[t+1]-n[t])||n[t+1]<n[t])||(r=!1,12===n[t]&&1===n[t+1]&&(r=!0),r));)t+=1;return r},I=function(e){for(var n={region:r.length>0?r[0].region:"",provinces:[]},t=0;t<l.length;t+=1){for(var i={name:r[t].province,months:[]},a=0;a<e.length;a+=1)i.months.push({mo:A[e[a]].label.toLowerCase(),val:l[t][a],con:(0,k.O9)(l[t][a])});n.provinces.push(i)}return n},W=function(e){for(var n=0,r=0;r<A.length;r+=1)if(A[r].label.toLowerCase()===e.toLowerCase()){n=r;break}return n},F=function(){var e=function(e){var r=n[0].mos[e];E().indexOf(r);o.push({field:r,headerName:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),width:110,editable:!0,sortable:!1,disableColumnMenu:!0,renderHeader:function(n){return(0,a.jsxs)("select",{onChange:function(n){return function(e,n){var r=e.target.value;document.getElementById("select-mo-".concat(n)).setAttribute("value",W(r))}(n,e)},id:"select-mo-".concat(e),defaultValue:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),children:[(0,a.jsx)("option",{children:"Month"}),A.map((function(e,n){return(0,a.jsx)("option",{children:e.label},"mo-".concat(n))}))]})}})},t=function(e){var t=function(r){var t=n[e],i=t.months.filter((function(e){return e.mo===t.mos[r]}));1===i.length?(a[t.mos[r]]=i[0].val,o.push(i[0].val)):(a[t.mos[r]]="n/a",o.push("n/a"))},a={},o=[],l=function(e){var n="";try{n=r.filter((function(n){return n.province===e}))[0].format}catch(t){n="n/a"}return n}(n[e].name);c[l]=n[e].name,a.id=e,a.rowId=e,a.province=l,a.editable=!0;for(var u=0;u<n[e].mos.length;u+=1)t(u);i.push(a),s.push(o)},i=[],o=[],s=[],c={};o.push({field:"province",headerName:"Province",width:180,sortable:!1,disableColumnMenu:!0});for(var l=0;l<n[0].mos.length;l+=1)e(l);for(var u=0;u<n.length;u+=1)t(u);v(o),h(i),d(s)};return(0,a.jsxs)("div",{style:{height:500,width:"100%"},children:[(0,a.jsxs)(u.Z,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"baseline",marginBottom:"24px"},children:[(0,a.jsx)("div",{style:{minWidth:"40%"},children:(0,a.jsx)(C.Z,{severity:""!==y.error?"error":"success",sx:{fontSize:"12px",minHeight:"32px",width:"100%",visibility:y.show?"initial":"hidden"},children:""!==y.error?y.error:y.msg})}),(0,a.jsxs)(m.Z,{variant:"outlined","aria-label":"outlined button controls group",sx:{float:"right",marginTop:"24px","& button":{width:"50%"}},children:[(0,a.jsx)(b.Z,{id:"cancel",onClick:t,disabled:y.loading,children:"Cancel"}),(0,a.jsxs)(b.Z,{onClick:B,disabled:y.loading||y.saveDisabled,variant:"contained",children:[(0,a.jsx)("span",{style:{display:y.loading?"none":"block"},children:"Save"})," \xa0",(0,a.jsx)(S.Z,{size:20,color:"secondary",sx:{display:y.loading?"block":"none"}})]})]})]}),(0,a.jsx)(u.Z,{sx:O.gridContainer,children:(0,a.jsx)(Z._,{rows:f,columns:g,sx:O.datagrid,customH:!0,editMode:"row",rowsPerPageOptions:[],getCellClassName:function(e){return void 0!==P.re[e.field.toUpperCase()]?(0,k.O9)(e.value):""},isCellEditable:function(){return!y.loading},onEditCellPropsChange:function(e){w(R),function(e){var n=e.props.value,r=N(n)?n:"ERROR",t=e.id,i=E().indexOf(e.field),a=_(l),o=a[t];o[i]=r,a[t]=o,d((function(e){return a}))}(e)},initialState:{columns:{columnVisibilityModel:{rowId:!1}}}})})]})},N=r(2509),T=r(9132);function I(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var W={seasonal_update:!1,tenday_update:!1};var F=function(e){var n=e.weatherData,r=e.provinces,t=(0,o.useState)(W),i=t[0],c=t[1],l=(0,o.useState)(!1),d=l[0],p=l[1],f=(0,s.useRouter)(),x=function(e){var n=e.target.id;c("cancel"===n?W:function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){I(e,n,r[n])}))}return e}({},i,I({},n,!0)))};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(g.Z,{open:d,"aria-labelledby":"data-saved-success","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(w.Z,{id:"data-saved-success",children:"Success"}),(0,a.jsx)(j.Z,{children:(0,a.jsx)(y.Z,{id:"alert-dialog-description",children:"The seasonal weather data are saved successfully."})}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(b.Z,{onClick:function(){f.push("/weather-services")},autoFocus:!0,children:"OK"})})]}),(0,a.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:function(e){return e.spacing(1)}},children:[(0,a.jsx)(h.Z,{variant:"h6",children:"Seasonal Weather Forecast Updater"}),(0,a.jsx)(m.Z,{variant:"outlined","aria-label":"outlined button controls group",children:!i.seasonal_update&&!i.tenday_update&&(0,a.jsx)(b.Z,{id:"seasonal_update",onClick:x,children:"Edit"})})]}),(0,a.jsxs)(h.Z,{variant:"body2",sx:T.Z.subheader,children:["Copy the Bicol Region's ",(0,a.jsx)("strong",{children:"Rainfall Analysis Forecast"})," from PAGASA's ",(0,a.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",children:"Seasonal Forecast"})," page for each province. Press the ",(0,a.jsx)("strong",{children:"Edit"})," button and double click a cell to start editing."]}),!i.seasonal_update&&(0,a.jsx)(N.Z,{weatherData:n,provinces:r,withBorder:!0}),i.seasonal_update&&(0,a.jsx)(B,{weatherData:n,provinces:r,onCancelClick:x,onAsyncFinish:function(){return p((function(e){return!e}))}})]})},z={tabsContainer:{marginTop:function(e){return e.spacing(8)},border:function(e){return"1px solid ".concat(e.palette.primary.dark)},minHeight:"800px",borderRadius:"8px"},tabsMain:{marginTop:function(e){return e.spacing(4)}}};function G(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function H(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){G(e,n,r[n])}))}return e}var L=function(e){var n=(0,o.useState)(0),r=n[0],t=n[1];return(0,a.jsxs)(x.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnClick,children:[(0,a.jsx)(h.Z,{variant:"h5",children:"Weather Services Updater"}),(0,a.jsxs)("p",{children:["Update the site-wide ",(0,a.jsx)("strong",{children:"Weather Services"})," information for the ",(0,a.jsx)("strong",{children:"Seasonal"})," and ",(0,a.jsx)("strong",{children:"10-Day"})," Weather Forecasts by manually encoding the required data with reference from PAGASA's weather forecasts on ",(0,a.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",children:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast"}),"."]}),(0,a.jsxs)("p",{children:["Please take caution in updating these information because it will be automatically referenced by all site admins when creating crop and climate risks bulletins on the ",(0,a.jsx)("strong",{children:"Create Crop Bulletins"})," and ",(0,a.jsx)("strong",{children:"Create Risks Bulletins"})," pages, and on the site's public ",(0,a.jsx)("strong",{children:"Agroclimatic Services - Crop Recommendations"})," page."]}),(0,a.jsxs)(u.Z,{sx:z.tabsContainer,children:[(0,a.jsxs)(p.Z,{value:r,onChange:function(e,n){t(n)},"aria-label":"weather services updater",children:[(0,a.jsx)(d.Z,H({label:"Seasonal Forecast Updater"},(0,f.P)(0))),(0,a.jsx)(d.Z,H({label:"10-Day Forecast Updater"},(0,f.P)(1)))]}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(f.x,{value:r,index:0,children:(0,a.jsx)(F,{weatherData:e.seasonal,provinces:e.provinces})}),(0,a.jsxs)(f.x,{value:r,index:1,children:[(0,a.jsx)(h.Z,{sx:{marginTop:function(e){return e.spacing(1)}},variant:"h6",children:"10-Day Weather Forecast Updater"}),(0,a.jsx)("p",{children:"To be updated."})]})]})]})]})};function U(e,n,r,t,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?n(c):Promise.resolve(c).then(t,i)}function V(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function o(e){U(a,t,i,o,s,"next",e)}function s(e){U(a,t,i,o,s,"throw",e)}o(void 0)}))}}function J(e){var n=e.provinces,r=(0,o.useState)([]),t=r[0],u=r[1],d=(0,c.aC)(),p=(0,s.useRouter)();(0,o.useState)((function(){var e=function(){var e=V(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.GV)("bicol","seasonal");case 3:(n=e.sent).length>0&&u((function(e){return n})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,o.useEffect)((function(){d.loading||d.user||p.push("/admin/login")}),[d.user,d.loading,p]);var f=function(){var e=V(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.logOut();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)(L,{loading:d.loading,user:d.user,provinces:n,seasonal:t,onBtnClick:f})}J.customLayout=!0,J.adminPage=!0;var q=!0,X=J}},function(e){e.O(0,[153,903,385,295,669,572,909,864,470,895,467,774,888,179],(function(){return n=1158,e(e.s=n);var n}));var n=e.O();_N_E=n}]);