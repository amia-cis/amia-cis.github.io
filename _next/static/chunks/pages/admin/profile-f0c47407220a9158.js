(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{6242:function(n,e,r){"use strict";r.d(e,{Z:function(){return h}});var t=r(7462),i=r(3366),o=r(7294),a=r(6010),s=r(7192),l=r(1496),c=r(3616),u=r(5113),d=r(8979);function x(n){return(0,d.Z)("MuiCard",n)}(0,r(6087).Z)("MuiCard",["root"]);var f=r(5893);const p=["className","raised"],m=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})((()=>({overflow:"hidden"})));var h=o.forwardRef((function(n,e){const r=(0,c.Z)({props:n,name:"MuiCard"}),{className:o,raised:l=!1}=r,u=(0,i.Z)(r,p),d=(0,t.Z)({},r,{raised:l}),h=(n=>{const{classes:e}=n;return(0,s.Z)({root:["root"]},x,e)})(d);return(0,f.jsx)(m,(0,t.Z)({className:(0,a.Z)(h.root,o),elevation:l?8:void 0,ref:e,ownerState:d},u))}))},4267:function(n,e,r){"use strict";r.d(e,{Z:function(){return m}});var t=r(7462),i=r(3366),o=r(7294),a=r(6010),s=r(7192),l=r(1496),c=r(3616),u=r(8979);function d(n){return(0,u.Z)("MuiCardContent",n)}(0,r(6087).Z)("MuiCardContent",["root"]);var x=r(5893);const f=["className","component"],p=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,e)=>e.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var m=o.forwardRef((function(n,e){const r=(0,c.Z)({props:n,name:"MuiCardContent"}),{className:o,component:l="div"}=r,u=(0,i.Z)(r,f),m=(0,t.Z)({},r,{component:l}),h=(n=>{const{classes:e}=n;return(0,s.Z)({root:["root"]},d,e)})(m);return(0,x.jsx)(p,(0,t.Z)({as:l,className:(0,a.Z)(h.root,o),ownerState:m,ref:e},u))}))},5165:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/profile",function(){return r(442)}])},4623:function(n,e,r){"use strict";r.d(e,{Z:function(){return l}});var t=r(5893),i=r(7357),o=r(8456),a=r(5861),s={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};var l=function(){return(0,t.jsx)(i.Z,{sx:s.container,children:(0,t.jsxs)(i.Z,{sx:s.loading,children:[(0,t.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,t.jsx)(o.Z,{size:"32px"})]})})}},7702:function(n,e,r){"use strict";r.d(e,{Z:function(){return W}});var t=r(5893),i=r(7357),o=r(7294),a=r(2293),s=r(6720),l=r(7948),c=r(7720),u=r(7533),d=r(3946),x=r(8462),f=r(7594),p=r(9334),m=r(8619),h=r(155),v=r(5861),Z=r(1664),g=r(1163),j=r(7520),b=r(9662),y=r(3384),w=r(9903),k=r(326),C=r(7427),S=r(1898),P=r(4229),M={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{padding:function(n){return n.spacing(1)},"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:function(n){return n.palette.primary.light}},"& .listitembutton-styled":{py:0,minHeight:48,color:function(n){return n.palette.primary.dark},borderRadius:function(n){return n.spacing(1)},margin:function(n){return n.spacing(1)},"&:hover, &:focus":{"& .MuiTypography-root":{color:function(n){return n.palette.primary.dark}}}},"& .MuiListItemIcon-root":{marginRight:"-8px"}},listitem:{"& a":{textDecoration:"none"}}};function A(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function N(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return A(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=280,I=[{text:"Get Started",link:"/admin",icon:(0,t.jsx)(y.Z,{})},{text:"Crop Recommendations",link:"/admin/bulletins/crops",icon:(0,t.jsx)(S.Z,{})},{text:"SMS Management",link:"/admin/sms",icon:(0,t.jsx)(w.Z,{})},{text:"Risks Recommendations",link:"/admin/bulletins/risks",icon:(0,t.jsx)(S.Z,{})},{text:"BACAP Settings",link:"/admin/weather",icon:(0,t.jsx)(P.Z,{})}],_=I.length,B=[{text:"Profile",link:"/admin/profile",icon:(0,t.jsx)(C.Z,{})},{text:"BACAP Website",link:"/",icon:(0,t.jsx)(j.Z,{})},{text:"Logout",link:"#",icon:(0,t.jsx)(b.Z,{})}];function E(n){var e=n.window,r=N(o.useState(!1),2),j=r[0],b=r[1],y=N(o.useState(null),2),w=y[0],C=y[1],S=(0,g.useRouter)(),P=n.user,A=n.onBtnClick;o.useEffect((function(){var n=S.route.substr(S.route.lastIndexOf("/")+1,S.route.length),e={admin:0,crops:1,risks:3,weather:4,sms:2,profile:5,create:1,view:1};C(e[n]?e[n]:0)}),[S.route]);var E=function(){b(!j)},T=(0,t.jsxs)("div",{children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(x.Z,{sx:M.list,disablePadding:!0,children:I.map((function(n,e){return(0,t.jsx)(Z.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:w===e,children:[(0,t.jsx)(f.Z,{sx:{color:"inherit"},children:n.icon}),(0,t.jsx)(p.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]},n.label)},e)}))}),(0,t.jsx)(c.Z,{}),(0,t.jsx)(x.Z,{sx:M.list,children:B.map((function(n,e){return"Logout"===n.text?(0,t.jsx)(Z.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:w===e+_,onClick:A,children:[(0,t.jsx)(f.Z,{sx:{color:"inherit"},children:n.icon}),(0,t.jsx)(p.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},e):(0,t.jsx)(Z.default,{href:n.link,passHref:!0,children:(0,t.jsxs)(m.Z,{className:"listitembutton-styled",selected:w===e+_,children:[(0,t.jsx)(f.Z,{sx:{color:"inherit"},children:n.icon}),(0,t.jsx)(p.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},e)}))})]}),W=void 0!==e?function(){return e().document.body}:void 0;return(0,t.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,t.jsx)(s.ZP,{}),(0,t.jsx)(a.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(R,"px)")},ml:{sm:"".concat(R,"px")}},children:(0,t.jsxs)(h.Z,{sx:M.toolbar,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:E,sx:{mr:2,display:{sm:"none"}},children:(0,t.jsx)(k.Z,{})}),(0,t.jsx)(v.Z,{variant:"h6",noWrap:!0,component:"div",children:"BACAP Admin"})]}),(0,t.jsxs)(i.Z,{sx:M.profileToolbar,children:["Welcome, ",P.email,"!"]})]})}),(0,t.jsxs)(i.Z,{component:"nav",sx:{width:{sm:R},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,t.jsx)(u.ZP,{container:W,variant:"temporary",open:j,onClose:E,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:R}},children:T}),(0,t.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:R,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:T})]}),(0,t.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(R,"px)")}},children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)(l.Z,{maxWidth:"lg",children:n.children})]})]})}var T=r(4623);var W=function(n){return(0,t.jsxs)(i.Z,{sx:{marginTop:function(n){return n.spacing(4)}},children:[n.loading&&(0,t.jsx)(T.Z,{}),!n.loading&&n.user&&(0,t.jsx)(E,{user:n.user,onBtnClick:n.onBtnLogoutClick,children:n.children})]})}},442:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Z}});var t=r(4051),i=r.n(t),o=r(5893),a=r(7294),s=r(1163),l=r(3835),c=r(6242),u=r(4267),d=r(5861),x=r(1903),f=r(7702),p={profileContainer:{display:"flex",flexDirection:"column",width:"100%"},profileCard:{padding:"22px",display:"flex",flexDirection:"column",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"15px",maxWidth:"600px",margin:"auto",borderColor:"#E2E8F0"},textfield:{marginTop:function(n){return n.spacing(3)}}};var m=function(n){var e={uid:"UID",accountlevel:"Account Level",email:"Email",name:"Display Name"};return(0,o.jsx)(f.Z,{loading:n.loading,user:n.user,onBtnLogoutClick:n.onBtnClick,children:(0,o.jsx)(c.Z,{sx:p.profileCard,children:(0,o.jsxs)(u.Z,{sx:p.profileContainer,children:[(0,o.jsx)(d.Z,{variant:"h5",children:"Profile Information"}),(0,o.jsx)("br",{}),void 0!==n.user&&null!==n.user&&Object.keys(e).map((function(r,t){var i=n.user[r];return["accountlevel"].includes(r)&&(i=2===parseInt(n.user[r])?"Admin":"Superadmin"),(0,o.jsx)(x.Z,{sx:p.textfield,size:"small",disabled:["uid","accountlevel"].includes(r),id:r,label:e[r],variant:"outlined",value:i},"".concat(r,"-").concat(t))}))]})})})};function h(n,e,r,t,i,o,a){try{var s=n[o](a),l=s.value}catch(c){return void r(c)}s.done?e(l):Promise.resolve(l).then(t,i)}function v(){var n=(0,l.aC)(),e=(0,s.useRouter)();(0,a.useEffect)((function(){n.loading||n.user||e.push("/admin/login")}),[n.user,n.loading,e]);var r=function(){var e,r=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.logOut();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(n){h(o,t,i,a,s,"next",n)}function s(n){h(o,t,i,a,s,"throw",n)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.jsx)(m,{loading:n.loading,user:n.user,onBtnClick:r})}v.customLayout=!0,v.adminPage=!0;var Z=v}},function(n){n.O(0,[3,774,888,179],(function(){return e=5165,n(n.s=e);var e}));var e=n.O();_N_E=e}]);