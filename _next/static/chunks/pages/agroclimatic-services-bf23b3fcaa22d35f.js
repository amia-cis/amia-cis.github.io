(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{7741:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agroclimatic-services",function(){return t(5124)}])},5124:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return me},default:function(){return be}});var r=t(5893),i=t(5113);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=(0,t(1496).ZP)((function(e){return(0,r.jsx)(i.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({},e))}))((function(e){var n=e.theme;return{padding:n.spacing(3),borderRadius:n.spacing(1),boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}})),o=a,c=t(4051),s=t.n(c),u=t(7294),p=t(2848),d=t(1652),f=t(4680),m=t(560),b=t(5675),h=t(1903),v=t(6295),g=t(7357),x=t(1057),_=t(7720),y=t(5861),j=t(6886),O=t(6624),S=t(710),Z=t(3578),w=t(6229),C=t(9758),R=t(6613),k={container:{display:"flex",flexDirection:"column"},cardContainer:{display:{xs:"none",md:"grid"},"& h6":{fontSize:"1.2rem",lineHeight:"1.6rem"},"& h6:nth-child(2)":{fontWeight:"bold"},placeContent:"center",width:"100%",maxWidth:"430px",minHeight:"85px",border:"2px solid #cc00cc",borderRadius:"40px",padding:function(e){return e.spacing(2)},margin:"auto",marginBottom:"6px",marginTop:"6px",textAlign:"center",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important"},arrowIcon:{margin:"auto",color:"#cc00cc",display:{xs:"none",md:"block"}}};var E=function(e){var n=e.info,t=e.show,i=void 0===t||t,l=e.borderColor,a=void 0===l?"#cc00cc":l;return(0,r.jsxs)(g.Z,{sx:k.container,children:[(0,r.jsxs)(g.Z,{sx:k.cardContainer,style:{borderColor:a},children:[(0,r.jsx)(y.Z,{variant:"subtitle1",children:"You have selected ".concat("cropstage"===n.from?"crop stage":n.from)}),(0,r.jsx)(y.Z,{variant:"subtitle1",children:n.label})]}),i&&(0,r.jsx)(R.Z,{size:24,sx:k.arrowIcon,style:{color:a}})]})},P=t(1033),A=t(120),M={container:{marginTop:function(e){return e.spacing(3)},minHeight:"400px"},controls:{marginTop:function(e){return e.spacing(6)}},selectContainer:{borderRight:{sm:"none",md:"1px solid gray"}},recsContainer:{marginTop:"-24px",paddingLeft:{sm:"none",md:"54px !important"}},autocomplete:{maxWidth:{sm:"100%",md:"310px"},marginTop:function(e){return e.spacing(1)}},conditionLegend:{maxWidth:{sm:"100%"},margin:{md:"24px"},marginBottom:"32px",padding:function(e){return e.spacing(1)},borderRadius:"4px",border:"1px solid grey",textAlign:"center"},welcome:{display:"grid",placeContent:"center",marginTop:function(e){return e.spacing(10)},textAlign:"center","& h5":{marginTop:function(e){return e.spacing(2)}}}},I=t(7426);function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){T(e,n,t[n])}))}return e}var L=["sel_province","sel_municipality","sel_crop","sel_month","sel_stage","sel_activity"];var N=function(e){var n=(0,u.useState)(0),t=n[0],l=n[1],a=(0,u.useRef)(!0),o=(0,u.useState)(!0),c=o[0],s=o[1],p=e.sel_options,d=e.provinces,f=e.recommendations,m=e.onSelectItemChange,R=e.optsmunicipalities,k=e.optscrops,T=e.optscropstages,N=e.optsactivities,D=e.optsmonths,B=e.steps,V=e.getStepLabel,q=e.isContinueDisabled;(0,u.useEffect)((function(){return a.current=!0,function(){a.current=!1}}),[]);var U=function(){s(!1),setTimeout((function(){(a.current=!0)&&s(!0)}),500),l((function(e){return e+1}))},H=function(){l((function(e){return e-1}))},J=function(){var e="Loading...";return d.length>0&&(e=null===p.sel_province?"Select a province":"Province"),e};return(0,r.jsxs)(g.Z,{sx:{minHeight:"75vh"},children:[(0,r.jsx)(y.Z,{variant:"h4",children:"Seasonal Recommendations"}),(0,r.jsx)(y.Z,{variant:"subtitle1",children:"Crop Recommendations"}),(0,r.jsxs)(j.ZP,{container:!0,spacing:2,sx:M.container,children:[(0,r.jsxs)(j.ZP,{item:!0,xs:12,md:4,sx:M.selectContainer,children:[(0,r.jsxs)(g.Z,{sx:{minWidth:"100%",paddingRight:function(e){return e.spacing(2)}},children:[(0,r.jsx)(O.Z,{activeStep:t,orientation:"vertical",children:B.map((function(e,n){return(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(Z.Z,{optional:5===n?(0,r.jsx)(y.Z,{variant:"caption",children:"Last step"}):null,children:V(n)}),(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(y.Z,{children:e.description}),0===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"province",value:p.sel_province,disabled:0===d.length,options:d,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,W({},e,{label:J()}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return m(e,W({},n,{from:"province"}))}}),1===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"municipality",value:p.sel_municipality,disabled:0===R.length||p.loading,options:R,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,W({},e,{label:null===p.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return m(e,W({},n,{from:"municipality"}))}}),2===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"crop",value:p.sel_crop,disabled:0===k.length,options:k,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,W({},e,{label:null===p.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return m(e,W({},n,{from:"crop"}))}}),3===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"month",value:p.sel_month,disabled:0===D.length||null===p.sel_crop,options:D,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,W({},e,{label:null===p.sel_month?"Select a Month":"Month"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return m(e,W({},n,{from:"month"}))}}),4===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"cropstage",value:p.sel_stage,disabled:0===T.length,options:T,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,W({},e,{label:null===p.sel_stage?"Select a crop stage":"Crop Stage"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return m(e,W({},n,{from:"cropstage"}))}}),5===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"activity",value:p.sel_activity,disabled:0===N.length,options:N,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,W({},e,{label:null===p.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return m(e,W({},n,{from:"activity"}))}}),""!==p.error&&(0,r.jsx)(y.Z,{variant:"caption",sx:{color:"red"},children:p.error}),(0,r.jsx)(g.Z,{sx:{mb:2,marginTop:"24px"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{variant:"contained",disabled:q(n)||p.loading||!c,onClick:U,children:n===B.length-1?"Finish":"Continue"}),(0,r.jsx)(x.Z,{disabled:0===n,onClick:H,children:"Back"})]})})]})]},e.label)}))}),t===B.length&&(0,r.jsxs)(i.Z,{square:!0,elevation:0,sx:{p:3},children:[(0,r.jsx)(y.Z,{children:"All steps completed"}),(0,r.jsx)(x.Z,{onClick:function(){l(0),m(null,{from:"province"})},sx:{mt:1,mr:1},children:"Restart"}),(0,r.jsx)(x.Z,{onClick:H,sx:{mt:1,mr:1},children:"Back"})]})]}),(0,r.jsx)("br",{}),(0,r.jsx)(_.Z,{}),(0,r.jsx)("br",{}),null!==p.sel_month&&(0,r.jsxs)(g.Z,{sx:M.conditionLegend,style:{backgroundColor:I.tN[p.sel_condition.label],color:[I.MW.ABOVE_NORMAL.label,I.MW.WAY_BELOW_NORMAL.label].includes(p.sel_condition.label)?"#fff":"#000"},children:[(0,r.jsx)(y.Z,{variant:"subtitle2",children:"Seasonal Weather Condition"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:p.sel_month.label})," ",(0,r.jsx)("br",{}),(0,r.jsxs)("span",{children:[p.sel_condition.format," (",p.sel_condition.id,"%)"]})]})]})]}),(0,r.jsx)(j.ZP,{item:!0,xs:12,md:8,sx:M.recsContainer,children:null!==p.sel_crop&&null!==p.sel_activity&&6===t?(0,r.jsxs)("div",{children:[null!==p.sel_crop&&null!==p.sel_activity&&(0,r.jsxs)(y.Z,{variant:"h5",sx:{display:"novalues"===p.sel_activity.id?"none":"flex"},children:[p.sel_crop.label," Recommendations"]}),f.length>0?f.map((function(e,n){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{children:[p.sel_condition.format,"Rice"===p.sel_crop.label?" (".concat(e.crop,")"):""]}),e.recommendations().map((function(e,t){return e.ul?(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:e.id}),e.subs.length>0&&(0,r.jsx)("ul",{children:e.subs.map((function(e,t){return(0,r.jsx)("li",{children:e},"sub-".concat(n,"-").concat(t))}))})]},"main-".concat(n,"-").concat(t)):(0,r.jsx)("p",{children:e.id},"main-".concat(n,"-").concat(t))}))]},"rec-".concat(n))})):(0,r.jsx)(P.Z,{message:"We cannot find recommendations for your selected options."})]}):Object.values(p).filter((function(e){return e})).length>1?(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:L.map((function(e,n){return null!==p[e]&&void 0!==p[e].from&&"weather_condition"!==p[e].from?(0,r.jsx)(E,{info:p[e],show:n<L.length-1},"card-opt-".concat(n)):(0,r.jsx)("div",{},"card-opt-".concat(n))}))}):(0,r.jsxs)(g.Z,{sx:M.welcome,children:[(0,r.jsx)(b.default,{unoptimized:!0,src:(0,A.assetPrefixer)("images/icons/finance.svg"),height:120,width:120,loader:A.imageLoader,alt:"Empty data"}),(0,r.jsx)(y.Z,{variant:"h5",children:"Welcome to the Crop Recommendations Page"}),(0,r.jsx)(y.Z,{variant:"p",children:"Please select a province to start."})]})})]})]})},D=t(7682),B=[{label:"Select a province",description:"Select a province within the Bicol region.",opt_name:"sel_province"},{label:"Select a municipality",description:"Select a municipality included in the province you have selected on step no. 1.",opt_name:"sel_municipality"},{label:"Select a crop type",description:"Listed below are available crops for your selected province and municipality.",opt_name:"sel_crop"},{label:"Select a month",description:"Select a target month from the current Seasonal Weather Forecast.",opt_name:"sel_month"},{label:"Select a crop stage",description:"Listed below are the available crop stages for your selected crop on the target month.",opt_name:"sel_stage"},{label:"Select an activity",description:"Here are available activities for the previously-selected parameters.",opt_name:"sel_activity"}];function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function q(e,n,t,r,i,l,a){try{var o=e[l](a),c=o.value}catch(s){return void t(s)}o.done?n(c):Promise.resolve(c).then(r,i)}function U(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){U(e,n,t[n])}))}return e}function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],a=!0,o=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);a=!0);}catch(c){o=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(o)throw i}}return l}}(e,n)||F(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,n){if(e){if("string"===typeof e)return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,n):void 0}}var $={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null,sel_condition:{id:0,from:"weather_condition",label:I.MW.WAY_BELOW_NORMAL.label},loading:!1,error:""};var z=function(e){var n=e.municipalities,t=void 0===n?[]:n,i=J((0,D.ky)(f.o.STATIC_RECOMMENDATIONS,"data"),2),l=i[0],a=i[1],o=(0,D.m$)(m.M.WEATHER_FORECASTS,"bicol",m.M.SUB_SEASONAL,"name"),c=o.documents,b=o.loading,h=(0,u.useState)([]),v=h[0],g=h[1],x=(0,u.useState)([]),_=x[0],y=x[1],j=(0,u.useState)([]),O=j[0],S=j[1],Z=(0,u.useState)([]),w=Z[0],C=Z[1],R=(0,u.useState)([]),k=R[0],E=R[1],P=(0,u.useState)({}),A=P[0],M=P[1],T=(0,u.useState)($),W=T[0],L=T[1],V=(0,u.useState)([]),F=V[0],z=V[1],K=(0,u.useState)([]),X=K[0],G=K[1],Q=(0,u.useState)([]),ee=Q[0],ne=Q[1],te=(0,u.useState)([]),re=te[0],ie=te[1],le=(0,u.useState)([]),ae=le[0],oe=le[1],ce=(0,u.useRef)(!1);(0,u.useEffect)((function(){return ce.current=!0,function(){ce.current=!1}}),[]),(0,u.useEffect)((function(){if(t.length>0&&!b&&!a){var e={};c.forEach((function(n){var t=n.name.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");e[t]={},n.months.forEach((function(n){var r=Object.values(I.MW).find((function(e){return e.label===n.con}));e[t][n.mo]={label:n.con,format:r.sync,val:n.val}}))}));var n=[];c[0].mos.forEach((function(e){n.push({id:I.re[e.toUpperCase()].code,label:I.re[e.toUpperCase()].format,disabled:!1})}));var r={},i=[];t.forEach((function(e,n){void 0===r[e.province]?(i.push({id:n,label:e.province}),r[e.province]=[{id:0,label:e.name}]):r[e.province].push({id:r[e.province].length,label:e.name})})),ce.current&&(y(r),g(i),oe(n),M(e))}}),[t,c,b,a]);var se=function(){var e,n=(e=s().mark((function e(n,t){var r,i,a,o,c,u,f,m,b,h,v,g,x,y,j,Z,R,k,P,M,T;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from,i=t.label,E([]),!Object.keys(t).includes("id")){e.next=82;break}e.t0=r,e.next="province"===e.t0?6:"municipality"===e.t0?12:"crop"===e.t0?45:"month"===e.t0?54:"cropstage"===e.t0?63:"activity"===e.t0?68:79;break;case 6:return L(H({},W,{sel_province:t,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),z(_[i]),G([]),ne([]),ie([]),e.abrupt("break",80);case 12:return ne([]),ie([]),a=[],e.prev=15,L(H({},W,{loading:!0,error:""})),e.next=19,(0,d.$K)(W.sel_province.label,i);case 19:o=e.sent,((a=o.map((function(e){return e.crop})).filter((function(e,n,t){return t.indexOf(e)===n}))).includes("Rainfed Rice")||a.includes("Irrigated Rice"))&&a.push("Rice"),ce.current&&S((function(e){return o})),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(15),L((function(n){return H({},n,{loading:!1,error:e.t1.message})}));case 28:if(0!==a.length){e.next=31;break}return L((function(e){return H({},e,{loading:!1,error:"There was an error loading data."})})),e.abrupt("return");case 31:return e.prev=31,e.next=34,(0,p.OP)(W.sel_province.label,i);case 34:c=e.sent,u=[],(f=c.map((function(e){return e.crop})).filter((function(e,n,t){return t.indexOf(e)===n}))).forEach((function(e,n){u.push({id:n,label:e,disabled:!a.includes(e)})})),ce.current&&(m=0===f.length?{id:"novalues",label:"No crop types for ".concat(i)}:null,L(H({},W,{sel_municipality:t,sel_crop:m,sel_stage:null,sel_activity:null,sel_month:null,loading:!1,error:""})),ne(u),G((function(e){return u})),C((function(e){return c}))),e.next=44;break;case 41:e.prev=41,e.t2=e.catch(31),L((function(n){return H({},n,{loading:!1,error:e.t2.message})}));case 44:return e.abrupt("break",80);case 45:return ne([]),ie([]),L(H({},W,{sel_crop:t,sel_stage:null,sel_activity:null,sel_month:null})),b=[],w.filter((function(e){return e.crop===i&&e.province===W.sel_province.label&&e.municipality===W.sel_municipality.label})).forEach((function(e){ae.forEach((function(n){""===e[n.id]||b.includes(n.id)||b.push(n.id)}))})),h=Y(ae),ae.forEach((function(e,n){h[n].disabled=!b.includes(e.id)})),oe(h),e.abrupt("break",80);case 54:return v=A[W.sel_province.label][t.id],g=v.label,x=v.val,y=v.format,ie([]),j=[],Z=[],w.forEach((function(e,n){var r=Object.values(I.re).find((function(e){return e.format===t.label})).code;if(""!==e[r]&&e.crop===W.sel_crop.label)for(var i=function(e){if(l[e].length>0&&!j.includes(l[e])){j.push(l[e]);var n=O.filter((function(n){return n.stage===I.MZ[l[e].toUpperCase()]&&("Rice"===W.sel_crop.label?["Irrigated Rice","Rainfed Rice"].includes(n.crop):n.crop===W.sel_crop.label)})).map((function(e){return e.activity})).filter((function(e,n,t){return t.indexOf(e)==n}));Z.push({id:Z.length,label:I.MZ[l[e].toUpperCase()],disabled:0===n.length})}},l=e[r].split(","),a=0;a<l.length;a+=1)i(a)})),R=0===Z.length?{id:"novalues",label:"No crop stage for ".concat(i)}:null,ne(Z),L(H({},W,{sel_month:t,sel_stage:R,sel_activity:null,sel_condition:{id:x,format:y,label:g}})),e.abrupt("break",80);case 63:return k=O.filter((function(e){return e.stage===i&&("Rice"===W.sel_crop.label?["Irrigated Rice","Rainfed Rice"].includes(e.crop):e.crop===W.sel_crop.label)})).map((function(e){return e.activity})).filter((function(e,n,t){return t.indexOf(e)==n})),P=0===k.length?{id:"novalues",label:"No activities for selected options"}:null,L(H({},W,{sel_stage:t,sel_activity:P})),ie((function(e){return k.map((function(e,n){return{id:n,label:e}}))})),e.abrupt("break",80);case 68:e.t3=regeneratorRuntime.keys(W);case 69:if((e.t4=e.t3()).done){e.next=75;break}if(M=e.t4.value,null!==W[M]||"sel_activity"===M){e.next=73;break}return e.abrupt("return");case 73:e.next=69;break;case 75:return T=O.filter((function(e){return e.activity===i&&e.stage===W.sel_stage.label&&("Rice"===W.sel_crop.label?["Irrigated Rice","Rainfed Rice"].includes(e.crop):e.crop===W.sel_crop.label)})).map((function(e){return{province:e.province,municipality:e.municipality,crop:e.crop,stage:e.stage,activity:e.activity,recommendations:function(){switch(W.sel_condition.label){case I.MW.BELOW_NORMAL.label:case I.MW.NORMAL.label:return JSON.parse(e.normal).map((function(e){return{id:l.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return l.subs.find((function(n){return n.id===e})).description}))}}));case I.MW.ABOVE_NORMAL.label:return JSON.parse(e.wetter).map((function(e){return{id:l.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return l.subs.find((function(n){return n.id===e})).description}))}}));case I.MW.WAY_BELOW_NORMAL.label:return JSON.parse(e.drier).map((function(e){return{id:l.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return l.subs.find((function(n){return n.id===e})).description}))}}))}}}})),L(H({},W,{sel_activity:t})),E(T),e.abrupt("break",80);case 79:return e.abrupt("break",80);case 80:e.next=83;break;case 82:"province"===r?(L($),z([]),G([]),ne([]),ie([])):"municipality"===r?(L(H({},W,{sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),G([]),ne([]),ie([])):"crop"===r?(L(H({},W,{sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),ne([]),ie([])):"month"===r?(L(H({},W,U({sel_month:null,sel_stage:null,sel_activity:null},"sel_activity",null))),ne([]),ie([])):"cropstage"===r?(L(H({},W,{sel_stage:null,sel_activity:null})),ie([])):"activity"===r&&L(H({},W,{sel_activity:null}));case 83:case"end":return e.stop()}}),e,null,[[15,25],[31,41]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var l=e.apply(n,t);function a(e){q(l,r,i,a,o,"next",e)}function o(e){q(l,r,i,a,o,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return(0,r.jsx)(N,{sel_options:W,provinces:v,recommendations:k,optsmunicipalities:F,optscrops:X,optscropstages:ee,optsactivities:re,optsmonths:ae,steps:B,onSelectItemChange:se,getStepLabel:function(e){var n=B[e].opt_name,t=null===W[n]?B[e].label:"".concat(B[e].label,": ").concat(W[n].label);return null!==W[n]&&"novalues"===W[n].id?B[e].label:t},isContinueDisabled:function(e){switch(e){case 0:return null===W.sel_province;case 1:return null===W.sel_municipality;case 2:return null===W.sel_crop||"novalues"===W.sel_crop.id;case 3:return null===W.sel_month;case 4:return null===W.sel_stage||"novalues"===W.sel_stage.id;case 5:return null===W.sel_activity||"novalues"===W.sel_activity.id;default:return!1}}})},K=t(9473);function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){X(e,n,t[n])}))}return e}var Q=["sel_province","sel_municipality","sel_crop","sel_month","sel_stage","sel_activity"];var ee=function(e){var n=(0,u.useState)(0),t=n[0],l=n[1],a=(0,u.useRef)(!0),o=(0,u.useState)(!0),c=o[0],s=o[1],p=e.sel_options,d=e.provinces,f=e.recommendations,m=e.onSelectItemChange,R=e.optsmunicipalities,k=e.optscrops,T=e.optscropstages,W=e.optsactivities,L=e.optsmonths,N=e.steps,D=e.getStepLabel,B=e.isContinueDisabled;(0,u.useEffect)((function(){return a.current=!0,function(){a.current=!1}}),[]);var V=function(){s(!1),setTimeout((function(){(a.current=!0)&&s(!0)}),500),l((function(e){return e+1}))},q=function(){l((function(e){return e-1}))},U=function(){var e="Loading...";return d.length>0&&(e=null===p.sel_province?"Select a province":"Province"),e};return(0,r.jsxs)(g.Z,{sx:{minHeight:"75vh"},children:[(0,r.jsx)(y.Z,{variant:"h4",children:"10-Day Farm Weather Outlook and Advisory Recommendations"}),(0,r.jsx)(y.Z,{variant:"subtitle1",children:"Crop Recommendations"}),(0,r.jsxs)(j.ZP,{container:!0,spacing:2,sx:M.container,children:[(0,r.jsxs)(j.ZP,{item:!0,xs:12,md:4,sx:M.selectContainer,children:[(0,r.jsxs)(g.Z,{sx:{minWidth:"100%",paddingRight:function(e){return e.spacing(2)}},children:[(0,r.jsx)(O.Z,{activeStep:t,orientation:"vertical",children:N.map((function(e,n){return(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(Z.Z,{optional:5===n?(0,r.jsx)(y.Z,{variant:"caption",children:"Last step"}):null,children:D(n)}),(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(y.Z,{children:e.description}),0===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"province",value:p.sel_province,disabled:0===d.length,options:d,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,G({},e,{label:U()}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return m(e,G({},n,{from:"province"}))}}),1===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"municipality",value:p.sel_municipality,disabled:0===R.length||p.loading,options:R,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,G({},e,{label:null===p.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return m(e,G({},n,{from:"municipality"}))}}),2===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"month",multiple:!0,value:p.sel_month,disabled:!0,options:L,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,G({},e,{label:0===p.sel_month.length?"Select a Month":"Month(s)"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return m(e,G({},n,{from:"month"}))}}),3===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"crop",value:p.sel_crop,disabled:0===k.length,options:k,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,G({},e,{label:null===p.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return m(e,G({},n,{from:"crop"}))}}),4===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"cropstage",value:p.sel_stage,disabled:0===T.length,options:T,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,G({},e,{label:null===p.sel_stage?"Select a crop stage":"Crop Stage"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return m(e,G({},n,{from:"cropstage"}))}}),5===n&&(0,r.jsx)(v.Z,{disablePortal:!0,id:"activity",value:p.sel_activity,disabled:0===W.length,options:W,sx:M.autocomplete,PaperComponent:C.Z,renderInput:function(e){return(0,r.jsx)(h.Z,G({},e,{label:null===p.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return m(e,G({},n,{from:"activity"}))}}),""!==p.error&&(0,r.jsx)(y.Z,{variant:"caption",sx:{color:"red"},children:p.error}),(0,r.jsx)(g.Z,{sx:{mb:2,marginTop:"24px"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{variant:"contained",disabled:B(n)||p.loading||!c,onClick:V,children:n===N.length-1?"Finish":"Continue"}),(0,r.jsx)(x.Z,{disabled:0===n,onClick:q,children:"Back"})]})})]})]},e.label)}))}),t===N.length&&(0,r.jsxs)(i.Z,{square:!0,elevation:0,sx:{p:3},children:[(0,r.jsx)(y.Z,{children:"All steps completed"}),(0,r.jsx)(x.Z,{onClick:function(){l(0),m(null,{from:"province"})},sx:{mt:1,mr:1},children:"Restart"}),(0,r.jsx)(x.Z,{onClick:q,sx:{mt:1,mr:1},children:"Back"})]})]}),(0,r.jsx)("br",{}),(0,r.jsx)(_.Z,{}),(0,r.jsx)("br",{}),null!==p.sel_condition.label&&(0,r.jsxs)(g.Z,{sx:M.conditionLegend,style:{backgroundColor:I.tN[p.sel_condition.label],color:[I.MW.ABOVE_NORMAL.label,I.MW.WAY_BELOW_NORMAL.label].includes(p.sel_condition.label)?"#fff":"#000"},children:[(0,r.jsx)(y.Z,{variant:"subtitle2",children:"10-Day Weather Outlook for Today"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:p.sel_condition.date}),(0,r.jsx)("br",{}),(0,r.jsxs)("span",{children:[p.sel_condition.format," (",p.sel_condition.id,")"]})]})]})]}),(0,r.jsx)(j.ZP,{item:!0,xs:12,md:8,sx:M.recsContainer,children:null!==p.sel_crop&&null!==p.sel_activity&&6===t?(0,r.jsxs)("div",{children:[null!==p.sel_crop&&null!==p.sel_activity&&(0,r.jsxs)(y.Z,{variant:"h5",sx:{display:"novalues"===p.sel_activity.id?"none":"flex"},children:[p.sel_crop.label," Recommendations"]}),f.length>0?f.map((function(e,n){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{children:[p.sel_condition.format,"Rice"===p.sel_crop.label?" (".concat(e.crop,")"):""]}),e.recommendations().map((function(e,t){return e.ul?(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:e.id}),e.subs.length>0&&(0,r.jsx)("ul",{children:e.subs.map((function(e,t){return(0,r.jsx)("li",{children:e},"sub-".concat(n,"-").concat(t))}))})]},"main-".concat(n,"-").concat(t)):(0,r.jsx)("p",{children:e.id},"main-".concat(n,"-").concat(t))}))]},"rec-".concat(n))})):(0,r.jsx)(P.Z,{message:"We cannot find recommendations for your selected options."})]}):Object.values(p).filter((function(e){return e})).length>1?(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Q.map((function(e,n){return null!==p[e]&&void 0!==p[e].from&&"weather_condition"!==p[e].from?(0,r.jsx)(E,{info:p[e],show:n<Q.length-1,borderColor:"blue"},"card-opt-".concat(n)):(0,r.jsx)("div",{},"card-opt-".concat(n))}))}):(0,r.jsxs)(g.Z,{sx:M.welcome,children:[(0,r.jsx)(b.default,{unoptimized:!0,src:(0,A.assetPrefixer)("images/icons/finance.svg"),height:120,width:120,loader:A.imageLoader,alt:"Empty data"}),(0,r.jsx)(y.Z,{variant:"h5",children:"Welcome to the Crop Recommendations Page"}),(0,r.jsx)(y.Z,{variant:"p",children:"Please select a province to start."})]})})]})]})},ne=[{label:"Select a province",description:"Select a province within the Bicol region.",opt_name:"sel_province"},{label:"Select a municipality",description:"Select a municipality included in the province you have selected on step no. 1.",opt_name:"sel_municipality"},{label:"Date",description:"Inclusive months are automatically selected.",opt_name:"sel_month"},{label:"Select a crop type",description:"Listed below are available crops for your selected province and municipality.",opt_name:"sel_crop"},{label:"Select a crop stage",description:"Listed below are the available crop stages for your selected crop on the current month.",opt_name:"sel_stage"},{label:"Select an activity",description:"Here are available activities for the previously-selected parameters.",opt_name:"sel_activity"}],te=t(6867);function re(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ie(e,n,t,r,i,l,a){try{var o=e[l](a),c=o.value}catch(s){return void t(s)}o.done?n(c):Promise.resolve(c).then(r,i)}function le(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){le(e,n,t[n])}))}return e}function oe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],a=!0,o=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);a=!0);}catch(c){o=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(o)throw i}}return l}}(e,n)||se(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,n){if(e){if("string"===typeof e)return re(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?re(e,n):void 0}}var ue={id:0,from:"weather_condition",label:null,date:(new Date).toDateString()},pe={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:[],sel_condition:ue,loading:!1,error:""};var de=function(e){var n=e.municipalities,t=void 0===n?[]:n,i=oe((0,D.ky)(f.o.STATIC_RECOMMENDATIONS,"data"),2),l=i[0],a=i[1],o=(0,u.useState)([]),c=o[0],m=o[1],b=(0,u.useState)([]),h=b[0],v=b[1],g=(0,u.useState)([]),x=g[0],_=g[1],y=(0,u.useState)([]),j=y[0],O=y[1],S=(0,u.useState)([]),Z=S[0],w=S[1],C=(0,u.useState)({}),R=C[0],k=C[1],E=(0,u.useState)({date_range:"",date_now:(new Date).toDateString()}),P=E[0],A=E[1],M=(0,u.useState)(pe),T=M[0],W=M[1],L=(0,u.useState)([]),N=L[0],B=L[1],V=(0,u.useState)([]),q=V[0],U=V[1],H=(0,u.useState)([]),J=H[0],Y=H[1],F=(0,u.useState)([]),$=F[0],z=F[1],X=(0,K.v9)((function(e){return e.tendayweather})).entities,G=(0,u.useState)([]),Q=G[0],re=G[1],se=(0,u.useRef)(!1),de=(0,K.I0)();(0,u.useEffect)((function(){return se.current=!0,function(){se.current=!1}}),[]),(0,u.useEffect)((function(){if(t.length>0&&!a){var e=(new Date).getMonth(),n=Object.values(I.re).find((function(n){return n.num===e})),r=[{id:n.code,label:n.format,num:n.num,disabled:!0}],i={},l=[];t.forEach((function(e,n){void 0===i[e.province]?(l.push({id:n,label:e.province}),i[e.province]=[{id:0,label:e.name}]):i[e.province].push({id:i[e.province].length,label:e.name})})),se.current&&(v(i),m(l),re(r),k(n))}}),[t,a]);var fe=function(){var e,n=(e=s().mark((function e(n,t){var r,i,a,o,c,u,f,m,b,v,g,y,S,Z,C,k,E,M,L,N,D;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from,i=t.label,w([]),!Object.keys(t).includes("id")){e.next=93;break}e.t0=r,e.next="province"===e.t0?6:"municipality"===e.t0?13:"crop"===e.t0?66:"cropstage"===e.t0?74:"activity"===e.t0?79:90;break;case 6:return W(ae({},T,{sel_province:t,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:[],sel_condition:ue})),B(h[i]),U([]),Y([]),z([]),de((0,te.R)(i)),e.abrupt("break",91);case 13:return Y([]),z([]),a=[],e.prev=16,W(ae({},T,{loading:!0,error:""})),e.next=20,(0,d.$K)(T.sel_province.label,i);case 20:o=e.sent,((a=o.map((function(e){return e.crop})).filter((function(e,n,t){return t.indexOf(e)===n}))).includes("Rainfed Rice")||a.includes("Irrigated Rice"))&&a.push("Rice"),se.current&&_((function(e){return o})),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(16),W((function(n){return ae({},n,{loading:!1,error:e.t1.message})}));case 29:if(0!==a.length){e.next=32;break}return W((function(e){return ae({},e,{loading:!1,error:"There was an error loading data."})})),e.abrupt("return");case 32:return e.prev=32,e.next=35,(0,p.OP)(T.sel_province.label,i);case 35:if(c=e.sent,u=Object.values(X).find((function(e){return e.municipality===i})),f=[],m=[],b=(b=(new Date).toDateString()).substring(0,b.length-5),void 0===u){e.next=54;break}if(v=JSON.parse(u.data).map((function(e){return new Date("".concat(e.day_format,", 2022")).getMonth()})).filter((function(e,n,t){return t.indexOf(e)===n})),g=JSON.parse(u.data).find((function(e){return e.day_format===b})),m=Object.values(I.re).filter((function(e){return v.includes(e.num)})).map((function(e){return e.code})),A(ae({},P,{date_range:g.date_range})),void 0!==g){e.next=51;break}return W((function(e){return ae({},e,{error:"10-Day weather data is not available for the current date."})})),e.abrupt("return");case 51:f=Object.values(I.MW).find((function(e){return e.tenday===g.rainfall}));case 52:e.next=56;break;case 54:return W((function(e){return ae({},e,{error:"10-Day weather data is not available for the municipality."})})),e.abrupt("return");case 56:y=[],(S=c.map((function(e){return e.crop})).filter((function(e,n,t){return t.indexOf(e)===n}))).forEach((function(e,n){var t=[];m.forEach((function(n){t=c.filter((function(t){return t.crop===e&&t.province===T.sel_province.label&&t.municipality===i&&""!==t[n]})).reduce((function(e,t){return t[n].split(",").forEach((function(n){e.includes(n)||e.push(n)})),ce(e)}),[])})),y.push({id:n,label:e,disabled:!a.includes(e)||0===t.length})})),se.current&&(U((function(e){return y})),O((function(e){return c})),Z=Object.values(I.re).filter((function(e){return m.includes(e.code)})).map((function(e){return{id:e.code,label:e.format,num:e.num,disabled:!0}})),re(Z),C=0===S.length?{id:"novalues",label:"No crop types for ".concat(i)}:null,W(ae({},T,{sel_municipality:t,sel_crop:C,sel_stage:null,sel_activity:null,sel_month:Z,loading:!1,error:"",sel_condition:{id:f.tenday,label:f.label,format:f.sync,date:P.date_now}}))),e.next=65;break;case 62:e.prev=62,e.t2=e.catch(32),W((function(n){return ae({},n,{loading:!1,error:e.t2.message})}));case 65:return e.abrupt("break",91);case 66:return Y([]),z([]),W(ae({},T,{sel_crop:t,sel_stage:null,sel_activity:null})),k=[],E=[],j.forEach((function(e,n){var t=R.code;if(""!==e[t]&&e.crop===i)for(var r=function(e){if(l[e].length>0&&!k.includes(l[e])){k.push(l[e]);var n=x.filter((function(n){return n.stage===I.MZ[l[e].toUpperCase()]&&("Rice"===i?["Irrigated Rice","Rainfed Rice"].includes(n.crop):n.crop===i)})).map((function(e){return e.activity})).filter((function(e,n,t){return t.indexOf(e)==n}));E.push({id:E.length,label:I.MZ[l[e].toUpperCase()],disabled:0===n.length})}},l=e[t].split(","),a=0;a<l.length;a+=1)r(a)})),Y(E),e.abrupt("break",91);case 74:return M=x.filter((function(e){return e.stage===i&&("Rice"===T.sel_crop.label?["Irrigated Rice","Rainfed Rice"].includes(e.crop):e.crop===T.sel_crop.label)})).map((function(e){return e.activity})).filter((function(e,n,t){return t.indexOf(e)==n})),L=0===M.length?{id:"novalues",label:"No activities for selected options"}:null,W(ae({},T,{sel_stage:t,sel_activity:L})),z((function(e){return M.map((function(e,n){return{id:n,label:e}}))})),e.abrupt("break",91);case 79:e.t3=regeneratorRuntime.keys(T);case 80:if((e.t4=e.t3()).done){e.next=86;break}if(N=e.t4.value,null!==T[N]||"sel_activity"===N){e.next=84;break}return e.abrupt("return");case 84:e.next=80;break;case 86:return D=x.filter((function(e){return e.activity===i&&e.stage===T.sel_stage.label&&("Rice"===T.sel_crop.label?["Irrigated Rice","Rainfed Rice"].includes(e.crop):e.crop===T.sel_crop.label)})).map((function(e){return{province:e.province,municipality:e.municipality,crop:e.crop,stage:e.stage,activity:e.activity,recommendations:function(){switch(T.sel_condition.label){case I.MW.BELOW_NORMAL.label:case I.MW.NORMAL.label:return JSON.parse(e.normal).map((function(e){return{id:l.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return l.subs.find((function(n){return n.id===e})).description}))}}));case I.MW.ABOVE_NORMAL.label:return JSON.parse(e.wetter).map((function(e){return{id:l.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return l.subs.find((function(n){return n.id===e})).description}))}}));case I.MW.WAY_BELOW_NORMAL.label:return JSON.parse(e.drier).map((function(e){return{id:l.mains.find((function(n){return n.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return l.subs.find((function(n){return n.id===e})).description}))}}))}}}})),W(ae({},T,{sel_activity:t})),w(D),e.abrupt("break",91);case 90:return e.abrupt("break",91);case 91:e.next=94;break;case 93:"province"===r?(W(pe),B([]),U([]),Y([]),z([])):"municipality"===r?(W(ae({},T,{sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:[],sel_condition:ue})),U([]),Y([]),z([])):"crop"===r?(W(ae({},T,{sel_crop:null,sel_stage:null,sel_activity:null,sel_month:[]})),Y([]),z([])):"month"===r?(W(ae({},T,le({sel_month:[],sel_stage:null,sel_activity:null},"sel_activity",null))),Y([]),z([])):"cropstage"===r?(W(ae({},T,{sel_stage:null,sel_activity:null})),z([])):"activity"===r&&W(ae({},T,{sel_activity:null}));case 94:case"end":return e.stop()}}),e,null,[[16,26],[32,62]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var l=e.apply(n,t);function a(e){ie(l,r,i,a,o,"next",e)}function o(e){ie(l,r,i,a,o,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return(0,r.jsx)(ee,{sel_options:T,provinces:c,recommendations:Z,optsmunicipalities:N,optscrops:q,optscropstages:J,optsactivities:$,optsmonths:Q,steps:ne,onSelectItemChange:fe,getStepLabel:function(e){var n=ne[e].opt_name,t="sel_month"!==n?null===T[n]?ne[e].label:"".concat(ne[e].label,": ").concat(T[n].label):0===T[n].length?ne[e].label:"".concat(ne[e].label,": ").concat(P.date_range);return"sel_month"!==n?null!==T[n]&&"novalues"===T[n].id?ne[e].label:t:0===T[n].length?ne[e].label:t},isContinueDisabled:function(e){switch(e){case 0:return null===T.sel_province;case 1:return null===T.sel_municipality;case 2:return T.sel_month===[];case 3:return null===T.sel_crop||"novalues"===T.sel_crop.id;case 4:return null===T.sel_stage||"novalues"===T.sel_stage.id;case 5:return null===T.sel_activity||"novalues"===T.sel_activity.id;default:return!1}}})};var fe=function(e){var n=e.municipalities,t=void 0===n?[]:n;return(0,r.jsxs)("div",{children:[(0,r.jsx)(o,{sx:{boxShadow:"none"}}),(0,r.jsx)("div",{id:"seasonal-recommendations"}),(0,r.jsx)(o,{sx:{marginTop:"80px",boxShadow:"none"},children:(0,r.jsx)(z,{municipalities:t})}),(0,r.jsx)("div",{id:"resilient-practices"}),(0,r.jsx)(o,{sx:{marginTop:"80px",boxShadow:"none"},children:(0,r.jsx)(de,{municipalities:t})})]})};var me=!0,be=function(e){var n=e.municipalities,t=void 0===n?[]:n;return(0,r.jsx)(fe,{municipalities:t})}}},function(e){e.O(0,[450,113,774,888,179],(function(){return n=7741,e(e.s=n);var n}));var n=e.O();_N_E=n}]);