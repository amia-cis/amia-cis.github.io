(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8031],{65468:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cropping-calendar",function(){return r(6314)}])},43370:function(e,n,r){"use strict";var t=r(85893),i=r(9008);n.Z=function(e){var n=e.title,r=e.ogDescription,a=e.ogImageURL,o=e.ogImgAlt,c=void 0===o?"Picture":o,l=e.ogSiteName,s=void 0===l?"ACAP-BICOL":l,u=e.ogURL;return(0,t.jsxs)(i.default,{children:[(0,t.jsx)("meta",{name:"description",content:r}),(0,t.jsx)("meta",{name:"og:description",content:r}),(0,t.jsx)("meta",{property:"og:title",content:n}),(0,t.jsx)("meta",{property:"og:site_name",content:s}),(0,t.jsx)("meta",{property:"og:image",content:a}),(0,t.jsx)("meta",{property:"og:image:width",content:"600"}),(0,t.jsx)("meta",{property:"og:image:height",content:"315"}),(0,t.jsx)("meta",{property:"og:image:alt",content:c}),(0,t.jsx)("meta",{property:"og:url",content:u}),(0,t.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,t.jsx)("meta",{name:"twitter:title",content:n}),(0,t.jsx)("meta",{name:"twitter:image",content:a}),(0,t.jsx)("title",{children:n})]})}},37634:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var t=r(85893),i=r(25675),a=r(87357),o=r(15861),c=r(26660),l={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var s=function(e){var n=e.message,r=void 0===n?"Failed to load data":n,s=e.style,u=void 0===s?{}:s;return(0,t.jsxs)(a.Z,{sx:l.container,style:u,children:[(0,t.jsx)(i.default,{unoptimized:!0,src:(0,c.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:c.imageLoader,alt:"Empty data"}),(0,t.jsx)(o.Z,{variant:"subtitle1",children:r})]})}},53577:function(e,n,r){"use strict";var t=r(85893),i=r(87357),a=r(98456);n.Z=function(e){var n=e.text,r=void 0===n?"":n,o=e.size,c=void 0===o?24:o,l=e.children;return(0,t.jsxs)(i.Z,{sx:{width:"100%",textAlign:"center",height:"20vh"},children:[(0,t.jsxs)(i.Z,{sx:{width:"100%",textAlign:"center",marginTop:function(e){return e.spacing(12)},marginBottom:"32px",display:"flex",justifyContent:"center"},children:[(0,t.jsx)("span",{children:""!==r?r:"Loading..."})," \xa0",(0,t.jsx)(a.Z,{size:c})]}),l]})}},6314:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return F},default:function(){return U}});var t=r(34051),i=r.n(t),a=r(85893),o=r(67294),c=r(15861),l=r(59111),s=r(88453),u=r(76490),p=r(47426),d=r(27179);function f(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function m(e){var n=(0,o.useState)(null),r=n[0],t=n[1],i=(0,o.useState)(""),a=i[0],c=i[1];return(0,o.useEffect)((function(){if(c(""),e)try{var n=Object.values(p.re).reduce((function(n,r){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){f(e,n,r[n])}))}return e}({},n,f({},r.code,e[r.code].split(",").map((function(e){return e===d.HB?"cropCalnocolor":"cropCal".concat(d.TE[e]||"nocolor")}))))}),{});t(n)}catch(r){c(r.message)}}),[e]),{stagesforviz:r,error:a}}var x=r(33050),g=r(23766),h=r(45697),v=r.n(h),b=r(98396),j=r(76295),y=r(87357),C=r(66242),Z=r(37634),w=r(50480),_=r(86886),P=r(36872),S=r(72890),O=r(61903),k=r(53577),E={wrapper:{marginTop:function(e){return e.spacing(8)},marginBottom:function(e){return e.spacing(12)}},autoMuni:{marginTop:function(e){return e.spacing(2)}},card:{height:{xs:"unset",md:"640px !important"},backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minHeight:"640px",minWidth:{xs:"200px",sm:"500px"},marginTop:function(e){return e.spacing(5)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5, h6":{marginBottom:function(e){return e.spacing(2)}}},calendar:{width:"100%",alignItems:"center","& .cropcal-cropname":{fontSize:{xs:"9px !important",sm:"12px !important",md:"unset !important"},whiteSpace:{xs:"unset",sm:"nowrap"}},"& .calendar-header-csystem":{fontSize:{xs:"12px",md:"16px"},textAlign:"center","& h6":{fontSize:{xs:"11px",sm:"unset"}}},"& .calendar-header-months":{display:"flex",fontSize:{xs:"11px",md:"1rem"},"& div":{width:"100%",textAlign:"center"},"& .monthlabels":{backgroundColor:"#092139",color:"#fff",padding:{xs:"8px 0 8px 0",sm:"8px 8px 8px 8px"}}},"& .cal-mo-container":{height:"32px",display:"flex","& div":{width:"100%",textAlign:"center"}},"& .cropCalprep":{backgroundColor:"#ffd966"},"& .cropCalgrow":{backgroundColor:"#375623"},"& .cropCalharv":{backgroundColor:"#203764"},"& .cropCalplant":{backgroundColor:"#a9d08e"},"& .cropCalnocolor, .cropCalbkank":{backgroundColor:"#f7f7ff"},cellBorderColor:{cropCalprep:"#ffd966",cropCalgrow:"#375623",cropCalharv:"#203764",cropCalplant:"#a9d08e",cropCalnocolor:"#f7f7ff",cropCalbkank:"rgba(0, 0, 0, 0.4)"}},legend:{"& ul":{listStyle:"none","& li":{marginRight:"10px",fontSize:"14px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}},errorMsg:{fontSize:"12px"},infoMsg:{fontSize:"12px"}};var N=function(){return(0,a.jsxs)(_.ZP,{container:!0,sx:E.calendar,children:[(0,a.jsx)(_.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,a.jsx)(_.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(p.re).map((function(e,n){return(0,a.jsx)(y.Z,{className:"cal-mo-container",style:{borderRight:"1px solid rgba(0, 0, 0, 0.4)"},children:(0,a.jsx)("div",{className:"cropCalnocolor"})},"cal-mo-itm-".concat(n,"-1"))}))})]})};function R(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function z(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){R(e,n,r[n])}))}return e}function A(e){var n=e.optsprovinces,r=e.optsmunicipalities,t=e.subcalendar,i=e.processedCalendar,o=e.sel_options,l=e.loading,s=e.onSelectItemChange,u=(0,b.Z)("(max-width:600px)");return(0,a.jsxs)(C.Z,{variant:"outlined",sx:E.card,children:[(0,a.jsxs)(_.ZP,{container:!0,maxWidth:"lg",spacing:5,alignItems:"bottom",sx:{marginBottom:"48px"},children:[(0,a.jsx)(_.ZP,{item:!0,xs:12,md:4,children:(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(c.Z,{variant:"h6",children:"Location Selector"}),(0,a.jsx)(j.Z,{disablePortal:!0,id:"province",size:"small",value:o.sel_province,disabled:0===n.length||l,options:n,renderInput:function(e){return(0,a.jsx)(O.Z,z({},e,{label:0===n.length?"Loading...":"Select a province"}))},isOptionEqualToValue:function(e,n){return e.label===n},onChange:function(e,n){return s(e,z({},n,{from:"province"}))}}),(0,a.jsx)(j.Z,{disablePortal:!0,id:"municipality",size:"small",value:o.sel_municipality,disabled:0===r.length||l,options:r,sx:E.autoMuni,renderInput:function(e){return(0,a.jsx)(O.Z,z({},e,{label:null===o.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return s(e,z({},n,{from:"municipality"}))}})]})}),(0,a.jsx)(_.ZP,{item:!0,xs:12,md:4,children:(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(c.Z,{variant:"h6",children:"Crop Type"}),(0,a.jsxs)(S.Z,{row:!0,"aria-labelledby":"crop-calendar-croptype-selector",name:"crop-calendar-croptype-selector",children:[(0,a.jsx)(w.Z,{value:"rice",control:(0,a.jsx)(P.Z,{onClick:function(e){return s(e,{label:"Rice",from:"rice"})}}),label:"Rice",checked:"Rice"===o.sel_crop,disabled:null===o.sel_municipality||l}),(0,a.jsx)(w.Z,{value:"corn",control:(0,a.jsx)(P.Z,{onClick:function(e){return s(e,{label:"Corn",from:"corn"})}}),label:"Corn",checked:"Corn"===o.sel_crop,disabled:!0})]})]})})]}),l&&""===o.error?(0,a.jsx)(k.Z,{text:"Loading data..."}):""!==o.error?(0,a.jsx)(Z.Z,{message:"Error loading data."}):null!==t&&void 0!==t||null===o.sel_municipality||null===o.sel_province?null!==t&&null!==i?(0,a.jsxs)(y.Z,{children:[(0,a.jsxs)(_.ZP,{container:!0,sx:E.calendar,children:[(0,a.jsx)(_.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem",children:(0,a.jsx)(c.Z,{variant:"subtitle1",children:(0,a.jsx)("strong",{children:"Crop Name"})})}),(0,a.jsx)(_.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(p.re).map((function(e,n){return(0,a.jsx)(y.Z,{className:"monthlabels",children:u?(0,a.jsx)("span",{children:e.format.substring(0,1)}):(0,a.jsx)("span",{children:e.format.substring(0,3)})},"cal-mo-".concat(n))}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N,{}),(0,a.jsxs)(_.ZP,{container:!0,sx:E.calendar,children:[(0,a.jsx)(_.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem cropcal-cropname",children:o.sel_crop}),(0,a.jsx)(_.ZP,{item:!0,xs:10,md:9,className:"calendar-header-months",children:Object.values(p.re).map((function(e,n){var r=i[e.code].length<=1?"1px solid rgba(0, 0, 0, 0.4)":"",t=E.calendar.cellBorderColor[i[e.code][0]],o=E.calendar.cellBorderColor[i[e.code][1]];return(0,a.jsxs)(y.Z,{className:"cal-mo-container",style:{borderRight:""!==r?r:o.includes("#f7f7ff")?"1px solid rgba(0, 0, 0, 0.4)":"1px solid ".concat(o)},children:[(0,a.jsx)("div",{style:{backgroundColor:t||"#f7f7ff"}}),(0,a.jsx)("div",{style:{backgroundColor:o||"#f7f7ff"}})]},"cal-mo-itm-".concat(n,"-1"))}))})]}),(0,a.jsx)(N,{})]}),(0,a.jsxs)(_.ZP,{container:!0,style:{marginTop:"32px"},children:[(0,a.jsx)(_.ZP,{item:!0,xs:2,md:3,className:"calendar-header-csystem"}),(0,a.jsxs)(_.ZP,{item:!0,xs:10,md:9,sx:E.legend,className:"calendar-header-months",children:[(0,a.jsx)("strong",{children:"Legend"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{style:{backgroundColor:"#ffd966"}}),"Preparation Stage"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{style:{backgroundColor:"#a9d08e"}}),"Newly Planted"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{style:{backgroundColor:"#375623"}}),"Vegetative/Reproductive"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{style:{backgroundColor:"#203764"}}),"Maturing"]})]})]})]})]}):(0,a.jsx)(y.Z,{sx:E.infoMsg,children:"Please select a province and a municipality."}):(0,a.jsx)(y.Z,{sx:E.infoMsg,children:"Data for the requested resource is not yet available."})]})}A.propTypes={optsprovinces:v().array,optsmunicipalities:v().array,subcalendar:v().object,processedCalendar:v().object,sel_options:v().object,loading:v().bool,onSelectItemChange:v().func};var L=A,T=r(43370);function I(e,n,r,t,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void r(s)}c.done?n(l):Promise.resolve(l).then(t,i)}function B(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function M(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){B(e,n,r[n])}))}return e}var D="Rice",H="Corn",V={sel_province:null,sel_municipality:null,sel_crop:D,error:""};var F=!0,U=function(e){var n=e.media,r=(0,o.useState)([]),t=r[0],p=r[1],d=(0,o.useState)(V),f=d[0],h=d[1],v=(0,o.useState)(null),b=v[0],j=v[1],y=(0,o.useState)([]),C=y[0],Z=y[1],w=(0,g.Z)(f.sel_province,t),_=(0,x.Z)(f.sel_province),P=_.cropcalendar,S=_.loading,O=_.error,k=(0,u.Z)(P,f.sel_municipality),E=m(b),N=E.stagesforviz,R=E.error,z=(0,o.useState)(!0),A=z[0],B=z[1],F=(0,o.useCallback)((function(e){j(P.find((function(n){return n.municipality===e&&n.crop===f.sel_crop})))}),[P,f.sel_crop]);return(0,o.useEffect)((function(){var e=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.$m)();case 3:n=e.sent,p(n.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function o(e){I(a,t,i,o,c,"next",e)}function c(e){I(a,t,i,o,c,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]),(0,o.useEffect)((function(){if(t.length>0){var e=(0,l.m)(t);Z(e),h((function(n){return M({},n,{sel_province:e[0].label})}))}}),[t]),(0,o.useEffect)((function(){var e,n;w.length>0&&P.length>0&&f.sel_province===(null!==(n=null===(e=P[0])||void 0===e?void 0:e.province)&&void 0!==n?n:"")&&(F(w[0].label),h((function(e){return M({},e,{sel_municipality:w[0].label})})))}),[w,P,F,f.sel_province]),(0,o.useEffect)((function(){B(S)}),[S]),(0,o.useEffect)((function(){if(""!==O||""!==R){var e=O||R;h((function(n){return M({},n,{error:e})}))}else h((function(e){return M({},e,{error:""})}))}),[O,R]),(0,a.jsxs)("div",{id:"bacap-cropping-calendar",children:[(0,a.jsx)(T.Z,{title:"Agro-Climatic Advisory Portal - Bicol (ACAP-BICOL) Cropping Calendar",ogDescription:n.description,ogImageURL:n.url,ogURL:n.path}),(0,a.jsx)(c.Z,{variant:"h4",children:"Cropping Calendar"}),(0,a.jsx)(c.Z,{variant:"label",children:"Cropping Calendar page"}),(0,a.jsx)(L,{optsprovinces:C,optsmunicipalities:w,subcalendar:b,processedCalendar:N,optscrops:k,sel_options:f,loading:A,onSelectItemChange:function(e,n){var r=n.label,t=n.from;if(""!==f.error&&h(M({},f,{error:""})),void 0!==r)switch(t){case"province":j(null),h(M({},V,{sel_province:r}));break;case"municipality":F(r),h(M({},f,{sel_municipality:r}));break;case D:case H:j(null),h(M({},f,{sel_crop:t}))}else"province"===t?h(V):"municipality"===t&&h(M({},f,{sel_municipality:null,sel_crop:null}))}})]})}},76490:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(67294);function i(e,n){var r=(0,t.useState)([]),i=r[0],a=r[1];return(0,t.useEffect)((function(){if(e&&n){var r=e&&n?e.filter((function(e){return e.municipality===n})).map((function(e){return e.crop})).filter((function(e,n,r){return r.indexOf(e)===n})).map((function(e,n){return{id:n,label:e,disabled:!1}})):[];a(r)}n||a([])}),[e,n]),i}},33050:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(34051),i=r.n(t),a=r(67294),o=r(32848);function c(e,n,r,t,i,a,o){try{var c=e[a](o),l=c.value}catch(s){return void r(s)}c.done?n(l):Promise.resolve(l).then(t,i)}function l(e){var n=(0,a.useState)([]),r=n[0],t=n[1],l=(0,a.useState)(!1),s=l[0],u=l[1],p=(0,a.useState)(""),d=p[0],f=p[1];return(0,a.useEffect)((function(){var n=function(){var n,r=(n=i().mark((function n(){var r,a,c,l,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,(0,o.i)(e);case 4:r=n.sent,u(!1),f(""),t(null!==(a=null===r||void 0===r?void 0:r.data)&&void 0!==a?a:[]),n.next=19;break;case 11:n.prev=11,n.t0=n.catch(0),s=null!==(l=null===n.t0||void 0===n.t0||null===(c=n.t0.response)||void 0===c?void 0:c.data)&&void 0!==l?l:n.t0.message,f(s),u(!1),t([]);case 19:case"end":return n.stop()}}),n,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(t,i){var a=n.apply(e,r);function o(e){c(a,t,i,o,l,"next",e)}function l(e){c(a,t,i,o,l,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();e&&(f(""),n())}),[e]),{cropcalendar:r,loading:s,error:d}}},23766:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(67294);function i(e,n){var r=(0,t.useState)([]),i=r[0],a=r[1];return(0,t.useEffect)((function(){var r,t;a(e&&n&&null!==(t=null===(r=n.find((function(n){return n.label===e})))||void 0===r?void 0:r.municipalities)&&void 0!==t?t:[])}),[e,n]),i}},27179:function(e,n,r){"use strict";function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}r.d(n,{ax:function(){return p},Xz:function(){return f},Vs:function(){return m},TE:function(){return d},HB:function(){return u}});var i,a,o="plant/trans",c="veg/repro",l="mat",s="lprep",u="none",p=(t(i={},s,"Preparation Stage"),t(i,o,"Newly Planted"),t(i,c,"Vegetative/Reproductive"),t(i,l,"Maturing"),i),d=(p["plant/trans"],p["veg/repro"],p.mat,p.lprep,t(a={},o,"plant"),t(a,c,"grow"),t(a,l,"harv"),t(a,s,"prep"),a),f=Object.keys(p).map((function(e){return e.toLowerCase()})),m=(Object.values(p),{FIRST_HALF:"1st_half",SECOND_HALF:"2nd_half"})},59111:function(e,n,r){"use strict";r.d(n,{m:function(){return t}});var t=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return e.map((function(e,r){return{id:r,label:e[n]}}))}}},function(e){e.O(0,[6284,2866,9964,9522,1903,6295,9845,9774,2888,179],(function(){return n=65468,e(e.s=n);var n}));var n=e.O();_N_E=n}]);