(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{7720:function(t,e,n){"use strict";var r=n(3366),i=n(7462),o=n(7294),a=n(6010),l=n(7192),c=n(1796),u=n(1496),s=n(3616),p=n(5097),f=n(5893);const d=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],h=(0,u.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,"vertical"===n.orientation&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&"vertical"===n.orientation&&e.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignLeft]}})((({theme:t,ownerState:e})=>(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:(0,c.Fq)(t.palette.divider,.08)},"inset"===e.variant&&{marginLeft:72},"middle"===e.variant&&"horizontal"===e.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===e.variant&&"vertical"===e.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===e.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:t,ownerState:e})=>(0,i.Z)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${t.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:t,ownerState:e})=>(0,i.Z)({},e.children&&"vertical"===e.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${t.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:t})=>(0,i.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),m=(0,u.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,"vertical"===n.orientation&&e.wrapperVertical]}})((({theme:t,ownerState:e})=>(0,i.Z)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===e.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}))),v=o.forwardRef((function(t,e){const n=(0,s.Z)({props:t,name:"MuiDivider"}),{absolute:o=!1,children:c,className:u,component:v=(c?"div":"hr"),flexItem:b=!1,light:g=!1,orientation:y="horizontal",role:x=("hr"!==v?"separator":void 0),textAlign:_="center",variant:w="fullWidth"}=n,j=(0,r.Z)(n,d),S=(0,i.Z)({},n,{absolute:o,component:v,flexItem:b,light:g,orientation:y,role:x,textAlign:_,variant:w}),C=(t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:c,variant:u}=t,s={root:["root",e&&"absolute",u,o&&"light","vertical"===a&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===c&&"vertical"!==a&&"textAlignRight","left"===c&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,l.Z)(s,p.V,r)})(S);return(0,f.jsx)(h,(0,i.Z)({as:v,className:(0,a.Z)(C.root,u),role:x,ref:e,ownerState:S},j,{children:c?(0,f.jsx)(m,{className:C.wrapper,ownerState:S,children:c}):null}))}));e.Z=v},5097:function(t,e,n){"use strict";n.d(e,{V:function(){return i}});var r=n(8979);function i(t){return(0,r.Z)("MuiDivider",t)}const o=(0,n(6087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);e.Z=o},5861:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var r=n(3366),i=n(7462),o=n(7294),a=n(6010),l=n(9707),c=n(7192),u=n(1496),s=n(3616),p=n(8216),f=n(8979);function d(t){return(0,f.Z)("MuiTypography",t)}(0,n(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=n(5893);const m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],"inherit"!==n.align&&e[`align${(0,p.Z)(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})((({theme:t,ownerState:e})=>(0,i.Z)({margin:0},e.variant&&t.typography[e.variant],"inherit"!==e.align&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16}))),b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},g={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var y=o.forwardRef((function(t,e){const n=(0,s.Z)({props:t,name:"MuiTypography"}),o=(t=>g[t]||t)(n.color),u=(0,l.Z)((0,i.Z)({},n,{color:o})),{align:f="inherit",className:y,component:x,gutterBottom:_=!1,noWrap:w=!1,paragraph:j=!1,variant:S="body1",variantMapping:C=b}=u,O=(0,r.Z)(u,m),Z=(0,i.Z)({},u,{align:f,color:o,className:y,component:x,gutterBottom:_,noWrap:w,paragraph:j,variant:S,variantMapping:C}),R=x||(j?"p":C[S]||b[S])||"span",P=(t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=t,l={root:["root",o,"inherit"!==t.align&&`align${(0,p.Z)(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,c.Z)(l,d,a)})(Z);return(0,h.jsx)(v,(0,i.Z)({as:R,ref:e,ownerState:Z,className:(0,a.Z)(P.root,y)},O))}))},7741:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agroclimatic-services",function(){return n(4443)}])},4443:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return it},default:function(){return ot}});var r=n(4051),i=n.n(r),o=n(5893),a=n(7294),l=n(4763);function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e,n,r,i,o,a){try{var l=t[o](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,l,"next",t)}function l(t){u(o,r,i,a,l,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){f(t,e,n[e])}))}return t}function m(t,e){return!e||"object"!==b(e)&&"function"!==typeof e?c(t):e}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}var b=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}var y="misc_crop_calendars",x="n_cropping_calendar_merged",_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(n,t);var e=g(n);function n(){var t;p(this,n);var r=c(t=e.apply(this,arguments));f(c(t),"getCropCalendarsHi",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getCollectionData(y,"filename");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var o=c(t);f(c(t),"getCroppingCalendarMerged",s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.getCollectionData(x,"id");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var a=c(t);return f(c(t),"getCroppingCalendarSimplified",function(){var t=s(i().mark((function t(e,n){var r,o,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e&&void 0!==n){t.next=2;break}return t.abrupt("return");case 2:return r=a.collection(a.db,x),o=a.query(r,a.where("province","==",e),a.where("municipality","==",n)),t.next=6,a.getDocs(o);case 6:return l=t.sent,c=l.docs.map((function(t){return h({},t.data())})),t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),t}return n}(l.Z),w=new _,j=(w.getCropCalendarsHi.bind(w),w.getCroppingCalendarMerged.bind(w),w.getCroppingCalendarSimplified.bind(w));function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e,n,r,i,o,a){try{var l=t[o](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,i)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){C(o,r,i,a,l,"next",t)}function l(t){C(o,r,i,a,l,"throw",t)}a(void 0)}))}}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function k(t,e){return!e||"object"!==A(e)&&"function"!==typeof e?S(t):e}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}var A=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}var T="rec_selections",W="n_crop_recommendations",N="n_list_recommendations",B="n_list_subrecommendations",D=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(n,t);var e=M(n);function n(){var t;Z(this,n);var r=S(t=e.apply(this,arguments));R(S(t),"getSelections",O(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getCollectionData(T,"prov");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var o=S(t);R(S(t),"getActivities",function(){var t=O(i().mark((function t(e){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return n=o.collection(o.db,T),r=o.query(n,o.where("prov","==",e)),t.next=6,o.getCollectionData(T,"",r);case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var a=S(t);R(S(t),"getRecommendations",function(){var t=O(i().mark((function t(e,n){var r,o,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e&&void 0!==n){t.next=2;break}return t.abrupt("return");case 2:return r=a.collection(a.db,W),o=a.query(r,a.where("province","==",e),a.where("municipality","==",n)),t.next=6,a.getCollectionData(W,"",o);case 6:return l=t.sent,t.abrupt("return",l);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());var l=S(t);R(S(t),"getMainCropRecommendations",O(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.getCollectionData(N,"id");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var c=S(t);return R(S(t),"getSubCropRecommendations",O(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getCollectionData(B,"id");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),t}return n}(l.Z),I=new D,L=(I.getSelections.bind(I),I.getActivities.bind(I),I.getRecommendations.bind(I)),V=(I.getMainCropRecommendations.bind(I),I.getSubCropRecommendations.bind(I),n(560)),q=n(1903),$=n(6295),U=n(7357),H=n(7720),J=n(5861),X=n(6886),z={container:{marginTop:function(t){return t.spacing(3)},minHeight:"400px"},controls:{marginTop:function(t){return t.spacing(6)}},selectContainer:{borderRight:{xs:"none",md:"1px solid gray"}},recsContainer:{paddingLeft:{sm:"none",md:"54px !important"}},autocomplete:{maxWidth:{sm:"100%",md:"310px"},marginBottom:function(t){return t.spacing(3)},marginTop:function(t){return t.spacing(1)}},conditionLegend:{maxWidth:{sm:"100%",md:"310px"},marginBottom:function(t){return t.spacing(3)},marginTop:function(t){return t.spacing(1)},padding:function(t){return t.spacing(1)},borderRadius:"4px",border:"1px solid grey",textAlign:"center"}},F=n(7426);function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){K(t,e,n[e])}))}return t}var Y=function(t){var e=t.sel_options,n=t.provinces,r=t.recommendations,i=t.onSelectItemChange,a=t.optsmunicipalities,l=t.optscrops,c=t.optscropstages,u=t.optsactivities,s=t.optsmonths,p=function(){var t="Loading...";return n.length>0&&(t=null===e.sel_province?"Select a province":"Province"),t};return(0,o.jsxs)(U.Z,{sx:{minHeight:"75vh"},id:"seasonal-recommendations",children:[(0,o.jsx)(J.Z,{variant:"h4",children:"Crop Recommendations"}),(0,o.jsx)(J.Z,{variant:"label",children:"Seasonal Recommendations"}),(0,o.jsxs)(X.ZP,{container:!0,spacing:2,sx:z.container,children:[(0,o.jsxs)(X.ZP,{item:!0,xs:12,md:4,sx:z.selectContainer,children:[(0,o.jsx)(J.Z,{variant:"subtitle2",children:"Select Parameters"}),(0,o.jsx)($.Z,{disablePortal:!0,id:"province",disabled:0===n.length,options:n,sx:z.autocomplete,renderInput:function(t){return(0,o.jsx)(q.Z,G({},t,{label:p()}))},onChange:function(t,e){return i(t,G({},e,{from:"province"}))}}),(0,o.jsx)($.Z,{disablePortal:!0,id:"municipality",value:e.sel_municipality,disabled:0===a.length,options:a,sx:z.autocomplete,renderInput:function(t){return(0,o.jsx)(q.Z,G({},t,{label:null===e.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(t,e){return t.label===e.label},onChange:function(t,e){return i(t,G({},e,{from:"municipality"}))}}),(0,o.jsx)($.Z,{disablePortal:!0,id:"crop",value:e.sel_crop,disabled:0===l.length,options:l,sx:z.autocomplete,renderInput:function(t){return(0,o.jsx)(q.Z,G({},t,{label:null===e.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(t,e){return t.label===e.label},onChange:function(t,e){return i(t,G({},e,{from:"crop"}))}}),(0,o.jsx)($.Z,{disablePortal:!0,id:"month",value:e.sel_month,disabled:0===s.length||null===e.sel_crop,options:s,sx:z.autocomplete,renderInput:function(t){return(0,o.jsx)(q.Z,G({},t,{label:null===e.sel_month?"Select a Month":"Month"}))},isOptionEqualToValue:function(t,e){return t.label===e.label},onChange:function(t,e){return i(t,G({},e,{from:"month"}))}}),(0,o.jsx)($.Z,{disablePortal:!0,id:"cropstage",value:e.sel_stage,disabled:0===c.length,options:c,sx:z.autocomplete,renderInput:function(t){return(0,o.jsx)(q.Z,G({},t,{label:null===e.sel_stage?"Select a crop stage":"Crop Stage"}))},isOptionEqualToValue:function(t,e){return t.label===e.label},onChange:function(t,e){return i(t,G({},e,{from:"cropstage"}))}}),(0,o.jsx)($.Z,{disablePortal:!0,id:"activity",value:e.sel_activity,disabled:0===u.length,options:u,sx:z.autocomplete,renderInput:function(t){return(0,o.jsx)(q.Z,G({},t,{label:null===e.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(t,e){return t.label===e.label},onChange:function(t,e){return i(t,G({},e,{from:"activity"}))}}),(0,o.jsx)("br",{}),(0,o.jsx)(H.Z,{}),(0,o.jsx)("br",{}),null!==e.sel_month&&(0,o.jsxs)(U.Z,{sx:z.conditionLegend,style:{backgroundColor:F.tN[e.sel_condition.label]},children:[(0,o.jsx)(J.Z,{variant:"subtitle2",children:"Seasonal Weather Condition"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e.sel_month.label})," \xa0",(0,o.jsxs)("span",{children:["".concat(e.sel_condition.label.charAt(0).toUpperCase()).concat(e.sel_condition.label.slice(1))," (",e.sel_condition.id,"%)"]})]})]})]}),(0,o.jsx)(X.ZP,{item:!0,xs:12,md:8,sx:z.recsContainer,children:(0,o.jsxs)("div",{children:[null!==e.sel_crop&&null!==e.sel_activity&&(0,o.jsxs)(J.Z,{variant:"h5",children:[e.sel_crop.label," Recommendations"]}),r.length>0&&r.map((function(t,n){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"".concat(e.sel_condition.label.charAt(0).toUpperCase()).concat(e.sel_condition.label.slice(1))}),t.recommendations().map((function(t,e){return t.ul?(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:t.id}),t.subs.length>0&&(0,o.jsx)("ul",{children:t.subs.map((function(t,e){return(0,o.jsx)("li",{children:t},"sub-".concat(n,"-").concat(e))}))})]},"main-".concat(n,"-").concat(e)):(0,o.jsx)("p",{children:t.id},"main-".concat(n,"-").concat(e))}))]},"rec-".concat(n))}))]})})]})]})},Q=n(7682);function tt(t,e,n,r,i,o,a){try{var l=t[o](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,i)}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){et(t,e,n[e])}))}return t}var rt={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null,sel_condition:{id:0,from:"weather_condition",label:F.MW.DRIER}};var it=!0,ot=function(t){var e=t.municipalities,n=void 0===e?[]:e,r=(0,Q.Kx)(N,"id"),l=r.documents,c=r.loading,u=(0,Q.Kx)(B,"id"),s=u.documents,p=u.loading,f=(0,Q.m$)(V.M.WEATHER_FORECASTS,"bicol",V.M.SUB_SEASONAL,"name"),d=f.documents,h=f.loading,m=(0,a.useState)([]),v=m[0],b=m[1],g=(0,a.useState)([]),y=g[0],x=g[1],_=(0,a.useState)([]),w=_[0],S=_[1],C=(0,a.useState)([]),O=C[0],Z=C[1],R=(0,a.useState)([]),P=R[0],k=R[1],E=(0,a.useState)({}),A=E[0],M=E[1],T=(0,a.useState)(rt),W=T[0],D=T[1],I=(0,a.useState)([]),q=I[0],$=I[1],U=(0,a.useState)([]),H=U[0],J=U[1],X=(0,a.useState)([]),z=X[0],K=X[1],G=(0,a.useState)([]),it=G[0],ot=G[1],at=(0,a.useState)([]),lt=at[0],ct=at[1],ut=(0,a.useRef)(!1);(0,a.useEffect)((function(){return ut.current=!0,function(){ut.current=!1}}),[]),(0,a.useEffect)((function(){if(n.length>0&&!c&&!p&&!h){var t={};d.forEach((function(e){var n=e.name.split("_").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ");t[n]={},e.months.forEach((function(e){t[n][e.mo]={label:e.con,val:e.val}}))}));var e=[];d[0].mos.forEach((function(t){e.push({id:F.re[t.toUpperCase()].code,label:F.re[t.toUpperCase()].format})}));var r={},i=[];n.forEach((function(t,e){void 0===r[t.province]?(i.push({id:e,label:t.province}),r[t.province]=[{id:0,label:t.name}]):r[t.province].push({id:r[t.province].length,label:t.name})})),ut.current&&(x(r),b(i),ct(e),M(t))}}),[n,d,c,p,h]);var st=function(){var t,e=(t=i().mark((function t(e,n){var r,o,a,c,u,p,f,d,h,m,v,b,g,x;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.from,o=n.label,k([]),!Object.keys(n).includes("id")){t.next=74;break}t.t0=r,t.next="province"===t.t0?6:"municipality"===t.t0?12:"crop"===t.t0?40:"month"===t.t0?44:"cropstage"===t.t0?54:"activity"===t.t0?60:71;break;case 6:return D(nt({},W,{sel_province:n,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),$(y[o]),J([]),K([]),ot([]),t.abrupt("break",72);case 12:return D(nt({},W,{sel_municipality:n,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),K([]),ot([]),t.prev=15,t.next=18,L(W.sel_province.label,o);case 18:a=t.sent,ut.current&&S((function(t){return a})),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(15),console.error(t.t1.message);case 25:return t.prev=25,t.next=28,j(W.sel_province.label,o);case 28:c=t.sent,u=[],c.map((function(t){return t.crop})).filter((function(t,e,n){return n.indexOf(t)==e})).forEach((function(t,e){u.push({id:e,label:t})})),J((function(t){return u})),ut.current&&Z((function(t){return c})),t.next=39;break;case 36:t.prev=36,t.t2=t.catch(25),console.error(t.t2.message);case 39:return t.abrupt("break",72);case 40:return K([]),ot([]),D(nt({},W,{sel_crop:n,sel_stage:null,sel_activity:null,sel_month:null})),t.abrupt("break",72);case 44:return p=A[W.sel_province.label][n.id].label,f=A[W.sel_province.label][n.id].val,ot([]),d=[],h=[],O.forEach((function(t,e){var r=Object.values(F.re).find((function(t){return t.format===n.label})).code;if(""!==t[r]&&t.crop===W.sel_crop.label)for(var i=t[r].split(","),o=0;o<i.length;o+=1)i[o].length>0&&!d.includes(i[o])&&(d.push(i[o]),h.push({id:h.length,label:F.MZ[i[o].toUpperCase()]}))})),m=0===h.length?{id:"novalues",label:"No crop stage for ".concat(o)}:null,K(h),D(nt({},W,{sel_month:n,sel_stage:m,sel_activity:null,sel_condition:{label:p,id:f}})),t.abrupt("break",72);case 54:return v=[],b=w.filter((function(t){return t.stage===o&&t.crop===W.sel_crop.label})).map((function(t){return t.activity})).filter((function(t,e,n){return n.indexOf(t)==e})),D(nt({},W,{sel_stage:n,sel_activity:null})),b.forEach((function(t,e){v.push({id:e,label:t})})),ot((function(t){return v})),t.abrupt("break",72);case 60:t.t3=regeneratorRuntime.keys(W);case 61:if((t.t4=t.t3()).done){t.next=67;break}if(g=t.t4.value,null!==W[g]||"sel_activity"===g){t.next=65;break}return t.abrupt("return");case 65:t.next=61;break;case 67:return x=w.filter((function(t){return t.activity===o&&t.stage===W.sel_stage.label&&t.crop===W.sel_crop.label})).map((function(t){return{province:t.province,municipality:t.municipality,crop:t.crop,stage:t.stage,activity:t.activity,recommendations:function(){switch(W.sel_condition.label){case F.MW.NORMAL:return JSON.parse(t.normal).map((function(t){return{id:l.find((function(e){return e.id===t.id})).description,ul:t.ul,subs:t.subs.map((function(t){return s.find((function(e){return e.id===t})).description}))}}));case F.MW.WETTER:return JSON.parse(t.wetter).map((function(t){return{id:l.find((function(e){return e.id===t.id})).description,ul:t.ul,subs:t.subs.map((function(t){return s.find((function(e){return e.id===t})).description}))}}));case F.MW.DRIER:return JSON.parse(t.drier).map((function(t){return{id:l.find((function(e){return e.id===t.id})).description,ul:t.ul,subs:t.subs.map((function(t){return s.find((function(e){return e.id===t})).description}))}}))}}}})),D(nt({},W,{sel_activity:n})),k(x),t.abrupt("break",72);case 71:return t.abrupt("break",72);case 72:t.next=75;break;case 74:"province"===r?(D(rt),$([]),J([]),K([]),ot([])):"municipality"===r?(D(nt({},W,{sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),J([]),K([]),ot([])):"crop"===r?(D(nt({},W,{sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),K([]),ot([])):"month"===r?(D(nt({},W,et({sel_month:null,sel_stage:null,sel_activity:null},"sel_activity",null))),K([]),ot([])):"cropstage"===r?(D(nt({},W,{sel_stage:null,sel_activity:null})),ot([])):"activity"===r&&D(nt({},W,{sel_activity:null}));case 75:case"end":return t.stop()}}),t,null,[[15,22],[25,36]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){tt(o,r,i,a,l,"next",t)}function l(t){tt(o,r,i,a,l,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();return(0,o.jsx)(Y,{sel_options:W,provinces:v,recommendations:P,optsmunicipalities:q,optscrops:H,optscropstages:z,optsactivities:it,optsmonths:lt,conditions:[{id:"norm",label:"Normal Conditions"},{id:"wet",label:"Wetter than Normal Conditions"},{id:"dry",label:"Drier than Normal Conditions"}],onSelectItemChange:st})}}},function(t){t.O(0,[903,295,802,774,888,179],(function(){return e=7741,t(t.s=e);var e}));var e=t.O();_N_E=e}]);