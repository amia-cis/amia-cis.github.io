(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{7720:function(e,t,n){"use strict";var r=n(3366),i=n(7462),a=n(7294),o=n(6010),l=n(7192),c=n(1796),s=n(1496),u=n(7623),p=n(5097),d=n(5893);const h=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],f=(0,s.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,c.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,i.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),m=(0,s.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),g=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:c,className:s,component:g=(c?"div":"hr"),flexItem:v=!1,light:b=!1,orientation:x="horizontal",role:_=("hr"!==g?"separator":void 0),textAlign:y="center",variant:w="fullWidth"}=n,Z=(0,r.Z)(n,h),j=(0,i.Z)({},n,{absolute:a,component:g,flexItem:v,light:b,orientation:x,role:_,textAlign:y,variant:w}),S=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:a,orientation:o,textAlign:c,variant:s}=e,u={root:["root",t&&"absolute",s,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===c&&"vertical"!==o&&"textAlignRight","left"===c&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,l.Z)(u,p.V,r)})(j);return(0,d.jsx)(f,(0,i.Z)({as:g,className:(0,o.Z)(S.root,s),role:_,ref:t,ownerState:j},Z,{children:c?(0,d.jsx)(m,{className:S.wrapper,ownerState:j,children:c}):null}))}));t.Z=g},5097:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(8979);function i(e){return(0,r.Z)("MuiDivider",e)}const a=(0,n(6087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=a},5861:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(3366),i=n(7462),a=n(7294),o=n(6010),l=n(9707),c=n(7192),s=n(1496),u=n(7623),p=n(8216),d=n(8979);function h(e){return(0,d.Z)("MuiTypography",e)}(0,n(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var f=n(5893);const m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,s.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,p.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var x=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTypography"}),a=(e=>b[e]||e)(n.color),s=(0,l.Z)((0,i.Z)({},n,{color:a})),{align:d="inherit",className:x,component:_,gutterBottom:y=!1,noWrap:w=!1,paragraph:Z=!1,variant:j="body1",variantMapping:S=v}=s,C=(0,r.Z)(s,m),O=(0,i.Z)({},s,{align:d,color:a,className:x,component:_,gutterBottom:y,noWrap:w,paragraph:Z,variant:j,variantMapping:S}),k=_||(Z?"p":S[j]||v[j])||"span",P=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:o}=e,l={root:["root",a,"inherit"!==e.align&&`align${(0,p.Z)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,c.Z)(l,h,o)})(O);return(0,f.jsx)(g,(0,i.Z)({as:k,ref:t,ownerState:O,className:(0,o.Z)(P.root,x)},C))}))},7741:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agroclimatic-services",function(){return n(8503)}])},8503:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return j},default:function(){return S}});var r=n(4051),i=n.n(r),a=n(5893),o=n(7294),l=n(7467),c=n(1903),s=n(6295),u=n(7357),p=n(7720),d=n(5861),h=n(6886),f={container:{marginTop:function(e){return e.spacing(3)},minHeight:"400px"},controls:{marginTop:function(e){return e.spacing(6)}},selectContainer:{borderRight:{xs:"none",md:"1px solid gray"}},recsContainer:{paddingLeft:{sm:"none",md:"54px !important"}},autocomplete:{maxWidth:{sm:"100%",md:"310px"},marginBottom:function(e){return e.spacing(3)},marginTop:function(e){return e.spacing(1)}},conditionLegend:{maxWidth:{sm:"100%",md:"310px"},marginBottom:function(e){return e.spacing(3)},marginTop:function(e){return e.spacing(1)},padding:function(e){return e.spacing(1)},borderRadius:"4px",border:"1px solid grey",textAlign:"center"}},m=n(4854);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var b=function(e){var t=e.sel_options,n=e.provinces,r=e.recommendations,i=e.onSelectItemChange,o=e.optsmunicipalities,l=e.optscrops,g=e.optscropstages,b=e.optsactivities,x=e.optsmonths,_=function(){var e="Loading...";return n.length>0&&(e=null===t.sel_province?"Select a province":"Province"),e};return(0,a.jsxs)(u.Z,{sx:{minHeight:"75vh"},id:"seasonal-recommendations",children:[(0,a.jsx)(d.Z,{variant:"h4",children:"Crop Recommendations"}),(0,a.jsx)(d.Z,{variant:"label",children:"Seasonal Recommendations"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,sx:f.container,children:[(0,a.jsxs)(h.ZP,{item:!0,xs:12,md:4,sx:f.selectContainer,children:[(0,a.jsx)(d.Z,{variant:"subtitle2",children:"Select Parameters"}),(0,a.jsx)(s.Z,{disablePortal:!0,id:"province",disabled:0===n.length,options:n,sx:f.autocomplete,renderInput:function(e){return(0,a.jsx)(c.Z,v({},e,{label:_()}))},onChange:function(e,t){return i(e,v({},t,{from:"province"}))}}),(0,a.jsx)(s.Z,{disablePortal:!0,id:"municipality",value:t.sel_municipality,disabled:0===o.length,options:o,sx:f.autocomplete,renderInput:function(e){return(0,a.jsx)(c.Z,v({},e,{label:null===t.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,v({},t,{from:"municipality"}))}}),(0,a.jsx)(s.Z,{disablePortal:!0,id:"crop",value:t.sel_crop,disabled:0===l.length,options:l,sx:f.autocomplete,renderInput:function(e){return(0,a.jsx)(c.Z,v({},e,{label:null===t.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,v({},t,{from:"crop"}))}}),(0,a.jsx)(s.Z,{disablePortal:!0,id:"month",value:t.sel_month,disabled:0===x.length||null===t.sel_crop,options:x,sx:f.autocomplete,renderInput:function(e){return(0,a.jsx)(c.Z,v({},e,{label:null===t.sel_month?"Select a Month":"Month"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,v({},t,{from:"month"}))}}),(0,a.jsx)(s.Z,{disablePortal:!0,id:"cropstage",value:t.sel_stage,disabled:0===g.length,options:g,sx:f.autocomplete,renderInput:function(e){return(0,a.jsx)(c.Z,v({},e,{label:null===t.sel_stage?"Select a crop stage":"Crop Stage"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,v({},t,{from:"cropstage"}))}}),(0,a.jsx)(s.Z,{disablePortal:!0,id:"activity",value:t.sel_activity,disabled:0===b.length,options:b,sx:f.autocomplete,renderInput:function(e){return(0,a.jsx)(c.Z,v({},e,{label:null===t.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,v({},t,{from:"activity"}))}}),(0,a.jsx)("br",{}),(0,a.jsx)(p.Z,{}),(0,a.jsx)("br",{}),null!==t.sel_month&&(0,a.jsxs)(u.Z,{sx:f.conditionLegend,style:{backgroundColor:m.tN[t.sel_condition.label]},children:[(0,a.jsx)(d.Z,{variant:"subtitle2",children:"Seasonal Weather Condition"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:t.sel_month.label})," \xa0",(0,a.jsxs)("span",{children:["".concat(t.sel_condition.label.charAt(0).toUpperCase()).concat(t.sel_condition.label.slice(1))," (",t.sel_condition.id,"%)"]})]})]})]}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:8,sx:f.recsContainer,children:(0,a.jsxs)("div",{children:[null!==t.sel_crop&&null!==t.sel_activity&&(0,a.jsxs)(d.Z,{variant:"h5",children:[t.sel_crop.label," Recommendations"]}),r.length>0&&r.map((function(e,n){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"".concat(t.sel_condition.label.charAt(0).toUpperCase()).concat(t.sel_condition.label.slice(1))}),e.recommendations().map((function(e,t){return e.ul?(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:e.id}),e.subs.length>0&&(0,a.jsx)("ul",{children:e.subs.map((function(e,t){return(0,a.jsx)("li",{children:e},"sub-".concat(n,"-").concat(t))}))})]},"main-".concat(n,"-").concat(t)):(0,a.jsx)("p",{children:e.id},"main-".concat(n,"-").concat(t))}))]},"rec-".concat(n))}))]})})]})]})};function x(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){x(a,r,i,o,l,"next",e)}function l(e){x(a,r,i,o,l,"throw",e)}o(void 0)}))}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}var Z={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null,sel_condition:{id:0,from:"weather_condition",label:m.MW.DRIER}};var j=!0,S=function(e){var t=e.municipalities,n=void 0===t?[]:t,r=(0,o.useState)([]),c=r[0],s=r[1],u=(0,o.useState)([]),p=u[0],d=u[1],h=(0,o.useState)([]),f=h[0],g=h[1],v=(0,o.useState)([]),x=v[0],j=v[1],S=(0,o.useState)([]),C=S[0],O=S[1],k=(0,o.useState)([]),P=k[0],R=k[1],E=(0,o.useState)([]),W=E[0],N=E[1],A=(0,o.useState)({}),M=A[0],T=A[1],I=(0,o.useState)(Z),B=I[0],V=I[1],L=(0,o.useState)([]),D=L[0],$=L[1],q=(0,o.useState)([]),U=q[0],J=q[1],X=(0,o.useState)([]),z=X[0],G=X[1],H=(0,o.useState)([]),F=H[0],K=H[1],Y=(0,o.useState)([]),Q=Y[0],ee=Y[1],te=(0,o.useRef)(!1);(0,o.useEffect)((function(){return te.current=!0,function(){te.current=!1}}),[]),(0,o.useEffect)((function(){var e=function(){var e=_(i().mark((function e(){var t,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Promise.all([(0,l.Mw)(),(0,l.Ob)(),(0,l.GV)("bicol","seasonal")]);case 5:t=e.sent,te.current&&(g((function(e){return t[0]})),j((function(e){return t[1]}))),r={},t[2].forEach((function(e){var t=e.name.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");r[t]={},e.months.forEach((function(e){r[t][e.mo]={label:e.con,val:e.val}}))})),a=[],t[2][0].mos.forEach((function(e){a.push({id:m.re[e.toUpperCase()].code,label:m.re[e.toUpperCase()].format})})),te.current&&(ee((function(e){return a})),T((function(e){return r}))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0.message);case 17:try{o={},c=[],n.forEach((function(e,t){void 0===o[e.province]?(c.push({id:t,label:e.province}),o[e.province]=[{id:0,label:e.name}]):o[e.province].push({id:o[e.province].length,label:e.name})})),te.current&&(d((function(e){return o})),s((function(e){return c})))}catch(i){console.error(i.message)}case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){return!0}}),[n]);var ne=function(){var e=_(i().mark((function e(t,n){var r,a,o,c,s,u,d,h,g,v,b,_,j,S;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.from,a=n.label,N([]),!Object.keys(n).includes("id")){e.next=74;break}e.t0=r,e.next="province"===e.t0?6:"municipality"===e.t0?12:"crop"===e.t0?40:"month"===e.t0?44:"cropstage"===e.t0?54:"activity"===e.t0?60:71;break;case 6:return V(w({},B,{sel_province:n,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),$(p[a]),J([]),G([]),K([]),e.abrupt("break",72);case 12:return V(w({},B,{sel_municipality:n,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),G([]),K([]),e.prev=15,e.next=18,(0,l.$K)(B.sel_province.label,a);case 18:o=e.sent,te.current&&O((function(e){return o})),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(15),console.error(e.t1.message);case 25:return e.prev=25,e.next=28,(0,l.OP)(B.sel_province.label,a);case 28:c=e.sent,s=[],c.map((function(e){return e.crop})).filter((function(e,t,n){return n.indexOf(e)==t})).forEach((function(e,t){s.push({id:t,label:e})})),J((function(e){return s})),te.current&&R((function(e){return c})),e.next=39;break;case 36:e.prev=36,e.t2=e.catch(25),console.error(e.t2.message);case 39:return e.abrupt("break",72);case 40:return G([]),K([]),V(w({},B,{sel_crop:n,sel_stage:null,sel_activity:null,sel_month:null})),e.abrupt("break",72);case 44:return u=M[B.sel_province.label][n.id].label,d=M[B.sel_province.label][n.id].val,K([]),h=[],g=[],P.forEach((function(e,t){var r=Object.values(m.re).find((function(e){return e.format===n.label})).code;if(""!==e[r]&&e.crop===B.sel_crop.label)for(var i=e[r].split(","),a=0;a<i.length;a+=1)i[a].length>0&&!h.includes(i[a])&&(h.push(i[a]),g.push({id:g.length,label:m.MZ[i[a].toUpperCase()]}))})),v=0===g.length?{id:"novalues",label:"No crop stage for ".concat(a)}:null,G(g),V(w({},B,{sel_month:n,sel_stage:v,sel_activity:null,sel_condition:{label:u,id:d}})),e.abrupt("break",72);case 54:return b=[],_=C.filter((function(e){return e.stage===a&&e.crop===B.sel_crop.label})).map((function(e){return e.activity})).filter((function(e,t,n){return n.indexOf(e)==t})),V(w({},B,{sel_stage:n,sel_activity:null})),_.forEach((function(e,t){b.push({id:t,label:e})})),K((function(e){return b})),e.abrupt("break",72);case 60:e.t3=regeneratorRuntime.keys(B);case 61:if((e.t4=e.t3()).done){e.next=67;break}if(j=e.t4.value,null!==B[j]||"sel_activity"===j){e.next=65;break}return e.abrupt("return");case 65:e.next=61;break;case 67:return S=C.filter((function(e){return e.activity===a&&e.stage===B.sel_stage.label&&e.crop===B.sel_crop.label})).map((function(e){return{province:e.province,municipality:e.municipality,crop:e.crop,stage:e.stage,activity:e.activity,recommendations:function(){switch(B.sel_condition.label){case m.MW.NORMAL:return JSON.parse(e.normal).map((function(e){return{id:f.find((function(t){return t.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return x.find((function(t){return t.id===e})).description}))}}));case m.MW.WETTER:return JSON.parse(e.wetter).map((function(e){return{id:f.find((function(t){return t.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return x.find((function(t){return t.id===e})).description}))}}));case m.MW.DRIER:return JSON.parse(e.drier).map((function(e){return{id:f.find((function(t){return t.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return x.find((function(t){return t.id===e})).description}))}}))}}}})),V(w({},B,{sel_activity:n})),N(S),e.abrupt("break",72);case 71:return e.abrupt("break",72);case 72:e.next=75;break;case 74:"province"===r?(V(Z),$([]),J([]),G([]),K([])):"municipality"===r?(V(w({},B,{sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),J([]),G([]),K([])):"crop"===r?(V(w({},B,{sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),G([]),K([])):"month"===r?(V(w({},B,y({sel_month:null,sel_stage:null,sel_activity:null},"sel_activity",null))),G([]),K([])):"cropstage"===r?(V(w({},B,{sel_stage:null,sel_activity:null})),K([])):"activity"===r&&V(w({},B,{sel_activity:null}));case 75:case"end":return e.stop()}}),e,null,[[15,22],[25,36]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,a.jsx)(b,{sel_options:B,provinces:c,recommendations:W,optsmunicipalities:D,optscrops:U,optscropstages:z,optsactivities:F,optsmonths:Q,conditions:[{id:"norm",label:"Normal Conditions"},{id:"wet",label:"Wetter than Normal Conditions"},{id:"dry",label:"Drier than Normal Conditions"}],onSelectItemChange:ne})}}},function(e){e.O(0,[903,295,785,774,888,179],(function(){return t=7741,e(e.s=t);var t}));var t=e.O();_N_E=t}]);