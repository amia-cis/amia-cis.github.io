(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{4838:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bulletins/weather",function(){return r(6043)}])},5322:function(n,e,r){"use strict";r.d(e,{UQ:function(){return f},_O:function(){return d},rN:function(){return p}});var t=r(5893),o=(r(7294),r(1496)),i=r(5716),a=r(7358),c=r(8895),u=r(2797);function s(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function l(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){s(n,e,r[e])}))}return n}var f=(0,o.ZP)((function(n){return(0,t.jsx)(a.Z,l({disableGutters:!0,elevation:0,square:!0},n))}))((function(n){n.theme;return{boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),d=(0,o.ZP)((function(n){return(0,t.jsx)(c.Z,l({expandIcon:(0,t.jsx)(i.Z,{sx:{fontSize:"0.9rem"}})},n))}))((function(n){var e=n.theme;return{backgroundColor:"dark"===e.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(180deg)"},"& .MuiAccordionSummary-content":{marginLeft:e.spacing(1)}}})),p=(0,o.ZP)(u.Z)((function(n){return{padding:n.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}))},6652:function(n,e,r){"use strict";r.d(e,{Z:function(){return u}});var t=r(5893),o=r(2963),i=r(122),a=r(1664),c={breacrumbs:{"& a":{color:function(n){return n.palette.secondary.main},textDecoration:"none"},"& a:visited":{color:"#000"},"& a:hover, span:hover":{color:function(n){return n.palette.primary.dark}},fontSize:"16px",marginTop:function(n){return n.spacing(2)}}};var u=function(n){var e=n.navdata;return(0,t.jsx)(o.Z,{"aria-label":"breadcrumb",sx:c.breacrumbs,children:e.map((function(n,e){return void 0!==n.href?(0,t.jsx)(i.Z,{underline:"hover",color:"inherit",children:(0,t.jsx)(a.default,{href:n.href,passHref:!0,children:(0,t.jsx)("span",{children:n.name})})},"bcd-".concat(e)):(0,t.jsx)("div",{color:"text.primary",children:n.name},"bcd-".concat(e))}))})}},6256:function(n,e,r){"use strict";var t=r(5893),o=r(5322),i=r(8456),a=r(6886),c=r(5861),u=r(6652),s=r(3508),l=r(2665),f=r(8462),d=r(7212),p=r(7594),x=r(9334),b=r(9675);e.Z=function(n){var e=n.provinces,r=n.bulletins,h=n.handleClick,m=n.subtitle,v=void 0===m?"":m;return(0,t.jsxs)("div",{role:"presentation",children:[(0,t.jsx)(c.Z,{variant:"h4",children:"Bulletins"}),(0,t.jsx)(c.Z,{variant:"h5",children:v}),(0,t.jsx)(u.Z,{navdata:[{name:"Bulletins",href:"/bulletins"},{name:v}]}),(0,t.jsx)(a.ZP,{container:!0,justifyContent:"center",sx:{width:"100%",marginTop:function(n){return n.spacing(6)}},children:(0,t.jsx)(a.ZP,{item:!0,xs:10,children:e.map((function(n,e){return(0,t.jsxs)(o.UQ,{sx:{maxWidth:"720px"},defaultExpanded:0===e,children:[(0,t.jsx)(o._O,{expandIcon:(0,t.jsx)(s.Z,{}),"aria-controls":"panel1-content",children:(0,t.jsx)(c.Z,{variant:"subtitle1",children:n})}),void 0!==r[n]&&(0,t.jsx)(o.rN,{children:r[n].map((function(n,e){return(0,t.jsx)(f.Z,{dense:!0,sx:{padding:0},children:(0,t.jsxs)(d.ZP,{children:[(0,t.jsx)(p.Z,{children:(0,t.jsx)(l.Z,{})}),(0,t.jsx)(x.Z,{sx:b.Z.listItem,primary:(0,t.jsx)("a",{href:"#",onClick:function(){return h(n.province,n.filename)},children:n.filename}),secondary:"Created on ".concat(n.date_created," ").concat(""!==n.error?"Error: ".concat(n.error):""),primaryTypographyProps:{fontSize:"14px"},secondaryTypographyProps:{fontSize:"11px"}}),(0,t.jsx)(i.Z,{size:20,color:"third",sx:{display:n.loading?"block":"none"}})]})},"acc-sub-".concat(e))}))})]},"acc-".concat(e))}))})})]})}},9675:function(n,e){"use strict";e.Z={listItem:{"& a":{color:function(n){return n.palette.text.primary},textDecoration:"none"},"& a:hover":{color:function(n){return n.palette.third.main},textDecoration:"none"}}}},6043:function(n,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return v}});var t=r(4051),o=r.n(t),i=r(5893),a=r(7294),c=r(9669),u=r.n(c),s=r(6256),l=r(7682),f=r(3981),d=r(7426);function p(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function x(n,e,r,t,o,i,a){try{var c=n[i](a),u=c.value}catch(s){return void r(s)}c.done?e(u):Promise.resolve(u).then(t,o)}function b(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function h(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){b(n,e,r[e])}))}return n}function m(n){return function(n){if(Array.isArray(n))return p(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return p(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=!0;e.default=function(n){var e=n.villages,r=(0,l.Kx)(d.Do.PDF_CROPS_TENDAY,"idstr").documents,t=(0,a.useState)([]),c=t[0],p=t[1],b=(0,a.useState)({}),v=b[0],y=b[1];(0,a.useEffect)((function(){var n=e.map((function(n){return n.province})).filter((function(n,e,r){return r.indexOf(n)===e}));p((function(e){return n}))}),[e]),(0,a.useEffect)((function(){if(r.length>0){var n={};r.forEach((function(e){void 0===n[e.province]&&(n[e.province]=[]),n[e.province].push({province:e.province,filename:e.filename,date_created:e.date_created.toDate().toDateString(),loading:!1,error:""})})),y(n)}}),[r]);var g=function(n,e,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=m(v[n]),i=o.map((function(n){return n.filename})).filter((function(n,e,r){return r.indexOf(n)===e})).indexOf(e);if(!(i>=0))throw new Error("Index not found.");o[i].loading=r,o[i].error=t,y(h({},v,{province:o}))},j=function(){var n,e=(n=o().mark((function n(e,r){var t,i,a,c,s,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,g(e,r,!0),n.next=4,(0,f.y8)(r,d.Ry.TEN_DAY);case 4:return t=n.sent,n.next=7,u().get(t,{responseType:"blob"});case 7:i=n.sent,a=t.substr(t.indexOf("bulletins_tenday%2F")+19,t.length),c=a.substr(0,a.indexOf("?")),s=window.URL.createObjectURL(new Blob([i.data])),(l=document.createElement("a")).href=s,l.setAttribute("download",decodeURI(c)),document.body.appendChild(l),l.click(),document.body.removeChild(l),g(e,r,!1),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(0),g(e,r,!1,n.t0.message);case 23:case"end":return n.stop()}}),n,null,[[0,20]])})),function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(n){x(i,t,o,a,c,"next",n)}function c(n){x(i,t,o,a,c,"throw",n)}a(void 0)}))});return function(n,r){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var n=e.map((function(n){return n.province})).filter((function(n,e,r){return r.indexOf(n)===e}));p((function(e){return n}))}),[e]),(0,i.jsx)("div",{id:"acap-bulletins-10day",children:(0,i.jsx)(s.Z,{provinces:c,bulletins:v,handleClick:j,subtitle:"10-Day Farm Weather Outlook"})})}},3981:function(n,e,r){"use strict";r.d(e,{y8:function(){return o}});var t=new(r(1029).d),o=(t.getPageMediaAssets.bind(t),t.getTyphoonAdvisory.bind(t),t.getPdfDownloadURL.bind(t))}},function(n){n.O(0,[9351,6153,1704,7823,5658,6454,9774,2888,179],(function(){return e=4838,n(n.s=e);var e}));var e=n.O();_N_E=e}]);