(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{7720:function(e,t,n){"use strict";var r=n(3366),i=n(7462),a=n(7294),o=n(6010),c=n(7192),s=n(1796),l=n(1496),u=n(3616),p=n(5097),d=n(5893);const f=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],h=(0,l.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,s.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,i.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),m=(0,l.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),g=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:s,className:l,component:g=(s?"div":"hr"),flexItem:v=!1,light:b=!1,orientation:_="horizontal",role:x=("hr"!==g?"separator":void 0),textAlign:C="center",variant:y="fullWidth"}=n,w=(0,r.Z)(n,f),R=(0,i.Z)({},n,{absolute:a,component:g,flexItem:v,light:b,orientation:_,role:x,textAlign:C,variant:y}),S=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:a,orientation:o,textAlign:s,variant:l}=e,u={root:["root",t&&"absolute",l,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,c.Z)(u,p.V,r)})(R);return(0,d.jsx)(h,(0,i.Z)({as:g,className:(0,o.Z)(S.root,l),role:x,ref:t,ownerState:R},w,{children:s?(0,d.jsx)(m,{className:S.wrapper,ownerState:R,children:s}):null}))}));t.Z=g},5097:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(8979);function i(e){return(0,r.Z)("MuiDivider",e)}const a=(0,n(6087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=a},5861:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(3366),i=n(7462),a=n(7294),o=n(6010),c=n(9707),s=n(7192),l=n(1496),u=n(3616),p=n(8216),d=n(8979);function f(e){return(0,d.Z)("MuiTypography",e)}(0,n(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=n(5893);const m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,p.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var _=a.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTypography"}),a=(e=>b[e]||e)(n.color),l=(0,c.Z)((0,i.Z)({},n,{color:a})),{align:d="inherit",className:_,component:x,gutterBottom:C=!1,noWrap:y=!1,paragraph:w=!1,variant:R="body1",variantMapping:S=v}=l,E=(0,r.Z)(l,m),O=(0,i.Z)({},l,{align:d,color:a,className:_,component:x,gutterBottom:C,noWrap:y,paragraph:w,variant:R,variantMapping:S}),P=x||(w?"p":S[R]||v[R])||"span",A=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:o}=e,c={root:["root",a,"inherit"!==e.align&&`align${(0,p.Z)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,s.Z)(c,f,o)})(O);return(0,h.jsx)(g,(0,i.Z)({as:P,ref:t,ownerState:O,className:(0,o.Z)(A.root,_)},E))}))},7741:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agroclimatic-services",function(){return n(6670)}])},6670:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return L},default:function(){return D}});var r=n(4051),i=n.n(r),a=n(5893),o=n(7294),c=n(5048),s=n(5321);function l(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,c,"next",e)}function c(e){l(a,r,i,o,c,"throw",e)}o(void 0)}))}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this;d(this,"getSelections",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCollectionData(t.CROP_REC_ACTIVITY_SELECTION,"prov");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var n=this;d(this,"getProvinces",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCollectionData(n.CROP_REC_PROVINCES,"id");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var r=this;d(this,"getMunicipalities",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getCollectionData(r.CROP_REC_MUNICIPALITIES,"id");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var a=this;d(this,"getActivities",function(){var e=u(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=(0,s.hJ)(c.db,a.CROP_REC_ACTIVITY_SELECTION),r=(0,s.IO)(n,(0,s.ar)("prov","==",t)),e.next=6,a.getCollectionData(a.CROP_REC_ACTIVITY_SELECTION,"",r);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var o=this;d(this,"getVillages",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getCollectionData(o.VILLAGES,"barangay");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var l=this;d(this,"getCropCalendarsHi",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getCollectionData(l.CROP_CALENDARS,"filename");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var p=this;d(this,"getRegionProvinces",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getCollectionData(p.REGIONS,"province");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var h=this;d(this,"getWeatherForecast",function(){var e=u(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getNestedCollectionData(h.WEATHER_FORECASTS,t,n,"name");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var m=this;d(this,"getRecommendations",function(){var e=u(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&void 0!==n){e.next=2;break}return e.abrupt("return");case 2:return r=(0,s.hJ)(c.db,m.CROP_REC_RECOMMENDATIONS),a=(0,s.IO)(r,(0,s.ar)("province","==",t),(0,s.ar)("municipality","==",n)),e.next=6,m.getCollectionData(m.CROP_REC_RECOMMENDATIONS,"",a);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var g=this;d(this,"getMainCropRecommendations",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getCollectionData(g.CROP_REC_LIST_RECS_MAIN,"id");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var v=this;d(this,"getSubCropRecommendations",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getCollectionData(v.CROP_REC_LIST_RECS_SUB,"id");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var b=this;d(this,"getCroppingCalendarMerged",u(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getCollectionData(b.CROPPING_CALENDAR_MERGED,"id");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));var _=this;d(this,"getCroppingCalendarSimplified",function(){var e=u(i().mark((function e(t,n){var r,a,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&void 0!==n){e.next=2;break}return e.abrupt("return");case 2:return r=(0,s.hJ)(c.db,_.CROPPING_CALENDAR_MERGED),a=(0,s.IO)(r,(0,s.ar)("province","==",t),(0,s.ar)("municipality","==",n)),e.next=6,(0,s.PL)(a);case 6:return o=e.sent,l=o.docs.map((function(e){return f({},e.data())})),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var x=this;d(this,"getPageMediaAssets",function(){var e=u(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,x.getCollectionData(x.MEDIA_ASSETS,"filename");case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.error(e.t0.message),new Error(e.t0.message);case 11:return e.abrupt("return",n.length>0?n.filter((function(e){return e.page===t})).map((function(e){return e.url})):n);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}());var C=this;d(this,"getTyphoonAdvisory",u(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.JU)(c.db,C.GLOBAL_COLLECTIONS,C.TYPHOON_ADVISORY),e.next=3,(0,s.QT)(t);case 3:if(!(n=e.sent).exists()){e.next=6;break}return e.abrupt("return",n.data());case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})))),this.CROP_REC_ACTIVITY_SELECTION="rec_selections",this.VILLAGES="villages",this.CROP_CALENDARS="misc_crop_calendars",this.REGIONS="const_regions",this.CROP_REC_RECOMMENDATIONS="n_crop_recommendations",this.CROP_REC_PROVINCES="n_provinces",this.CROP_REC_MUNICIPALITIES="n_municipalities",this.CROP_REC_CROPS="n_crops",this.CROP_REC_STAGES="n_crop_stages",this.CROP_REC_ACTIVITIES="n_activities",this.CROP_REC_LIST_RECS_MAIN="n_list_recommendations",this.CROP_REC_LIST_RECS_SUB="n_list_subrecommendations",this.CROPPING_CALENDAR_MERGED="n_cropping_calendar_merged",this.MEDIA_ASSETS="n_page_media",this.WEATHER_FORECASTS="weather_forecasts",this.TYPHOON_ADVISORY="typhoon_advisory",this.GLOBAL_COLLECTIONS="w_services"}var t,n,r;return t=e,n=[{key:"getCollectionData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return u(i().mark((function r(){var a,o,l,u;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=(0,s.hJ)(c.db,e),o=n||(0,s.IO)(a,(0,s.Xo)(t,"asc")),r.next=4,(0,s.PL)(o);case 4:return l=r.sent,u=l.docs.map((function(e){return f({},e.data())})),r.abrupt("return",u);case 7:case"end":return r.stop()}}),r)})))()}},{key:"getNestedCollectionData",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return u(i().mark((function a(){var o,l,u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=(0,s.IO)((0,s.hJ)(c.db,e,t,n),(0,s.Xo)(r)),i.next=3,(0,s.PL)(o);case 3:return l=i.sent,u=l.docs.map((function(e){return f({},e.data())})),i.abrupt("return",u);case 6:case"end":return i.stop()}}),a)})))()}},{key:"getSeasonalMonths",value:function(){var e=this;return u(i().mark((function t(){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,s.IO)((0,s.hJ)(c.db,e.WEATHER_FORECASTS,"bicol","seasonal"),(0,s.Xo)("name"),(0,s.b9)(1)),t.next=3,(0,s.PL)(n);case 3:return r=t.sent,a=r.docs.map((function(e){return f({},e.data())})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))()}}],n&&p(t.prototype,n),r&&p(t,r),e}(),m=new h,g=(m.getSelections.bind(m),m.getProvinces.bind(m),m.getActivities.bind(m),m.getVillages.bind(m),m.getRegionProvinces.bind(m),m.getCropCalendarsHi.bind(m),m.getMunicipalities.bind(m),m.getRecommendations.bind(m)),v=m.getMainCropRecommendations.bind(m),b=m.getSubCropRecommendations.bind(m),_=m.getWeatherForecast.bind(m),x=(m.getSeasonalMonths.bind(m),m.getTyphoonAdvisory.bind(m),m.getCroppingCalendarMerged.bind(m),m.getCroppingCalendarSimplified.bind(m)),C=(m.getPageMediaAssets.bind(m),n(1903)),y=n(6295),w=n(7357),R=n(7720),S=n(5861),E=n(6886),O={container:{marginTop:function(e){return e.spacing(3)},minHeight:"400px"},controls:{marginTop:function(e){return e.spacing(6)}},selectContainer:{borderRight:{xs:"none",md:"1px solid gray"}},recsContainer:{paddingLeft:{sm:"none",md:"54px !important"}},autocomplete:{maxWidth:{sm:"100%",md:"310px"},marginBottom:function(e){return e.spacing(3)},marginTop:function(e){return e.spacing(1)}},conditionLegend:{maxWidth:{sm:"100%",md:"310px"},marginBottom:function(e){return e.spacing(3)},marginTop:function(e){return e.spacing(1)},padding:function(e){return e.spacing(1)},borderRadius:"4px",border:"1px solid grey",textAlign:"center"}},P=n(4854);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}var T=function(e){var t=e.sel_options,n=e.provinces,r=e.recommendations,i=e.onSelectItemChange,o=e.optsmunicipalities,c=e.optscrops,s=e.optscropstages,l=e.optsactivities,u=e.optsmonths,p=function(){var e="Loading...";return n.length>0&&(e=null===t.sel_province?"Select a province":"Province"),e};return(0,a.jsxs)(w.Z,{sx:{minHeight:"75vh"},id:"seasonal-recommendations",children:[(0,a.jsx)(S.Z,{variant:"h4",children:"Crop Recommendations"}),(0,a.jsx)(S.Z,{variant:"label",children:"Seasonal Recommendations"}),(0,a.jsxs)(E.ZP,{container:!0,spacing:2,sx:O.container,children:[(0,a.jsxs)(E.ZP,{item:!0,xs:12,md:4,sx:O.selectContainer,children:[(0,a.jsx)(S.Z,{variant:"subtitle2",children:"Select Parameters"}),(0,a.jsx)(y.Z,{disablePortal:!0,id:"province",disabled:0===n.length,options:n,sx:O.autocomplete,renderInput:function(e){return(0,a.jsx)(C.Z,I({},e,{label:p()}))},onChange:function(e,t){return i(e,I({},t,{from:"province"}))}}),(0,a.jsx)(y.Z,{disablePortal:!0,id:"municipality",value:t.sel_municipality,disabled:0===o.length,options:o,sx:O.autocomplete,renderInput:function(e){return(0,a.jsx)(C.Z,I({},e,{label:null===t.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,I({},t,{from:"municipality"}))}}),(0,a.jsx)(y.Z,{disablePortal:!0,id:"crop",value:t.sel_crop,disabled:0===c.length,options:c,sx:O.autocomplete,renderInput:function(e){return(0,a.jsx)(C.Z,I({},e,{label:null===t.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,I({},t,{from:"crop"}))}}),(0,a.jsx)(y.Z,{disablePortal:!0,id:"month",value:t.sel_month,disabled:0===u.length||null===t.sel_crop,options:u,sx:O.autocomplete,renderInput:function(e){return(0,a.jsx)(C.Z,I({},e,{label:null===t.sel_month?"Select a Month":"Month"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,I({},t,{from:"month"}))}}),(0,a.jsx)(y.Z,{disablePortal:!0,id:"cropstage",value:t.sel_stage,disabled:0===s.length,options:s,sx:O.autocomplete,renderInput:function(e){return(0,a.jsx)(C.Z,I({},e,{label:null===t.sel_stage?"Select a crop stage":"Crop Stage"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,I({},t,{from:"cropstage"}))}}),(0,a.jsx)(y.Z,{disablePortal:!0,id:"activity",value:t.sel_activity,disabled:0===l.length,options:l,sx:O.autocomplete,renderInput:function(e){return(0,a.jsx)(C.Z,I({},e,{label:null===t.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return i(e,I({},t,{from:"activity"}))}}),(0,a.jsx)("br",{}),(0,a.jsx)(R.Z,{}),(0,a.jsx)("br",{}),null!==t.sel_month&&(0,a.jsxs)(w.Z,{sx:O.conditionLegend,style:{backgroundColor:P.tN[t.sel_condition.label]},children:[(0,a.jsx)(S.Z,{variant:"subtitle2",children:"Seasonal Weather Condition"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:t.sel_month.label})," \xa0",(0,a.jsxs)("span",{children:["".concat(t.sel_condition.label.charAt(0).toUpperCase()).concat(t.sel_condition.label.slice(1))," (",t.sel_condition.id,"%)"]})]})]})]}),(0,a.jsx)(E.ZP,{item:!0,xs:12,md:8,sx:O.recsContainer,children:(0,a.jsxs)("div",{children:[null!==t.sel_crop&&null!==t.sel_activity&&(0,a.jsxs)(S.Z,{variant:"h5",children:[t.sel_crop.label," Recommendations"]}),r.length>0&&r.map((function(e,n){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"".concat(t.sel_condition.label.charAt(0).toUpperCase()).concat(t.sel_condition.label.slice(1))}),e.recommendations().map((function(e,t){return e.ul?(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:e.id}),e.subs.length>0&&(0,a.jsx)("ul",{children:e.subs.map((function(e,t){return(0,a.jsx)("li",{children:e},"sub-".concat(n,"-").concat(t))}))})]},"main-".concat(n,"-").concat(t)):(0,a.jsx)("p",{children:e.id},"main-".concat(n,"-").concat(t))}))]},"rec-".concat(n))}))]})})]})]})};function j(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){j(a,r,i,o,c,"next",e)}function c(e){j(a,r,i,o,c,"throw",e)}o(void 0)}))}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}var M={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null,sel_condition:{id:0,from:"weather_condition",label:P.MW.DRIER}};var L=!0,D=function(e){var t=e.municipalities,n=void 0===t?[]:t,r=(0,o.useState)([]),c=r[0],s=r[1],l=(0,o.useState)([]),u=l[0],p=l[1],d=(0,o.useState)([]),f=d[0],h=d[1],m=(0,o.useState)([]),C=m[0],y=m[1],w=(0,o.useState)([]),R=w[0],S=w[1],E=(0,o.useState)([]),O=E[0],A=E[1],I=(0,o.useState)([]),j=I[0],L=I[1],D=(0,o.useState)({}),W=D[0],V=D[1],B=(0,o.useState)(M),G=B[0],J=B[1],U=(0,o.useState)([]),H=U[0],Y=U[1],F=(0,o.useState)([]),$=F[0],q=F[1],X=(0,o.useState)([]),z=X[0],Q=X[1],K=(0,o.useState)([]),ee=K[0],te=K[1],ne=(0,o.useState)([]),re=ne[0],ie=ne[1],ae=(0,o.useRef)(!1);(0,o.useEffect)((function(){return ae.current=!0,function(){ae.current=!1}}),[]),(0,o.useEffect)((function(){var e=function(){var e=N(i().mark((function e(){var t,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Promise.all([v(),b(),_("bicol","seasonal")]);case 5:t=e.sent,ae.current&&(h((function(e){return t[0]})),y((function(e){return t[1]}))),r={},t[2].forEach((function(e){var t=e.name.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");r[t]={},e.months.forEach((function(e){r[t][e.mo]={label:e.con,val:e.val}}))})),a=[],t[2][0].mos.forEach((function(e){a.push({id:P.re[e.toUpperCase()].code,label:P.re[e.toUpperCase()].format})})),ae.current&&(ie((function(e){return a})),V((function(e){return r}))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0.message);case 17:try{o={},c=[],n.forEach((function(e,t){void 0===o[e.province]?(c.push({id:t,label:e.province}),o[e.province]=[{id:0,label:e.name}]):o[e.province].push({id:o[e.province].length,label:e.name})})),ae.current&&(p((function(e){return o})),s((function(e){return c})))}catch(i){console.error(i.message)}case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){return!0}}),[n]);var oe=function(){var e=N(i().mark((function e(t,n){var r,a,o,c,s,l,p,d,h,m,v,b,_,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.from,a=n.label,L([]),!Object.keys(n).includes("id")){e.next=74;break}e.t0=r,e.next="province"===e.t0?6:"municipality"===e.t0?12:"crop"===e.t0?40:"month"===e.t0?44:"cropstage"===e.t0?54:"activity"===e.t0?60:71;break;case 6:return J(Z({},G,{sel_province:n,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),Y(u[a]),q([]),Q([]),te([]),e.abrupt("break",72);case 12:return J(Z({},G,{sel_municipality:n,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),Q([]),te([]),e.prev=15,e.next=18,g(G.sel_province.label,a);case 18:o=e.sent,ae.current&&S((function(e){return o})),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(15),console.error(e.t1.message);case 25:return e.prev=25,e.next=28,x(G.sel_province.label,a);case 28:c=e.sent,s=[],c.map((function(e){return e.crop})).filter((function(e,t,n){return n.indexOf(e)==t})).forEach((function(e,t){s.push({id:t,label:e})})),q((function(e){return s})),ae.current&&A((function(e){return c})),e.next=39;break;case 36:e.prev=36,e.t2=e.catch(25),console.error(e.t2.message);case 39:return e.abrupt("break",72);case 40:return Q([]),te([]),J(Z({},G,{sel_crop:n,sel_stage:null,sel_activity:null,sel_month:null})),e.abrupt("break",72);case 44:return l=W[G.sel_province.label][n.id].label,p=W[G.sel_province.label][n.id].val,te([]),d=[],h=[],O.forEach((function(e,t){var r=Object.values(P.re).find((function(e){return e.format===n.label})).code;if(""!==e[r]&&e.crop===G.sel_crop.label)for(var i=e[r].split(","),a=0;a<i.length;a+=1)i[a].length>0&&!d.includes(i[a])&&(d.push(i[a]),h.push({id:h.length,label:P.MZ[i[a].toUpperCase()]}))})),m=0===h.length?{id:"novalues",label:"No crop stage for ".concat(a)}:null,Q(h),J(Z({},G,{sel_month:n,sel_stage:m,sel_activity:null,sel_condition:{label:l,id:p}})),e.abrupt("break",72);case 54:return v=[],b=R.filter((function(e){return e.stage===a&&e.crop===G.sel_crop.label})).map((function(e){return e.activity})).filter((function(e,t,n){return n.indexOf(e)==t})),J(Z({},G,{sel_stage:n,sel_activity:null})),b.forEach((function(e,t){v.push({id:t,label:e})})),te((function(e){return v})),e.abrupt("break",72);case 60:e.t3=regeneratorRuntime.keys(G);case 61:if((e.t4=e.t3()).done){e.next=67;break}if(_=e.t4.value,null!==G[_]||"sel_activity"===_){e.next=65;break}return e.abrupt("return");case 65:e.next=61;break;case 67:return y=R.filter((function(e){return e.activity===a&&e.stage===G.sel_stage.label&&e.crop===G.sel_crop.label})).map((function(e){return{province:e.province,municipality:e.municipality,crop:e.crop,stage:e.stage,activity:e.activity,recommendations:function(){switch(G.sel_condition.label){case P.MW.NORMAL:return JSON.parse(e.normal).map((function(e){return{id:f.find((function(t){return t.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return C.find((function(t){return t.id===e})).description}))}}));case P.MW.WETTER:return JSON.parse(e.wetter).map((function(e){return{id:f.find((function(t){return t.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return C.find((function(t){return t.id===e})).description}))}}));case P.MW.DRIER:return JSON.parse(e.drier).map((function(e){return{id:f.find((function(t){return t.id===e.id})).description,ul:e.ul,subs:e.subs.map((function(e){return C.find((function(t){return t.id===e})).description}))}}))}}}})),J(Z({},G,{sel_activity:n})),L(y),e.abrupt("break",72);case 71:return e.abrupt("break",72);case 72:e.next=75;break;case 74:"province"===r?(J(M),Y([]),q([]),Q([]),te([])):"municipality"===r?(J(Z({},G,{sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),q([]),Q([]),te([])):"crop"===r?(J(Z({},G,{sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null})),Q([]),te([])):"month"===r?(J(Z({},G,k({sel_month:null,sel_stage:null,sel_activity:null},"sel_activity",null))),Q([]),te([])):"cropstage"===r?(J(Z({},G,{sel_stage:null,sel_activity:null})),te([])):"activity"===r&&J(Z({},G,{sel_activity:null}));case 75:case"end":return e.stop()}}),e,null,[[15,22],[25,36]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,a.jsx)(T,{sel_options:G,provinces:c,recommendations:j,optsmunicipalities:H,optscrops:$,optscropstages:z,optsactivities:ee,optsmonths:re,conditions:[{id:"norm",label:"Normal Conditions"},{id:"wet",label:"Wetter than Normal Conditions"},{id:"dry",label:"Drier than Normal Conditions"}],onSelectItemChange:oe})}},4854:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{MW:function(){return a},re:function(){return c},tN:function(){return o},MZ:function(){return s}});var i,a={DRIER:"drier",NORMAL:"normal",WETTER:"wetter"},o=(r(i={},a.DRIER,"red"),r(i,a.NORMAL,"yellow"),r(i,a.WETTER,"blue"),i),c={JAN:{code:"jan",format:"January"},FEB:{code:"feb",format:"February"},MAR:{code:"mar",format:"March"},APR:{code:"apr",format:"April"},MAY:{code:"may",format:"May"},JUN:{code:"jun",format:"June"},JUL:{code:"jul",format:"July"},AUG:{code:"aug",format:"August"},SEP:{code:"sep",format:"September"},OCT:{code:"oct",format:"October"},NOV:{code:"nov",format:"November"},DEC:{code:"dec",format:"December"}},s={PREP:"Land Preparation",PLANT:"Planting",GROW:"Growing",HARV:"Harvesting"}}},function(e){e.O(0,[903,295,774,888,179],(function(){return t=7741,e(e.s=t);var t}));var t=e.O();_N_E=t}]);