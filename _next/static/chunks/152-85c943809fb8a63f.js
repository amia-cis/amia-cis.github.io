"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[152],{8152:function(e,t,n){n.d(t,{Zn:function(){return I},GR:function(){return Z},fL:function(){return H},pr:function(){return N},pl:function(){return L}});var r=n(4051),o=n.n(r),u=n(9669),c=n.n(u),a=n(9431);function i(e,t,n,r,o,u,c){try{var a=e[u](c),i=a.value}catch(f){return void n(f)}a.done?t(i):Promise.resolve(i).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function c(e){i(u,r,o,c,a,"next",e)}function a(e){i(u,r,o,c,a,"throw",e)}c(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function b(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var d=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var m={BASE_API_URL:"https://amia-cis.herokuapp.com/api",CREATE_REPORT:"".concat("https://amia-cis.herokuapp.com/api","/reports/seasonal/crops"),REPORTS_CROPS:"reports_crops"},O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,u=w(a);function a(){return s(this,a),u.apply(this,arguments)}return t=a,(n=[{key:"createReport",value:function(e){var t=this;return f(o().mark((function n(){var r,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObject({body:e});case 2:return r=n.sent,n.next=5,c()(y({},r,{url:m.CREATE_REPORT,method:"POST"}));case 5:return u=n.sent,n.abrupt("return",u.data);case 7:case"end":return n.stop()}}),n)})))()}},{key:"deleteReport",value:function(e){var t=this;return f(o().mark((function n(){var r,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={docId:e},n.next=3,t.createRequestObject({body:r});case 3:return u=n.sent,n.next=6,c()(y({},u,{url:m.CREATE_REPORT,method:"DELETE"}));case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))()}},{key:"previewBulletin",value:function(e){var t=this;return f(o().mark((function n(){var r,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObject({body:e,responseType:"blob"});case 2:return r=n.sent,n.next=5,c()(y({},r,{url:m.CREATE_REPORT,method:"POST"}));case 5:return u=n.sent,n.abrupt("return",u.data);case 7:case"end":return n.stop()}}),n)})))()}}])&&p(t.prototype,n),r&&p(t,r),a}(a.Z),R=n(4763);function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n,r,o,u,c){try{var a=e[u](c),i=a.value}catch(f){return void n(f)}a.done?t(i):Promise.resolve(i).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function c(e){_(u,r,o,c,a,"next",e)}function a(e){_(u,r,o,c,a,"throw",e)}c(void 0)}))}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function k(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?P(e):t}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}var S=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}var C="reports_crops",A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(n,e);var t=B(n);function n(){var e;x(this,n);var r=P(e=t.apply(this,arguments));g(P(e),"getBulletin",function(){var e=E(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getDocumentData(C,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var u=P(e);return g(P(e),"getBulletins",function(){var e=E(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.collection(u.db,C),r=u.query(n,u.where("uid","==",t)),e.next=4,u.getCollectionData(C,"",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e}return n}(R.Z),q=new O,D=new A,I=q.createReport.bind(q),Z=q.deleteReport.bind(q),L=q.previewBulletin.bind(q),H=D.getBulletin.bind(D),N=D.getBulletins.bind(D)},9431:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(4051),o=n.n(r),u=n(5152);function c(e,t,n,r,o,u,c){try{var a=e[u](c),i=a.value}catch(f){return void n(f)}a.done?t(i):Promise.resolve(i).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function a(e){c(u,r,o,a,i,"next",e)}function i(e){c(u,r,o,a,i,"throw",e)}a(void 0)}))}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"setAuthHeaders",value:function(e){return a(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,u.I8.currentUser.getIdToken(!0);case 4:n=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.message);case 10:e.headers.Authorization=n?"Bearer ".concat(n):"";case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},{key:"createRequestObject",value:function(e){var t=e.body,n=e.params,r=e.responseType,u=this;return a(o().mark((function e(){var c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{}},t&&(c.data=t),n&&(c.params=n),r&&(c.responseType=r),e.next=6,u.setAuthHeaders(c);case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))()}}])&&i(t.prototype,n),r&&i(t,r),e}()}}]);