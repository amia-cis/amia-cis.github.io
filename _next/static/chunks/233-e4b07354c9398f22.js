"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{9132:function(e,n){n.Z={tablecontainer:{marginTop:function(e){return e.spacing(1)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},borderRadius:function(e){return e.spacing(1)},boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},tablecell:{border:"1px solid",textAlign:"center"},subheader:{marginBottom:function(e){return e.spacing(4)},maxWidth:"800px",color:"gray"},labels:{fontSize:"12px",color:function(e){return e.palette.secondary.light}},legend:{margin:function(e){return e.spacing(1)},fontSize:"14px",display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},"& ul":{listStyle:"none","& li":{float:"left",marginRight:"10px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}}},caption:{color:function(e){return e.palette.text.secondary},"& a":{color:function(e){return e.palette.secondary.main},textDecoration:"none"},"& a:visited":{color:function(e){return e.palette.primary.dark}},"& a:hover, span:hover":{textDecoration:"underline"}}}},2509:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(5893),o=t(1163),a=t(7357),c=t(7906),i=t(295),u=t(3252),s=t(2882),l=t(3184),f=t(3816),d=t(5861),p=t(1033),b=t(8078),h={container:{minHeight:"200px",width:"100%",border:"2px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var m=function(e){var n=e.rows,t=void 0===n?3:n,o=e.cols,c=void 0===o?3:o;return(0,r.jsx)(a.Z,{sx:h.container,children:Array.from(Array(t).keys()).map((function(e,n){return(0,r.jsx)("div",{style:{margin:"2px",display:"flex"},children:Array.from(Array(c).keys()).map((function(e,n){return(0,r.jsx)(b.Z,{animation:"wave",variant:"rectangular",height:25,sx:{margin:"3px",width:"".concat(Math.round(100/c),"%")}},"col-".concat(n))}))},"row-".concat(n))}))})},x=t(7426),y=t(9132);var g=function(e){var n=e.weatherData,t=e.provinces,b=e.withBorder,h=void 0!==b&&b,g=e.fsLoading,v=void 0===g||g,w=(0,o.useRouter)(),j=function(e){var n="";try{n=t.filter((function(n){return n.province===e}))[0].format}catch(r){n="n/a"}return n},R=function(e){var n=e.children;return h?(0,r.jsx)(s.Z,{sx:y.Z.tablecontainer,children:n}):(0,r.jsx)(s.Z,{children:n})};return(0,r.jsx)("div",{children:v?(0,r.jsx)(m,{rows:7,cols:7}):n.length>0?(0,r.jsxs)(R,{children:[(0,r.jsxs)(c.Z,{sx:{minWidth:650},"aria-label":"simple table",size:"small",children:[(0,r.jsx)(l.Z,{children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(u.Z,{sx:{width:"20%"},children:"Province"}),n[0].mos.map((function(e,n){return(0,r.jsx)(u.Z,{sx:{textAlign:"center"},children:"".concat(e[0].toUpperCase()).concat(e.slice(1))},"".concat(e,"-").concat(n))}))]})}),(0,r.jsx)(i.Z,{children:n.map((function(e){return(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(u.Z,{children:j(e.name)}),e.months.map((function(e,n){return(0,r.jsx)(u.Z,{sx:{backgroundColor:x.tN[e.con],border:"1px solid",textAlign:"center",fontSize:"14px",padding:"10px"},children:e.val},"".concat(e.mo,"-").concat(n))}))]},e.name)}))})]}),(0,r.jsxs)(a.Z,{sx:y.Z.legend,children:[(0,r.jsxs)(d.Z,{component:"p",variant:"caption",sx:y.Z.caption,children:["Encoded from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",children:"Seasonal (Rainfall) Forecast"})," web page",(0,r.jsx)("br",{}),"by ","/admin/weather"===w.pathname?n[0].updated_by:"an admin"," on \xa0",n[0].date_created.toDate().toDateString()]}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:x.tN[x.MW.NORMAL.label]}}),x.MW.NORMAL.sync]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:x.tN[x.MW.DRIER.label]}}),x.MW.DRIER.sync]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:x.tN[x.MW.WETTER.label]}}),x.MW.WETTER.sync]})]})]})]}):(0,r.jsx)(p.Z,{})})}},1033:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(5893),o=t(5675),a=t(7357),c=t(5861),i=t(120),u={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var s=function(e){var n=e.message,t=void 0===n?"Failed to load data":n;return(0,r.jsxs)(a.Z,{sx:u.container,children:[(0,r.jsx)(o.default,{unoptimized:!0,src:(0,i.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:i.imageLoader,alt:"Empty data"}),(0,r.jsx)(c.Z,{variant:"subtitle1",children:t})]})}},1234:function(e,n,t){t.d(n,{vx:function(){return o},cp:function(){return a}});var r=new(t(560).D),o=(r.getWeatherForecast.bind(r),r.getSeasonalMonths.bind(r),r.getTenDayStats.bind(r)),a=r.getTenDayProvince.bind(r)},560:function(e,n,t){t.d(n,{M:function(){return y},D:function(){return g}});var r=t(4051),o=t.n(r),a=t(4763);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,n,t,r,o,a,c){try{var i=e[a](c),u=i.value}catch(s){return void t(s)}i.done?n(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)}))}}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}function b(e,n){return!n||"object"!==m(n)&&"function"!==typeof n?c(e):n}function h(e,n){return h=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},h(e,n)}var m=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return b(this,t)}}var y={WEATHER_FORECASTS:"weather_forecasts",SUB_SEASONAL:"seasonal",SUB_TEN_DAY:"ten_day"},g=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&h(e,n)}(i,e);var n,t,r,a=x(i);function i(){var e;s(this,i);var n=c(e=a.apply(this,arguments));return f(c(e),"getWeatherForecast",function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getNestedCollectionData(y.WEATHER_FORECASTS,t,r,"name");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),e}return n=i,(t=[{key:"getSeasonalMonths",value:function(){var e=this;return u(o().mark((function n(){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query(e.collection(e.db,y.WEATHER_FORECASTS,"bicol","seasonal"),e.orderBy("name"),e.limit(1)),n.next=3,e.getDocs(t);case 3:return r=n.sent,a=r.docs.map((function(e){return p({},e.data())})),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))()}},{key:"getTenDayStats",value:function(){var e=this;return u(o().mark((function n(){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query(e.collection(e.db,y.WEATHER_FORECASTS,"bicol","ten_day"),e.orderBy("name"),e.limit(1)),n.next=3,e.getDocs(t);case 3:return r=n.sent,a=r.docs.map((function(e){return p({},e.data())})),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))()}},{key:"getTenDayProvince",value:function(e){var n=this;return u(o().mark((function t(){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.query(n.collection(n.db,y.WEATHER_FORECASTS,"bicol","ten_day"),n.where("name","==",e)),t.next=3,n.getDocs(r);case 3:return a=t.sent,t.abrupt("return",a.docs.map((function(e){return p({},e.data())})));case 5:case"end":return t.stop()}}),t)})))()}}])&&l(n.prototype,t),r&&l(n,r),i}(a.Z)},7426:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{MW:function(){return a},re:function(){return i},tN:function(){return c},MZ:function(){return u}});var o,a={DRIER:{label:"drier",sync:"Way Below Normal"},NORMAL:{label:"normal",sync:"Below to Near Normal"},WETTER:{label:"wetter",sync:"Above Normal"}},c=(r(o={},a.DRIER.label,"red"),r(o,a.NORMAL.label,"yellow"),r(o,a.WETTER.label,"blue"),o),i={JAN:{code:"jan",format:"January"},FEB:{code:"feb",format:"February"},MAR:{code:"mar",format:"March"},APR:{code:"apr",format:"April"},MAY:{code:"may",format:"May"},JUN:{code:"jun",format:"June"},JUL:{code:"jul",format:"July"},AUG:{code:"aug",format:"August"},SEP:{code:"sep",format:"September"},OCT:{code:"oct",format:"October"},NOV:{code:"nov",format:"November"},DEC:{code:"dec",format:"December"}},u={PREP:"Land Preparation",PLANT:"Planting",GROW:"Growing",HARV:"Harvesting"}}}]);