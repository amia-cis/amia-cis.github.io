"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6454],{7682:function(t,e,n){n.d(e,{ky:function(){return l},Kx:function(){return v},m$:function(){return h},tl:function(){return d}});var r=n(4051),u=n.n(r),c=n(7294),o=n(5321),a=n(5152);function i(t,e,n,r,u,c,o){try{var a=t[c](o),i=a.value}catch(s){return void n(s)}a.done?e(i):Promise.resolve(i).then(r,u)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,u){var c=t.apply(e,n);function o(t){i(c,r,u,o,a,"next",t)}function a(t){i(c,r,u,o,a,"throw",t)}o(void 0)}))}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){f(t,e,n[e])}))}return t}function l(t,e){var n=(0,c.useState)(null),r=n[0],i=n[1],f=(0,c.useState)(!0),p=f[0],l=f[1],v=(0,c.useState)(""),h=v[0],d=v[1],y=(0,c.useRef)(!0);return(0,c.useEffect)((function(){var n=function(){var n=s(u().mark((function n(){var r,c;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=(0,o.JU)(a.db,t,e),n.next=4,(0,o.QT)(r);case 4:(c=n.sent).exists()&&y.current&&(i(c.data()),l(!1)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),d(n.t0.message),l(!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return y.current=!1}}),[t,e]),[r,p,h]}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(0,c.useState)([]),i=r[0],f=r[1],l=(0,c.useState)(!0),v=l[0],h=l[1],d=(0,c.useState)(""),y=d[0],b=d[1],O=(0,c.useRef)(!0);return(0,c.useEffect)((function(){var r=function(){var r=s(u().mark((function r(){var c,i,s;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c=(0,o.hJ)(a.db,t),i=n||(0,o.IO)(c,(0,o.Xo)(e,"asc")),r.next=5,(0,o.PL)(i);case 5:s=r.sent,O.current&&(f(s.docs.map((function(t){return p({},t.data())}))),h(!1)),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),b(r.t0.message),h(!1);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();return r(),function(){return O.current=!1}}),[t,e,n]),{documents:i,loading:v,error:y}}function h(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(0,c.useState)([]),f=i[0],l=i[1],v=(0,c.useState)(!0),h=v[0],d=v[1],y=(0,c.useState)(""),b=y[0],O=y[1],m=(0,c.useRef)(!0);return(0,c.useEffect)((function(){var c=function(){var c=s(u().mark((function c(){var i,s;return u().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=(0,o.IO)((0,o.hJ)(a.db,t,e,n),(0,o.Xo)(r)),u.next=4,(0,o.PL)(i);case 4:s=u.sent,m.current&&(l(s.docs.map((function(t){return p({},t.data())}))),d(!1)),u.next=12;break;case 8:u.prev=8,u.t0=u.catch(0),O(u.t0.message),d(!1);case 12:case"end":return u.stop()}}),c,null,[[0,8]])})));return function(){return c.apply(this,arguments)}}();return c(),function(){return m.current=!1}}),[t,e,n,r]),{documents:f,loading:h,error:b}}function d(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0,f=(0,c.useState)([]),l=f[0],v=f[1],h=(0,c.useState)(!0),d=h[0],y=h[1],b=(0,c.useState)(""),O=b[0],m=b[1],w=(0,c.useRef)(!0);return(0,c.useEffect)((function(){var c=function(){var c=s(u().mark((function c(){var s,f;return u().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,s=(0,o.hJ)(a.db,t,e,n),""!==r&&(s=(0,o.IO)(s,(0,o.Xo)(r))),i&&(s=(0,o.IO)(s,(0,o.b9)(i))),u.next=6,(0,o.PL)(s);case 6:f=u.sent,w.current&&(v(f.docs.map((function(t){return p({},t.data())}))),y(!1)),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(0),m(u.t0.message),y(!1);case 14:case"end":return u.stop()}}),c,null,[[0,10]])})));return function(){return c.apply(this,arguments)}}();return c(),function(){return w.current=!1}}),[t,e,n,r,i]),{documents:l,loading:d,error:O}}},1029:function(t,e,n){n.d(e,{K:function(){return O},d:function(){return m}});var r=n(4051),u=n.n(r),c=n(4763),o=n(5152),a=n(7426);function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e,n,r,u,c,o){try{var a=t[c](o),i=a.value}catch(s){return void n(s)}a.done?e(i):Promise.resolve(i).then(r,u)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,u){var c=t.apply(e,n);function o(t){s(c,r,u,o,a,"next",t)}function a(t){s(c,r,u,o,a,"throw",t)}o(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function h(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?i(t):e}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var y=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var u=v(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return h(this,n)}}var O={MEDIA_ASSETS:"n_page_media",PAGE_SEARCH:"n_page_search",GLOBAL_COLLECTIONS:"w_services",TYPHOON_ADVISORY:"typhoon_advisory",CYCLONE_ADVISORY:"cyclone_advisory"},m=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,t);var e=b(n);function n(){var t;p(this,n);var r=i(t=e.apply(this,arguments));l(i(t),"getPageMediaAssets",function(){var t=f(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,r.getCollectionData(O.MEDIA_ASSETS,"filename");case 4:n=t.sent,t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(1),console.error(t.t0.message),new Error(t.t0.message);case 11:return t.abrupt("return",n.length>0?n.filter((function(t){return t.page===e})).map((function(t){return t.url})):n);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}());var c=i(t);l(i(t),"getTyphoonAdvisory",f(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.doc(c.db,O.GLOBAL_COLLECTIONS,O.TYPHOON_ADVISORY),t.next=3,c.getDoc(e);case 3:if(!(n=t.sent).exists()){t.next=6;break}return t.abrupt("return",n.data());case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)}))));var s=i(t);return l(i(t),"getWeatherForecast",function(){var t=f(u().mark((function t(e,n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getNestedCollectionData(O.WEATHER_FORECASTS,e,n,"name");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),l(i(t),"getPdfDownloadURL",function(){var t=f(u().mark((function t(e){var n,r,c,i=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:a.Ry.SEASONAL,r=n===a.Ry.SEASONAL?a.Do.PDF_STORAGE_SEASONAL:a.Do.PDF_STORAGE_TENDAY,t.prev=2,c=(0,o.iH)(o.tO,"".concat(r,"/").concat(e)),t.next=6,(0,o.Jt)(c);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(2),new Error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()),t}return n}(c.Z)}}]);