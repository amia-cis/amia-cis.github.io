"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1343],{9132:function(e,n){n.Z={tablecontainer:{marginTop:function(e){return e.spacing(1)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},borderRadius:function(e){return e.spacing(1)},boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},table:{"& td":{border:function(e){return"1px solid ".concat(e.palette.bacap.border)}}},headerMonths:{textAlign:"center",borderBottom:"none",borderLeft:function(e){return"1px solid ".concat(e.palette.bacap.border)}},headerSub:{width:"5%",borderLeft:function(e){return"1px solid ".concat(e.palette.bacap.border)}},tablecell:{border:"1px solid",textAlign:"center"},subheader:{marginBottom:function(e){return e.spacing(3)},maxWidth:"800px",color:"gray"},labels:{fontSize:"12px",color:function(e){return e.palette.secondary.light}},legend:{margin:function(e){return e.spacing(1)},fontSize:"14px",display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"baseline"},"& ul":{listStyle:"none","& li":{marginRight:"10px"},span:{border:"1px solid #ccc",float:"left",width:"12px",height:"12px",margin:"4px"}},"& .wb_normal":{backgroundColor:"red",color:"#fff"},"& .b_normal":{backgroundColor:"yellow"},"& .near_normal":{backgroundColor:"#00c300"},"& .above_normal":{backgroundColor:"blue",color:"#fff"}}}},1343:function(e,n,t){t.d(n,{Z:function(){return P}});var r=t(5893),a=t(7294),o=t(9473),c=t(1163),i=t(7357),l=t(7906),s=t(295),u=t(3252),d=t(2882),f=t(3184),p=t(3816),b=t(1033),h=t(8078),x={container:{minHeight:"200px",width:"100%",border:"2px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var m=function(e){var n=e.rows,t=void 0===n?3:n,a=e.cols,o=void 0===a?3:a;return(0,r.jsx)(i.Z,{sx:x.container,children:Array.from(Array(t).keys()).map((function(e,n){return(0,r.jsx)("div",{style:{margin:"2px",display:"flex"},children:Array.from(Array(o).keys()).map((function(e,n){return(0,r.jsx)(h.Z,{animation:"wave",variant:"rectangular",height:25,sx:{margin:"3px",width:"".concat(Math.round(100/o),"%")}},"col-".concat(n))}))},"row-".concat(n))}))})},g=t(7426),j=t(901),y=t(3894),v=t(213);function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Z=(0,t(1496).ZP)((function(e){return(0,r.jsx)(p.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}({},e))}))((function(e){return{"& th":{fontSize:"11px",textAlign:"center",lineHeight:e.theme.spacing(2),padding:"2px"}}})),S=t(9132);function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var _={updated_by:"-",date_created:"",monthLabels:[]};var P=function(e){var n=e.withBorder,t=void 0!==n&&n,h=(0,a.useState)(_),x=h[0],w=h[1],P=(0,a.useState)(!1),k=P[0],A=P[1],E=(0,o.v9)((function(e){return e.provinces.entities})),L=(0,a.useRef)(!1),C=(0,c.useRouter)(),z=(0,o.I0)();(0,a.useEffect)((function(){return L.current=!0,function(){L.current=!1}}),[]);var F=(0,o.v9)((function(e){return e.seasonalweather})),D=F.ids,N=F.status,R=F.entities;(0,a.useEffect)((function(){z((0,y.Y)()).unwrap().then((function(){L.current&&A(!0)}))}),[z]),(0,a.useEffect)((function(){if(N===j.G.FULLFILLED&&D.length>0&&k){var e=R[D[0]];if(!L.current)return;w((function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}({},n,{updated_by:"/admin/weather"===C.pathname?e.updated_by:"an admin",update_method:e.update_method,date_created:e.date_created,monthLabels:e.months.map((function(e){return"".concat(e.mo.charAt(0).toUpperCase()).concat(e.mo.slice(1)," ").concat(e.year)}))})}))}}),[R,N,D,C.pathname,k]);var G=function(e){var n="";if(0===Object.values(E).length)return"n/a";try{n=Object.values(E).find((function(n){return n.name===e})).label}catch(t){n="n/a"}return n},I=function(e){var n=e.children;return t?(0,r.jsx)(d.Z,{sx:S.Z.tablecontainer,children:n}):(0,r.jsx)(d.Z,{children:n})};return(0,r.jsx)("div",{children:N===j.G.PENDING?(0,r.jsx)(m,{rows:7,cols:7}):D.length>0?(0,r.jsxs)(I,{sx:{width:"650px"},children:[(0,r.jsxs)(l.Z,{"aria-label":"simple table",size:"small",sx:S.Z.table,children:[(0,r.jsxs)(f.Z,{children:[(0,r.jsxs)(Z,{children:[(0,r.jsx)(u.Z,{sx:{width:"20%"},rowSpan:2,children:"Province"}),x.monthLabels.map((function(e,n){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.Z,{sx:S.Z.headerMonths,colSpan:3,children:e},"".concat(e,"-").concat(n))})}))]}),(0,r.jsx)(Z,{children:x.monthLabels.map((function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{sx:S.Z.headerSub,children:"Normal (mm)"}),(0,r.jsx)(u.Z,{sx:{width:"5%"},children:"Forecast (mm)"}),(0,r.jsx)(u.Z,{sx:{width:"5%"},children:"% of Normal"})]})}))})]}),(0,r.jsx)(s.Z,{children:Object.values(R).map((function(e){return(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(u.Z,{sx:{fontSize:"12px"},children:G(e.name)}),e.months.map((function(e,n){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{sx:{fontSize:"11px"},children:e.normal}),(0,r.jsx)(u.Z,{sx:{fontSize:"11px"},children:"-"}),(0,r.jsx)(u.Z,{sx:O({backgroundColor:g.tN[e.con],textAlign:"center",fontSize:"14px",padding:"10px",color:["above_normal","wb_normal"].includes(e.con)?"#fff":"#000"},"fontSize","11px"),children:e.val},"".concat(e.mo,"-").concat(n))]})}))]},e.name)}))})]}),(0,r.jsxs)(i.Z,{sx:S.Z.legend,children:[x.update_method===g.o7.EXCEL?(0,r.jsxs)(v.Z,{children:["Updated via file upload of PAGASA's shared seasonal weather",(0,r.jsx)("br",{})," forecast excel file by ",x.updated_by," on \xa0",x.date_created,".",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Full reference is available on PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",target:"_blank",rel:"noreferrer",children:"Seasonal (Rainfall) Forecast"})," web page."]}):(0,r.jsxs)(v.Z,{children:["Encoded with reference from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",target:"_blank",rel:"noreferrer",children:"Seasonal (Rainfall) Forecast"})," web page ",(0,r.jsx)("br",{}),"by ",x.updated_by," on \xa0",x.date_created]}),(0,r.jsx)("ul",{children:Object.values(g.MW).map((function(e){return(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{style:{backgroundColor:g.tN[e.label]}}),e.sync," (",e.content,")"]},e.id)}))})]})]}):(0,r.jsx)(b.Z,{})})}},213:function(e,n,t){var r=t(5893),a=t(5861);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=(0,t(1496).ZP)((function(e){return(0,r.jsx)(a.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var n=e.theme;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));n.Z=c},1033:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(5893),a=t(5675),o=t(7357),c=t(5861),i=t(120),l={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var s=function(e){var n=e.message,t=void 0===n?"Failed to load data":n,s=e.style,u=void 0===s?{}:s;return(0,r.jsxs)(o.Z,{sx:l.container,style:u,children:[(0,r.jsx)(a.default,{unoptimized:!0,src:(0,i.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:i.imageLoader,alt:"Empty data"}),(0,r.jsx)(c.Z,{variant:"subtitle1",children:t})]})}}}]);