"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6529],{6863:function(e,n,i){i.d(n,{Z:function(){return f}});var t=i(3366),o=i(7462),r=i(7294),a=i(6010),l=i(7192),s=i(1796),d=i(8216),c=i(1496),u=i(3616),p=i(8979);function h(e){return(0,p.Z)("MuiButtonGroup",e)}var x=(0,i(6087).Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),b=i(8363),g=i(5893);const m=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],v=(0,c.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[{[`& .${x.grouped}`]:n.grouped},{[`& .${x.grouped}`]:n[`grouped${(0,d.Z)(i.orientation)}`]},{[`& .${x.grouped}`]:n[`grouped${(0,d.Z)(i.variant)}`]},{[`& .${x.grouped}`]:n[`grouped${(0,d.Z)(i.variant)}${(0,d.Z)(i.orientation)}`]},{[`& .${x.grouped}`]:n[`grouped${(0,d.Z)(i.variant)}${(0,d.Z)(i.color)}`]},n.root,n[i.variant],!0===i.disableElevation&&n.disableElevation,i.fullWidth&&n.fullWidth,"vertical"===i.orientation&&n.vertical]}})((({theme:e,ownerState:n})=>(0,o.Z)({display:"inline-flex",borderRadius:e.shape.borderRadius},"contained"===n.variant&&{boxShadow:e.shadows[2]},n.disableElevation&&{boxShadow:"none"},n.fullWidth&&{width:"100%"},"vertical"===n.orientation&&{flexDirection:"column"},{[`& .${x.grouped}`]:(0,o.Z)({minWidth:40,"&:not(:first-of-type)":(0,o.Z)({},"horizontal"===n.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===n.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===n.variant&&"horizontal"===n.orientation&&{marginLeft:-1},"outlined"===n.variant&&"vertical"===n.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,o.Z)({},"horizontal"===n.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===n.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===n.variant&&"horizontal"===n.orientation&&{borderRight:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"vertical"===n.orientation&&{borderBottom:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===n.variant&&"inherit"!==n.color&&{borderColor:(0,s.Fq)(e.palette[n.color].main,.5)},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"transparent"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"transparent"},"contained"===n.variant&&"horizontal"===n.orientation&&{borderRight:`1px solid ${e.palette.grey[400]}`,[`&.${x.disabled}`]:{borderRight:`1px solid ${e.palette.action.disabled}`}},"contained"===n.variant&&"vertical"===n.orientation&&{borderBottom:`1px solid ${e.palette.grey[400]}`,[`&.${x.disabled}`]:{borderBottom:`1px solid ${e.palette.action.disabled}`}},"contained"===n.variant&&"inherit"!==n.color&&{borderColor:e.palette[n.color].dark},{"&:hover":(0,o.Z)({},"outlined"===n.variant&&"horizontal"===n.orientation&&{borderRightColor:"currentColor"},"outlined"===n.variant&&"vertical"===n.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,o.Z)({},"contained"===n.variant&&{boxShadow:"none"})},"contained"===n.variant&&{boxShadow:"none"})})));var f=r.forwardRef((function(e,n){const i=(0,u.Z)({props:e,name:"MuiButtonGroup"}),{children:s,className:c,color:p="primary",component:x="div",disabled:f=!1,disableElevation:Z=!1,disableFocusRipple:j=!1,disableRipple:y=!1,fullWidth:w=!1,orientation:C="horizontal",size:R="medium",variant:S="outlined"}=i,P=(0,t.Z)(i,m),O=(0,o.Z)({},i,{color:p,component:x,disabled:f,disableElevation:Z,disableFocusRipple:j,disableRipple:y,fullWidth:w,orientation:C,size:R,variant:S}),_=(e=>{const{classes:n,color:i,disabled:t,disableElevation:o,fullWidth:r,orientation:a,variant:s}=e,c={root:["root",s,"vertical"===a&&"vertical",r&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${(0,d.Z)(a)}`,`grouped${(0,d.Z)(s)}`,`grouped${(0,d.Z)(s)}${(0,d.Z)(a)}`,`grouped${(0,d.Z)(s)}${(0,d.Z)(i)}`,t&&"disabled"]};return(0,l.Z)(c,h,n)})(O),k=r.useMemo((()=>({className:_.grouped,color:p,disabled:f,disableElevation:Z,disableFocusRipple:j,disableRipple:y,fullWidth:w,size:R,variant:S})),[p,f,Z,j,y,w,R,S,_.grouped]);return(0,g.jsx)(v,(0,o.Z)({as:x,role:"group",className:(0,a.Z)(_.root,c),ref:n,ownerState:O},P,{children:(0,g.jsx)(b.Z.Provider,{value:k,children:s})}))}))},8951:function(e,n,i){i.d(n,{Z:function(){return b}});var t=i(3366),o=i(7462),r=i(7294),a=i(7192),l=i(1496),s=i(3616),d=i(5861),c=i(8979);function u(e){return(0,c.Z)("MuiDialogContentText",e)}(0,i(6087).Z)("MuiDialogContentText",["root"]);var p=i(5893);const h=["children"],x=(0,l.ZP)(d.Z,{shouldForwardProp:e=>(0,l.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({});var b=r.forwardRef((function(e,n){const i=(0,s.Z)({props:e,name:"MuiDialogContentText"}),r=(0,t.Z)(i,h),l=(e=>{const{classes:n}=e,i=(0,a.Z)({root:["root"]},u,n);return(0,o.Z)({},n,i)})(r);return(0,p.jsx)(x,(0,o.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:r},i,{classes:l}))}))},7070:function(e,n,i){i(7294);var t=i(2066),o=i(5893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},6686:function(e,n,i){i(7294);var t=i(2066),o=i(5893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},3080:function(e,n,i){var t=i(5893),o=i(7357),r=i(8456);n.Z=function(e){var n=e.text,i=void 0===n?"":n,a=e.size,l=void 0===a?24:a,s=e.children;return(0,t.jsxs)(o.Z,{sx:{width:"100%",textAlign:"center",height:"20vh"},children:[(0,t.jsxs)(o.Z,{sx:{width:"100%",textAlign:"center",marginTop:function(e){return e.spacing(12)},marginBottom:"32px",display:"flex",justifyContent:"center"},children:[(0,t.jsx)("span",{children:""!==i?i:"Loading..."})," \xa0",(0,t.jsx)(r.Z,{size:l})]}),s]})}},4824:function(e,n,i){var t=i(5893),o=i(7294),r=i(1163),a=i(5697),l=i.n(a),s=i(1664),d=i(5675),c=i(6295),u=i(7357),p=i(8456),h=i(1057),x=i(6863),b=i(657),g=i(1425),m=i(6580),v=i(8951),f=i(7645),Z=i(7720),j=i(6886),y=i(1903),w=i(5861),C=i(8409),R=i(44),S=i(7426),P=i(120),O=i(1033),_=i(3080),k=i(9758),z=i(2757);function T(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function E(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},t=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),t.forEach((function(n){T(e,n,i[n])}))}return e}function F(e,n){if(null==e)return{};var i,t,o=function(e,n){if(null==e)return{};var i,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||(o[i]=e[i]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var B=[{key:"sel_province",label:"Province"},{key:"sel_municipality",label:"Municipality"},{key:"sel_crop",label:"Crop"},{key:"sel_month",label:"Months"},{key:"sel_stage",label:"Crop Stages"},{key:"sel_activity",label:"Activities"}];n.Z=function(e){var n=function(e){var n=e.children,i=e.value,o=e.index,r=F(e,["children","value","index"]);return(0,t.jsx)("div",E({role:"tabpanel",hidden:i!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o)},r,{children:i===o&&(0,t.jsx)(u.Z,{sx:{p:3},children:n})}))},i=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},a=(0,o.useRef)(!0),T=(0,r.useRouter)(),$=(0,o.useState)(0),M=$[0],W=$[1],L=e.sel_options,D=e.provinces,A=e.recommendations,V=e.onSelectItemChange,N=e.optsmunicipalities,I=e.optscrops,q=e.optsmonths,G=e.open,H=e.pdfPreview,K=e.handleSave,Y=e.handlePreview,J=e.toggleViewerOpen;(0,o.useEffect)((function(){return a.current=!0,function(){a.current=!1}}),[]);var Q=function(){var e="Loading...";return D.length>0&&(e=null===L.sel_province?"Select a province":"Province"),e};return n.propTypes={children:l().node,index:l().number.isRequired,value:l().number.isRequired},(0,t.jsxs)("div",{children:[(0,t.jsxs)(b.Z,{open:G.savesuccess,"aria-labelledby":"data-saved-success","aria-describedby":"alert-dialog-description",children:[(0,t.jsx)(f.Z,{id:"data-saved-success",children:"Success"}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(v.Z,{id:"alert-dialog-description",children:"Success! Bulletin report created."})}),(0,t.jsx)(g.Z,{children:(0,t.jsx)(h.Z,{onClick:function(){T.push("/admin/bulletins/crops/seasonal/view/?docId=".concat(G.docId))},autoFocus:!0,children:"OK"})})]}),(0,t.jsxs)(b.Z,{open:G.preview,maxWidth:"lg",fullWidth:!0,"aria-labelledby":"data-saved-success","aria-describedby":"alert-dialog-description",children:[(0,t.jsx)(f.Z,{id:"data-saved-success",children:""!==H.filename?"Bulletin Preview - ".concat(H.filename):"Bulletin Preview"}),(0,t.jsx)(m.Z,{sx:{padding:0,overflow:"hidden"},children:(0,t.jsx)(u.Z,{id:"alert-dialog-description",children:L.loading?(0,t.jsx)("div",{style:{width:"100%",height:"90vh",textAlign:"center"},children:(0,t.jsx)(_.Z,{text:"Loading Preview...",children:(0,t.jsx)(d.default,{unoptimized:!0,src:(0,P.assetPrefixer)("images/icons/data-processing-128.png"),height:100,width:100,loader:P.imageLoader,alt:"Loading Preview"})})}):""!==L.error?(0,t.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,t.jsx)(O.Z,{message:L.error})}):(0,t.jsx)("embed",{src:H.url,style:{width:"100%",height:"70vh"}})})}),(0,t.jsx)(g.Z,{children:(0,t.jsx)(h.Z,{variant:"contained",onClick:J,autoFocus:!0,children:"OK"})})]}),(0,t.jsxs)(j.ZP,{container:!0,sx:z.Z.container,children:[(0,t.jsxs)(u.Z,{sx:{marginBottom:"32px"},children:[(0,t.jsx)(w.Z,{variant:"h5",children:"Regional Seasonal Climate Outlook and Advisory Crop Recommendations Bulletin"}),(0,t.jsxs)("p",{children:["Create ",(0,t.jsx)("strong",{children:"Seasonal"})," crop recommendations bulletins. Finalized bulletins will be automatically uploaded to the site for public download."]})]}),(0,t.jsxs)(j.ZP,{item:!0,sx:z.Z.item,xs:12,lg:4,children:[(0,t.jsx)(w.Z,{variant:"h6",children:"Selection Options"}),(0,t.jsx)(c.Z,{disablePortal:!0,id:"province",value:L.sel_province,disabled:0===D.length||L.loading,options:D,sx:z.Z.autocomplete,size:"small",PaperComponent:k.Z,renderInput:function(e){return(0,t.jsx)(y.Z,E({},e,{label:Q()}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return V(e,E({},n,{from:"province"}))}}),(0,t.jsx)(c.Z,{disablePortal:!0,id:"municipality",value:L.sel_municipality,disabled:0===N.length||L.loading,options:N,sx:z.Z.autocomplete,size:"small",PaperComponent:k.Z,renderInput:function(e){return(0,t.jsx)(y.Z,E({},e,{label:null===L.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return V(e,E({},n,{from:"municipality"}))}}),(0,t.jsx)(c.Z,{disablePortal:!0,id:"crop",value:L.sel_crop,disabled:0===I.length||L.loading,options:I,sx:z.Z.autocomplete,size:"small",PaperComponent:k.Z,renderInput:function(e){return(0,t.jsx)(y.Z,E({},e,{label:null===L.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return V(e,E({},n,{from:"crop"}))}}),(0,t.jsx)(c.Z,{disablePortal:!0,id:"month",value:L.sel_month,disabled:0===q.length||0===I.length||L.loading||null===L.sel_crop,options:q,sx:z.Z.autocomplete,size:"small",PaperComponent:k.Z,renderInput:function(e){return(0,t.jsx)(y.Z,E({},e,{label:null===L.sel_month?"Select a Month":"Month"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,n){return V(e,E({},n,{from:"month"}))}})]}),(0,t.jsx)(j.ZP,{item:!0,sx:z.Z.item,xs:12,lg:8,children:(0,t.jsxs)(u.Z,{sx:z.Z.selectionSummary,children:[(0,t.jsx)(w.Z,{variant:"h6",children:"Selection Summary"}),null===L.sel_province?(0,t.jsxs)(u.Z,{sx:z.Z.welcome,children:[(0,t.jsx)(d.default,{unoptimized:!0,src:(0,P.assetPrefixer)("images/icons/finance.svg"),height:85,width:85,loader:P.imageLoader,alt:"Empty data"}),(0,t.jsxs)(u.Z,{sx:{marginTop:"16px"},children:[(0,t.jsx)(w.Z,{variant:"subtitle2",children:"Crop Recommendations PDF Bulletins Creator"}),(0,t.jsx)(w.Z,{variant:"subtitle2",children:"Please select a province to start."})]})]}):(0,t.jsx)(u.Z,{sx:z.Z.summary,children:B.map((function(e,n){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(w.Z,{variant:"subtitle2",style:{display:"inline-block"},children:[e.label,": \xa0"]}),(0,t.jsx)(w.Z,{variant:"body2",style:{display:"inline-block"},children:null!==L[e.key]?["sel_stage","sel_activity"].includes(e.key)?L[e.key].map((function(n,i){return"".concat(n.label).concat(i<L[e.key].length-1?", ":"")})):L[e.key].label:""})]},"selected-".concat(n))}))})]})})]}),(0,t.jsxs)(j.ZP,{container:!0,sx:z.Z.container,gap:3,style:{marginTop:"24px"},children:[(0,t.jsxs)(j.ZP,{item:!0,sx:z.Z.item,xs:12,lg:12,children:[(0,t.jsx)(w.Z,{variant:"h6",children:"Crop Recommendations"}),A.length>0&&(0,t.jsxs)(u.Z,{children:[(0,t.jsxs)(u.Z,{sx:{display:{md:"block",lg:"flex"}},children:[(0,t.jsxs)(w.Z,{variant:"h5",sx:{display:0===L.sel_activity.length?"none":"block",flexGrow:{xs:12,sm:3}},children:[L.sel_crop.label," Recommendations"]}),(0,t.jsx)(u.Z,{sx:{flexGrow:{xs:12,sm:1}},children:null!==L.sel_month&&(0,t.jsxs)(u.Z,{sx:z.Z.conditionLegend,style:{color:[S.MW.ABOVE_NORMAL.label,S.MW.WAY_BELOW_NORMAL.label].includes(L.sel_condition.label)?"#fff":"#000",backgroundColor:S.tN[L.sel_condition.label]},children:[(0,t.jsx)(w.Z,{variant:"subtitle2",children:"Seasonal Weather Condition"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:L.sel_month.label})," \xa0",(0,t.jsxs)("span",{children:[L.sel_condition.format," ","(",L.sel_condition.id,"%)"]})]})]})})]}),(0,t.jsxs)(u.Z,{sx:{width:"100%",marginTop:{xs:"85px",lg:"0px"}},children:[(0,t.jsx)(u.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,t.jsxs)(C.Z,{value:M,onChange:function(e,n){W(n)},"aria-label":"basic tabs example",children:[(0,t.jsx)(R.Z,E({label:"PDF FORM"},i(0))),(0,t.jsx)(R.Z,E({label:"SMS FORM"},i(1)))]})}),(0,t.jsx)(n,{value:M,index:0,children:A.map((function(e,n){var i="Rice"===L.sel_crop.label?"(".concat(e.crop,")"):"";return(0,t.jsxs)(u.Z,{sx:z.Z.recSeasonal,children:[(0,t.jsxs)(w.Z,{variant:"h5",children:[e.stage," - ",e.activity," ",i]}),e.recommendations().map((function(e,i){return e.ul?(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:e.id}),e.subs.length>0&&(0,t.jsx)("ul",{children:e.subs.map((function(e,i){return(0,t.jsx)("li",{children:e},"sub-".concat(n,"-").concat(i))}))})]},"main-".concat(n,"-").concat(i)):(0,t.jsx)("p",{children:e.id},"main-".concat(n,"-").concat(i))}))]},"rec-".concat(n))}))}),(0,t.jsx)(n,{value:M,index:1,children:A.reduce((function(e,n){return e+=n.smsRecommendations()+" "}),"")})]})]})]}),(0,t.jsxs)(u.Z,{sx:{marginBottom:"16px",width:"100%",display:A.length>0?"block":"none"},children:[(0,t.jsx)("br",{}),(0,t.jsx)(Z.Z,{}),(0,t.jsx)("br",{}),""!==L.error&&(0,t.jsxs)(w.Z,{variant:"caption",sx:{color:"red"},children:["Error: ",L.error]}),(0,t.jsxs)(x.Z,{size:"large","aria-label":"large button group",sx:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:[(0,t.jsx)(s.default,{href:"/admin/bulletins/crops",passHref:!0,children:(0,t.jsx)(h.Z,{disabled:L.loading,children:"Cancel"})}),(0,t.jsxs)(h.Z,{disabled:L.loading,onClick:Y,children:[(0,t.jsx)("span",{style:{display:L.loading?"none":"block"},children:"Preview"})," ","\xa0",(0,t.jsx)(p.Z,{size:20,color:"secondary",sx:{display:L.loading?"block":"none"}})]}),(0,t.jsx)(h.Z,{variant:"contained",onClick:K,disableElevation:!0,disabled:L.loading,children:"Save"})]})]})]})]})}},2757:function(e,n){n.Z={container:{padding:"24px",width:"100%",position:"relative",minWidth:"0px",overflowWrap:"break-word",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",borderRadius:"16px",borderColor:"#E2E8F0"},welcome:{border:"1px solid #DCEDC8",borderRadius:function(e){return e.spacing(1)},width:"100%",display:"grid",placeContent:"center",padding:"20px",marginTop:function(e){return e.spacing(1)},textAlign:"center","& h6":{lineHeight:"20px"}},summary:{border:"1px solid #DCEDC8",borderRadius:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(1)},padding:function(e){return e.spacing(3)}},selectionSummary:{minWidth:"100%",paddingLeft:{xs:0,lg:"16px"}},conditionLegend:{borderRadius:function(e){return e.spacing(1)},width:"100%",padding:function(e){return e.spacing(1)},border:"1px solid grey",textAlign:"center",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",float:"left"},autocomplete:{marginTop:function(e){return e.spacing(1)}},recSeasonal:{marginTop:function(e){return e.spacing(1)},"& p, ul":{fontSize:"14px"}},button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",width:"80px",height:{xs:"40px",sm:"50px"}},pdfcontent:{ul:{paddingLeft:3}}}}}]);